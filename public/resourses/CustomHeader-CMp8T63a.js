import{_ as f,T as y,F as g,c6 as k,b as T,e as s,f as a,g as p,N as w,c3 as E,a0 as u,a1 as v,W as B,t as o,x,j as c,O as h,i as d,p as _,k as S}from"./index-4ykL4QJn.js";const q={mixins:[y,g],name:"CustomHeader",props:{title:{type:String,required:!0,default:""},small:{type:String,required:!1},goBack:{type:String,required:!1},labelParams:{type:String,required:!1},goBackPath:{type:String,required:!1},canEdit:{type:Boolean,required:!1,default:!1},params:{type:Object,required:!1,default:()=>{}}},components:{Loader:k},data(){return{newTitle:"",inEdit:!1,loading:!1}},mounted(){document.addEventListener("keydown",this.listenToEscapeKey)},computed:{currentTitle(){return this.helper.isEmpty(this.newTitle)?this.title:this.newTitle}},methods:{listenToEscapeKey(t){t.code==="Escape"&&this.goTo()},goTo(){let t=this.goBackPath??this.goBack??null;if(!t)return;let e={name:t};this.helper.isNumpty(this.params)||(e.params=this.params),this.$router.push(e)},editTitle(t){if(this.canEdit)if(t){if(!this.helper.isEqual(this.newTitle,this.title)){let e=()=>{this.loading=!1};this.loading=!0,this.$emit("edit",this.newTitle,this.title,e),this.newTitle=""}this.inEdit=!1}else this.newTitle=this.title,this.inEdit=!0}},beforeUnmount(){document.removeEventListener("keydown",this.listenToEscapeKey)}},C=t=>(_("data-v-67965745"),t=t(),S(),t),b={class:"customHeaderWrapper"},N={key:0},F=C(()=>p("i",{class:"arrow"},null,-1));function I(t,e,i,L,n,r){const m=T("loader");return s(),a("div",null,[p("section",b,[n.inEdit?w((s(),a("input",{key:0,onBlur:e[0]||(e[0]=u(l=>r.editTitle(!0),["prevent","stop"])),"onUpdate:modelValue":e[1]||(e[1]=l=>n.newTitle=l),type:"text",style:{width:"200px"},placeholder:"Enter a title...",class:"base-input edit-title"},null,544)),[[E,n.newTitle]]):(s(),a("div",{key:1,class:v(["title"]),style:B(i.canEdit?{cursor:"pointer"}:{}),onClick:e[2]||(e[2]=u(l=>r.editTitle(!1),["prevent","stop"]))},[n.loading?(s(),x(m,{key:1,style:{height:"40px",width:"fit-content",overflow:"hidden"},scale:".7"})):(s(),a("b",N,o(i.title),1))],4)),i.goBack||i.goBackPath?(s(),a("small",{key:2,onClick:e[3]||(e[3]=(...l)=>r.goTo&&r.goTo(...l)),class:"go-back"},[F,i.small?d("",!0):(s(),a(c,{key:0},[h(" Go Back to "+o(this.helper.upperFirst(i.goBack)),1)],64)),i.small?(s(),a(c,{key:1},[h(o(i.small),1)],64)):d("",!0)])):d("",!0)])])}const P=f(q,[["render",I],["__scopeId","data-v-67965745"]]);export{P as C};
