const __vite__fileDeps=["assets/notyf-DfibISxV.js","assets/notyf-CV79g7kv.css","assets/v-calendar-COHmsScS.js","assets/@vue-DvSXG8OY.js","assets/@popperjs-CyRNZa_Y.js","assets/v-calendar-DGP4hL2K.css","assets/@vueform-D9mHHKuZ.js","assets/@vueform-Cc7TPxkO.css","assets/NavbarLayout-B-sL_L66.js","assets/UserProfileDropdown-B3goKRUS.js","assets/vue3-excel-editor-BZIQ-9GP.js","assets/vuedraggable-DrPHqiy-.js","assets/can-use-dom-Ch7kL8xk.js","assets/vue-BlVBb6II.js","assets/sortablejs-BpownXDQ.js","assets/@vuepic-D_ESaDHD.js","assets/date-fns-DlAA0sa-.js","assets/@babel-B8luDtWs.js","assets/@vuepic-CRTUdKOi.css","assets/xlsx-BwpPSLqB.js","assets/vue3-excel-editor-uSkul2i4.css","assets/@vueuse-B5YwvBi1.js","assets/hookable-bOmh9J_F.js","assets/@unhead-C8GIn_dH.js","assets/vue-i18n-Ct7kUK5D.js","assets/@intlify-BwA1qkjN.js","assets/pinia-B4-ciXne.js","assets/vue-router-DwDdEKiK.js","assets/vuex-CBJTNNbk.js","assets/UserProfileDropdown-PcNFosp5.css","assets/Navbar.vue_vue_type_style_index_0_lang-3CJP51jF.js","assets/Navbar-DxHiNlCS.css","assets/ToolbarNotification-C-vQmpiH.js","assets/moment-i-YsoRPj.js","assets/ProjectsQuickDropdown.vue_vue_type_script_setup_true_lang-BdTWHdRT.js","assets/NotificationsMobileDropdown.vue_vue_type_script_setup_true_lang-D9zavd78.js","assets/nprogress-DSmTBFYB.js","assets/nprogress-BUMXTAWU.css","assets/vue-tippy-DnYNcFUq.js","assets/vee-validate-B_GghEPI.js","assets/defu-Dp6hddn5.js","assets/vue3-apexcharts-I3PfHQpJ.js","assets/vue-time-date-range-picker-nwJmZjI9.js","assets/vue-time-date-range-picker-DdDCG7CO.css","assets/lodash-CI4eq_-m.js","assets/vue-country-flag-next-DzQXLdzY.js","assets/axios-NEgiU-5B.js","assets/vue3-easy-data-table-Bv-UjlqU.js","assets/vue3-easy-data-table-DuevJDmg.css","assets/vue-select-2A5lvq7N.js","assets/vue-select-BGcSlmpQ.css","assets/@guolao-DUgdz43R.js","assets/@monaco-editor-BDZWgZ9J.js","assets/state-local-BC9ybJZH.js","assets/vuetify-DmxsvLRd.js","assets/vuetify-CCwzhEYb.css","assets/simplebar-CEzXePIs.js","assets/simplebar-core-CDGGEr9C.js","assets/lodash-es-BpmHSHTX.js","assets/simplebar-DDK7QoNI.css","assets/@iconify-CSYqCi5E.js","assets/vue-the-mask-CzLbAaS1.js","assets/NavbarLayout-DZ0SgZLF.css","assets/tiny-slider-B1MWgBwn.css","assets/tippy-DCQCcctE.css","assets/NavbarDropdownLayout-BfiqNPJn.js","assets/NavbarSearchLayout-C8anRwUw.js","assets/NavbarSearchLayout-tvUgCW-1.css","assets/SidebarLayout-BPWdV7yT.js","assets/CircularMenu.vue_vue_type_style_index_0_lang-Dv-4WEFm.js","assets/CircularMenu-C4nzK-GH.css","assets/SidebarLayout-2jfsYGSN.css","assets/SideblockLayout-CBNJ5cKh.js","assets/SideblockLayout.vue_vue_type_script_setup_true_lang-BkSHbNjw.js","assets/SideblockLayout-DrI-8sJW.css","assets/404-DS19sX-X.js","assets/Main-DnY_qymd.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{u as e,a as t,b as a,c as s,o as l,d as i,e as o}from"./@vueuse-B5YwvBi1.js";import{c as r,u as n}from"./vue-i18n-Ct7kUK5D.js";import{x as d,c as u,aw as c,d as m,r as p,a as h,b as g,e as f,l as y,j as _,G as v,bj as b,h as S,I as k,C as w,f as V,t as P,A as x,q as C,g as I,L as D,S as L,a3 as $,K as T,ae as A,U as O,a2 as F,D as U,E as M,p as E,i as B,y as z,F as j,m as R,b0 as N,a_ as H,w as W,M as Y,br as G,H as q,au as J,k as K,o as X,T as Z,bn as Q,a5 as ee,a4 as te,N as ae,J as se,bh as le,ag as ie,ap as oe}from"./@vue-DvSXG8OY.js";import{n as re}from"./nprogress-DSmTBFYB.js";import"./v-calendar-COHmsScS.js";import{p as ne}from"./vue-tippy-DnYNcFUq.js";import{R as de,u as ue,a as ce,c as me,b as pe}from"./vue-router-DwDdEKiK.js";import{d as he,c as ge}from"./pinia-B4-ciXne.js";import{_ as fe,V as ye}from"./vue3-excel-editor-BZIQ-9GP.js";import{u as _e}from"./vee-validate-B_GghEPI.js";import{d as ve}from"./defu-Dp6hddn5.js";import{m as be,a as Se,c as ke}from"./vuex-CBJTNNbk.js";import{q as we}from"./vue3-apexcharts-I3PfHQpJ.js";import{a as Ve}from"./vuedraggable-DrPHqiy-.js";import{D as Pe}from"./vue-time-date-range-picker-nwJmZjI9.js";import{h as xe}from"./moment-i-YsoRPj.js";import{_ as Ce}from"./lodash-CI4eq_-m.js";import{c as Ie}from"./@popperjs-CyRNZa_Y.js";import{e as De}from"./vue-country-flag-next-DzQXLdzY.js";import{r as Le,u as $e}from"./xlsx-BwpPSLqB.js";import{a as Te}from"./axios-NEgiU-5B.js";import{D as Ae}from"./vue3-easy-data-table-Bv-UjlqU.js";import{C as Oe}from"./vue-select-2A5lvq7N.js";import{i as Fe}from"./@guolao-DUgdz43R.js";import{c as Ue,a as Me,d as Ee}from"./vuetify-DmxsvLRd.js";import"./simplebar-CEzXePIs.js";import"./@iconify-CSYqCi5E.js";import"./@vueform-D9mHHKuZ.js";/* empty css                    */import{Notyf as Be}from"./notyf-DfibISxV.js";/* empty css                 */import{V as ze}from"./vue-the-mask-CzLbAaS1.js";import"./hookable-bOmh9J_F.js";import"./@unhead-C8GIn_dH.js";import"./@intlify-BwA1qkjN.js";import"./can-use-dom-Ch7kL8xk.js";import"./@vuepic-D_ESaDHD.js";import"./date-fns-DlAA0sa-.js";import"./@babel-B8luDtWs.js";import"./vue-BlVBb6II.js";import"./sortablejs-BpownXDQ.js";import"./@monaco-editor-BDZWgZ9J.js";import"./state-local-BC9ybJZH.js";import"./simplebar-core-CDGGEr9C.js";import"./lodash-es-BpmHSHTX.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const je=new WeakMap,Re=new Set,Ne={getSSRProps:()=>({}),created:e=>{const t=function(){const a=(e.href??"").split("#")[0];if(!a||Re.has(a))return void e.removeEventListener("mouseenter",t);const s=document.createElement("link");s.rel="prefetch",s.href=a,document.head.appendChild(s),Re.add(a),e.removeEventListener("mouseenter",t)};je.set(e,t)},beforeMount(){const e=window.location.toString().split("#")[0];e&&!Re.has(e)&&Re.add(e)},mounted:e=>{e.addEventListener("mouseenter",je.get(e),{passive:!0})},unmounted:e=>{e.removeEventListener("mouseenter",je.get(e))}},He={getSSRProps:()=>({}),updated:(e,t)=>{const a=t.value;e.dataset.hint="string"==typeof a?a:""},mounted:(e,t)=>{const a=t.value;let s="top",l="",i="";t.modifiers.bottom&&(s="bottom"),t.modifiers.left?s+="-left":t.modifiers.right&&(s+="-right"),t.modifiers.light?l="hint--light":t.modifiers.primary?l="hint--primary":t.modifiers.info?l="hint--info":t.modifiers.success?l="hint--success":t.modifiers.warning?l="hint--warning":t.modifiers.error&&(l="hint--error"),t.modifiers.rounded?i="hint--rounded":t.modifiers.bubble&&(i="hint--bubble"),"string"==typeof a&&(e.dataset.hint=a,e.tabIndex=0,e.classList.add(`hint--${s}`),l&&e.classList.add(l),i&&e.classList.add(i))}},We=(e,t)=>{const a=t.value.src,s=t.value.placeholder;if(a){const t=new Image;s&&(t.onerror=()=>{t.onerror=null,e.style.backgroundImage=`url(${s})`}),t.onload=()=>{t.onload=null,e.style.backgroundImage=`url(${a})`},t.src=a}},Ye={getSSRProps:()=>({}),updated:We,mounted:We},Ge=({app:e})=>{e.directive("preload-link",Ne),e.directive("tooltip",He),e.directive("background",Ye)},qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Je={de:{"select-language":e=>{const{normalize:t}=e;return t(["Sprache auswählen"])},"cancel-label":e=>{const{normalize:t}=e;return t(["Abbrechen"])},auth:{title:e=>{const{normalize:t}=e;return t(["Jetzt mitmachen"])},subtitle:e=>{const{normalize:t}=e;return t(["Beginnen Sie mit der Erstellung Ihres Kontos"])},label:{promotional:e=>{const{normalize:t}=e;return t(["Erhalten Sie Werbeangebote"])}},action:{login:e=>{const{normalize:t}=e;return t(["Ich habe bereits ein Konto"])},signup:e=>{const{normalize:t}=e;return t(["Registrieren"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["Name"])},email:e=>{const{normalize:t}=e;return t(["Mailadresse"])},password:e=>{const{normalize:t}=e;return t(["Passwort"])},passwordCheck:e=>{const{normalize:t}=e;return t(["Passwortüberprüfung"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["Ihr Name, Vorname ist erforderlich"])}},email:{required:e=>{const{normalize:t}=e;return t(["Geben Sie Ihre E-Mail ein, sie wird für die Anmeldung benötigt"])},format:e=>{const{normalize:t}=e;return t(["Bitte geben Sie eine gültige E-Mail ein"])}},password:{required:e=>{const{normalize:t}=e;return t(["Geben Sie Ihr Passwort mit mindestens 8 Zeichen ein, es wird für die Anmeldung benötigt"])},length:e=>{const{normalize:t}=e;return t(["Das Passwort sollte mindestens 8 Zeichen enthalten"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["Bitte bestätigen Sie Ihr Passwort"])},match:e=>{const{normalize:t}=e;return t(["Das Passwort stimmt nicht überein"])}}}}},en:{"select-language":e=>{const{normalize:t}=e;return t(["Select Language"])},"cancel-label":e=>{const{normalize:t}=e;return t(["Cancel"])},auth:{title:e=>{const{normalize:t}=e;return t(["Join Us Now."])},subtitle:e=>{const{normalize:t}=e;return t(["Start by creating your account"])},label:{promotional:e=>{const{normalize:t}=e;return t(["Receive promotional offers"])}},action:{login:e=>{const{normalize:t}=e;return t(["I already have an account"])},signup:e=>{const{normalize:t}=e;return t(["Sign Up"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["Name"])},email:e=>{const{normalize:t}=e;return t(["Email Address"])},password:e=>{const{normalize:t}=e;return t(["Password"])},passwordCheck:e=>{const{normalize:t}=e;return t(["Password Verification"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["Your first name is required"])}},email:{required:e=>{const{normalize:t}=e;return t(["Enter your email, it will be required to login"])},format:e=>{const{normalize:t}=e;return t(["Please, enter a valid email"])}},password:{required:e=>{const{normalize:t}=e;return t(["Enter your password with at least 8 characters, it will be required to login"])},length:e=>{const{normalize:t}=e;return t(["The password should contains at leat 8 characters"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["Please, confirm your password"])},match:e=>{const{normalize:t}=e;return t(["The password does not match"])}}}}},"es-MX":{"select-language":e=>{const{normalize:t}=e;return t(["Seleccione el idioma"])},"cancel-label":e=>{const{normalize:t}=e;return t(["Cancelar"])},auth:{title:e=>{const{normalize:t}=e;return t(["Únete a nosotros ahora"])},subtitle:e=>{const{normalize:t}=e;return t(["Empieza creando tu cuenta"])},label:{promotional:e=>{const{normalize:t}=e;return t(["Recibe ofertas promocionales"])}},action:{login:e=>{const{normalize:t}=e;return t(["Ya tengo una cuenta"])},signup:e=>{const{normalize:t}=e;return t(["Registrarse"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["Nombre"])},email:e=>{const{normalize:t}=e;return t(["Dirección de correo electrónico"])},password:e=>{const{normalize:t}=e;return t(["Contraseña"])},passwordCheck:e=>{const{normalize:t}=e;return t(["Verificación de contraseña"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["Su nombre es obligatorio"])}},email:{required:e=>{const{normalize:t}=e;return t(["Introduzca su correo electrónico, será necesario para iniciar la sesión"])},format:e=>{const{normalize:t}=e;return t(["Por favor, introduzca un correo electrónico válido"])}},password:{required:e=>{const{normalize:t}=e;return t(["Introduzca su contraseña con al menos 8 caracteres, será necesaria para iniciar la sesión"])},length:e=>{const{normalize:t}=e;return t(["La contraseña debe contener al menos 8 caracteres"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["Por favor, confirme su contraseña"])},match:e=>{const{normalize:t}=e;return t(["La contraseña no coincide"])}}}}},es:{"select-language":e=>{const{normalize:t}=e;return t(["Seleccione el idioma"])},"cancel-label":e=>{const{normalize:t}=e;return t(["Cancelar"])},auth:{title:e=>{const{normalize:t}=e;return t(["Únete a nosotros ahora"])},subtitle:e=>{const{normalize:t}=e;return t(["Empieza creando tu cuenta"])},label:{promotional:e=>{const{normalize:t}=e;return t(["Recibe ofertas promocionales"])}},action:{login:e=>{const{normalize:t}=e;return t(["Ya tengo una cuenta"])},signup:e=>{const{normalize:t}=e;return t(["Registrarse"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["Nombre"])},email:e=>{const{normalize:t}=e;return t(["Dirección de correo electrónico"])},password:e=>{const{normalize:t}=e;return t(["Contraseña"])},passwordCheck:e=>{const{normalize:t}=e;return t(["Verificación de contraseña"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["Su nombre es obligatorio"])}},email:{required:e=>{const{normalize:t}=e;return t(["Introduzca su correo electrónico, será necesario para iniciar la sesión"])},format:e=>{const{normalize:t}=e;return t(["Por favor, introduzca un correo electrónico válido"])}},password:{required:e=>{const{normalize:t}=e;return t(["Introduzca su contraseña con al menos 8 caracteres, será necesaria para iniciar la sesión"])},length:e=>{const{normalize:t}=e;return t(["La contraseña debe contener al menos 8 caracteres"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["Por favor, confirme su contraseña"])},match:e=>{const{normalize:t}=e;return t(["La contraseña no coincide"])}}}}},fr:{"select-language":e=>{const{normalize:t}=e;return t(["Sélectionnez une langue"])},"cancel-label":e=>{const{normalize:t}=e;return t(["Annuler"])},auth:{title:e=>{const{normalize:t}=e;return t(["Rejoignez-nous maintenant"])},subtitle:e=>{const{normalize:t}=e;return t(["Commencez par créer votre compte"])},label:{promotional:e=>{const{normalize:t}=e;return t(["Recevez des offres promotionnelles"])}},action:{login:e=>{const{normalize:t}=e;return t(["J'ai déjà un compte"])},signup:e=>{const{normalize:t}=e;return t(["Créer un compte"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["Nom"])},email:e=>{const{normalize:t}=e;return t(["Adresse électronique"])},password:e=>{const{normalize:t}=e;return t(["Mot de passe"])},passwordCheck:e=>{const{normalize:t}=e;return t(["Vérification du mot de passe"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["Votre nom, prénom est obligatoire"])}},email:{required:e=>{const{normalize:t}=e;return t(["Entrez votre email, il sera nécessaire pour vous connecter"])},format:e=>{const{normalize:t}=e;return t(["Veuillez entrer une adresse électronique valide"])}},password:{required:e=>{const{normalize:t}=e;return t(["Entrez votre mot de passe avec au moins 8 caractères, il vous sera demandé pour vous connecter"])},length:e=>{const{normalize:t}=e;return t(["Le mot de passe doit contenir au moins 8 caractères"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["Veuillez confirmer votre mot de passe"])},match:e=>{const{normalize:t}=e;return t(["Le mot de passe ne correspond pas"])}}}}},"zh-CN":{"select-language":e=>{const{normalize:t}=e;return t(["选择语言"])},"cancel-label":e=>{const{normalize:t}=e;return t(["取消"])},auth:{title:e=>{const{normalize:t}=e;return t(["现在就加入我们"])},subtitle:e=>{const{normalize:t}=e;return t(["从创建你的账户开始"])},label:{promotional:e=>{const{normalize:t}=e;return t(["接收促销优惠"])}},action:{login:e=>{const{normalize:t}=e;return t(["我已经有一个账户"])},signup:e=>{const{normalize:t}=e;return t(["注册"])}},placeholder:{name:e=>{const{normalize:t}=e;return t(["姓名"])},email:e=>{const{normalize:t}=e;return t(["电子邮件地址"])},password:e=>{const{normalize:t}=e;return t(["密码"])},passwordCheck:e=>{const{normalize:t}=e;return t(["密码验证"])}},errors:{name:{required:e=>{const{normalize:t}=e;return t(["您的姓名是必填的"])}},email:{required:e=>{const{normalize:t}=e;return t(["输入你的电子邮件，它将是登录的必要条件"])},format:e=>{const{normalize:t}=e;return t(["请输入一个有效的电子邮件"])}},password:{required:e=>{const{normalize:t}=e;return t(["请输入你的密码，至少有8个字符，登录时必须输入"])},length:e=>{const{normalize:t}=e;return t(["密码应至少包含8个字符"])}},passwordCheck:{required:e=>{const{normalize:t}=e;return t(["请确认您的密码"])},match:e=>{const{normalize:t}=e;return t(["该密码不匹配"])}}}}}},Ke=({app:t})=>{const a=e("locale","en"),s=r({locale:a.value,messages:Je});t.use(s)},Xe=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),Ze={},Qe=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");s=Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in Ze)return;Ze[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script",l.crossOrigin=""),l.href=e,a&&l.setAttribute("nonce",a),document.head.appendChild(l),t?new Promise(((t,a)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return s.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},et=/hsl\(\s*(\d+)((?:deg)|(?:turn)|(?:rad))?\s*,?\s*(\d+(?:\.\d+)?%)\s*,?\s*(\d+(?:\.\d+)?%)\s*\)/;function tt(e){if(!e)return"#fff";if("transparent"===e)return e;const t=et.exec(e);if(null===t)return"#fff";const[a,s,l,i]=t.slice(1);if(!a||!l||!i)return"#fff";let o=0,r=parseFloat(l??"0"),n=parseFloat(i??"0");switch(s){case"deg":o=parseFloat(a.substr(0,a.length-3));break;case"turn":o=Math.round(360*parseFloat(a.substr(0,a.length-4)));break;case"rad":o=Math.round(parseFloat(a.substr(0,a.length-3))*(180/Math.PI));break;default:o=parseFloat(a)}o>=360&&(o%=360),r/=100,n/=100;const d=(1-Math.abs(2*n-1))*r,u=d*(1-Math.abs(o/60%2-1)),c=n-d/2;let m=0,p=0,h=0;0<=o&&o<60?(m=d,p=u,h=0):60<=o&&o<120?(m=u,p=d,h=0):120<=o&&o<180?(m=0,p=d,h=u):180<=o&&o<240?(m=0,p=u,h=d):240<=o&&o<300?(m=u,p=0,h=d):300<=o&&o<360&&(m=d,p=0,h=u);let g=Math.round(255*(m+c)).toString(16),f=Math.round(255*(p+c)).toString(16),y=Math.round(255*(h+c)).toString(16);return 1==g.length&&(g="0"+g),1==f.length&&(f="0"+f),1==y.length&&(y="0"+y),"#"+g+f+y}const at=()=>{const e=t("--primary",document.documentElement),a=t("--success",document.documentElement),s=t("--info",document.documentElement),l=t("--warning",document.documentElement),i=t("--danger",document.documentElement),o=t("--purple",document.documentElement),r=t("--blue",document.documentElement),n=t("--green",document.documentElement),c=t("--yellow",document.documentElement),m=t("--orange",document.documentElement);return d({primary:u((()=>tt(e.value))),primaryMedium:"#b4e4ce",primaryLight:"#f7fcfa",secondary:"#ff227d",accent:"#797bf2",accentMedium:"#d4b3ff",accentLight:"#b8ccff",success:u((()=>tt(a.value))),info:u((()=>tt(s.value))),warning:u((()=>tt(l.value))),danger:u((()=>tt(i.value))),purple:u((()=>tt(o.value))),blue:u((()=>tt(r.value))),green:u((()=>tt(n.value))),yellow:u((()=>tt(c.value))),orange:u((()=>tt(m.value))),lightText:"#a2a5b9",fadeGrey:"#ededed"})},st=Symbol("notyf");const lt=async({app:e})=>{const t=await async function(){const e=at();let t;{const{Notyf:a}=await Qe((()=>import("./notyf-DfibISxV.js")),__vite__mapDeps([0,1]));t=new a({duration:2e3,position:{x:"right",y:"bottom"},types:[{type:"warning",background:e.warning,icon:{className:"fas fa-hand-paper",tagName:"i",text:""}},{type:"info",background:e.info,icon:{className:"fas fa-info-circle",tagName:"i",text:""}},{type:"primary",background:e.primary,icon:{className:"fas fa-car-crash",tagName:"i",text:""}},{type:"accent",background:e.accent,icon:{className:"fas fa-car-crash",tagName:"i",text:""}},{type:"purple",background:e.purple,icon:{className:"fas fa-check",tagName:"i",text:""}},{type:"blue",background:e.blue,icon:{className:"fas fa-check",tagName:"i",text:""}},{type:"green",background:e.primary,icon:{className:"fas fa-check",tagName:"i",text:""}},{type:"orange",background:e.orange,icon:{className:"fas fa-check",tagName:"i",text:""}}]})}return{dismiss:e=>{t?.dismiss(e)},dismissAll:()=>{t?.dismissAll()},success:e=>t?.success(e),error:e=>t?.error(e),info:e=>{const a={type:"info"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},warning:e=>{const a={type:"warning"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},primary:e=>{const a={type:"primary"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},purple:e=>{const a={type:"purple"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},blue:e=>{const a={type:"blue"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},green:e=>{const a={type:"green"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)},orange:e=>{const a={type:"orange"};return"string"==typeof e?a.message=e:Object.assign(a,e),t?.open(a)}}}();e.provide(st,t)},it=Object.freeze(Object.defineProperty({__proto__:null,default:lt,notyfSymbol:st},Symbol.toStringTag,{value:"Module"})),ot=({router:e})=>{re.configure({showSpinner:!1}),e.beforeEach((()=>{re.start()})),e.afterEach((()=>{re.done()}))},rt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),nt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dt=({app:e})=>{e.component("VCalendar",c({loader:()=>Qe((()=>import("./v-calendar-COHmsScS.js")),__vite__mapDeps([2,3,4,5])).then((e=>e.Calendar)),delay:0,suspensible:!1})),e.component("VDatePicker",c({loader:()=>Qe((()=>import("./v-calendar-COHmsScS.js")),__vite__mapDeps([2,3,4,5])).then((e=>e.DatePicker)),delay:0,suspensible:!1}))},ut=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),ct=({app:e})=>{e.use(ne,{component:"Tippy",defaultProps:{theme:"light"}})},mt=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),pt=({app:e})=>{e.component("Multiselect",c({loader:()=>Qe((()=>import("./@vueform-D9mHHKuZ.js").then((e=>e.m))),__vite__mapDeps([6,3,7])).then((e=>e.default)),delay:0,suspensible:!1})),e.component("Slider",c({loader:()=>Qe((()=>import("./@vueform-D9mHHKuZ.js").then((e=>e.s))),__vite__mapDeps([6,3,7])).then((e=>e.default)),delay:0,suspensible:!1}))},ht=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"})),gt=m({name:"ClientOnly",setup(e,{slots:t}){const a=p(!1);return h((()=>{a.value=!0})),()=>a.value&&t.default?t.default():null}}),ft=m({__name:"VCard",props:{radius:{default:void 0},color:{default:void 0},elevated:{type:Boolean,default:!1}},setup(e){const t=e,a=u((()=>"smooth"===t.radius?"s-card":"rounded"===t.radius?"l-card":"r-card"));return(e,s)=>(g(),f("div",{class:_([v(a),e.elevated&&"is-raised",t.color&&`is-${t.color}`])},[y(e.$slots,"default")],2))}}),yt=m({__name:"VButtons",props:{align:{default:void 0},addons:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("div",{class:_(["buttons",[t.addons&&"has-addons",t.align&&`is-${t.align}`]])},[y(e.$slots,"default")],2))}}),_t=/(\d*\.?\d+)\s?(cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)/,vt=fe(m({__name:"VPlaceload",props:{width:{default:"100%"},height:{default:"10px"},mobileWidth:{default:void 0},mobileHeight:{default:void 0},disabled:{type:Boolean},centered:{type:Boolean}},setup(e){const t=e;b((e=>({"78c65b92":t.width,d3a30a54:t.height,"6853147e":v(a),"2e093c92":v(s)})));const a=t.mobileWidth??t.width,s=t.mobileHeight??t.height;return null===t.width.match(_t)&&console.warn(`VPlaceload: invalid "${t.width}" width. Should be a valid css unit value.`),null===t.height.match(_t)&&console.warn(`VPlaceload: invalid "${t.height}" height. Should be a valid css unit value.`),null===a.match(_t)&&console.warn(`VPlaceload: invalid "${a}" mobileWidth. Should be a valid css unit value.`),null===s.match(_t)&&console.warn(`VPlaceload: invalid "${s}" mobileHeight. Should be a valid css unit value.`),(e,a)=>(g(),f("div",{class:_(["content-shape",[t.centered&&"is-centered",!t.disabled&&"loads"]])},null,2))}}),[["__scopeId","data-v-d18025a4"]]),bt=m({props:{to:{type:[Object,String],default:void 0},href:{type:String,default:void 0},icon:{type:String,default:void 0},iconCaret:{type:String,default:void 0},placeload:{type:String,default:void 0,validator:e=>(null===e.match(_t)&&console.warn(`VButton: invalid "${e}" placeload. Should be a valid css unit value.`),!0)},color:{type:String,default:void 0,validator:e=>-1!==[void 0,"primary","info","success","warning","danger","white","dark","light"].indexOf(e)||(console.warn(`VButton: invalid "${e}" color. Should be primary, info, success, warning, danger, dark, light, white or undefined`),!1)},size:{type:String,default:void 0,validator:e=>-1!==[void 0,"medium","big","huge"].indexOf(e)||(console.warn(`VButton: invalid "${e}" size. Should be big, huge, medium or undefined`),!1)},dark:{type:String,default:void 0,validator:e=>-1!==[void 0,"1","2","3","4","5","6"].indexOf(e)||(console.warn(`VButton: invalid "${e}" dark. Should be 1, 2, 3, 4, 5, 6 or undefined`),!1)},rounded:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},fullwidth:{type:Boolean,default:!1},light:{type:Boolean,default:!1},raised:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},darkOutlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},lower:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},static:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:a}){const s=u((()=>["button","v-button",e.disabled&&"is-disabled",e.rounded&&"is-rounded",e.bold&&"is-bold",e.size&&`is-${e.size}`,e.lower&&"is-lower",e.fullwidth&&"is-fullwidth",e.outlined&&"is-outlined",e.dark&&`is-dark-bg-${e.dark}`,e.darkOutlined&&"is-dark-outlined",e.raised&&"is-raised",e.elevated&&"is-elevated",e.loading&&!e.placeload&&"is-loading",e.color&&`is-${e.color}`,e.light&&"is-light",e.static&&"is-static"])),l=u((()=>e.icon&&-1!==e.icon.indexOf(":"))),i=u((()=>e.iconCaret&&-1!==e.iconCaret.indexOf(":"))),o=()=>{const a=[];let s,o;if(l.value){const t=S("i",{"aria-hidden":!0,class:"iconify","data-icon":e.icon});s=S("span",{class:"icon"},t)}else if(e.icon){const t=S("i",{"aria-hidden":!0,class:e.icon});s=S("span",{class:"icon"},t)}if(i.value){const t=S("i",{"aria-hidden":!0,class:"iconify","data-icon":e.iconCaret});o=S("span",{class:"caret"},t)}else if(e.iconCaret){const t=S("i",{"aria-hidden":!0,class:e.iconCaret});o=S("span",{class:"caret"},t)}return s&&a.push(s),e.placeload?a.push(S(vt,{width:e.placeload})):a.push(S("span",t.default?.())),o&&a.push(o),a};return()=>e.to?S(de,{...a,"aria-hidden":!!e.placeload&&!0,to:e.to,class:["button",...s.value]},{default:o}):e.href?S("a",{...a,"aria-hidden":!!e.placeload&&!0,href:e.href,class:s.value},{default:o}):S("button",{type:"button",...a,"aria-hidden":!!e.placeload&&!0,disabled:e.disabled,class:["button",...s.value]},{default:o})}});function St(e={}){const{immediate:t=!0,onNeedRefresh:a,onOfflineReady:s,onRegistered:l,onRegisteredSW:i,onRegisterError:o}=e,r=p(!1),n=p(!1),d=function(e={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:l,onRegisteredSW:i,onRegisterError:o}=e;let r,n,d;return n=async function(){if("serviceWorker"in navigator){if(r=await Qe((()=>import("./workbox-window-CKekLdip.js")),[]).then((({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"}))).catch((e=>{o?.(e)})),!r)return;d=async()=>{await(r?.messageSkipWaiting())};{let e=!1;const t=()=>{e=!0,r?.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()})),a?.()};r.addEventListener("installed",(a=>{void 0===a.isUpdate?void 0!==a.isExternal?a.isExternal?t():!e&&s?.():a.isExternal?window.location.reload():!e&&s?.():a.isUpdate||s?.()})),r.addEventListener("waiting",t),r.addEventListener("externalwaiting",t)}r.register({immediate:t}).then((e=>{i?i("/sw.js",e):l?.(e)})).catch((e=>{o?.(e)}))}}(),async(e=!0)=>{await n,await(d?.())}}({immediate:t,onNeedRefresh(){r.value=!0,a?.()},onOfflineReady(){n.value=!0,s?.()},onRegistered:l,onRegisteredSW:i,onRegisterError:o});return{updateServiceWorker:d,offlineReady:n,needRefresh:r}}const kt={class:"pwa-message"},wt={key:0},Vt={key:1},Pt=m({__name:"VReloadPrompt",props:{appName:{}},setup(e){const t=e,a=p(!1),{t:s}=n(),{offlineReady:l,needRefresh:i,updateServiceWorker:o}=St(),r=async()=>{a.value=!1,l.value=!1,i.value=!1};return(e,n)=>{const d=bt,u=yt,c=ft;return g(),k(D,{name:"from-bottom"},{default:w((()=>[v(l)||v(i)?(g(),k(c,{key:0,class:"pwa-toast",role:"alert",radius:"smooth"},{default:w((()=>[V("div",kt,[v(l)?(g(),f("span",wt,P(v(s)("offline-ready",{appName:t.appName})),1)):(g(),f("span",Vt,P(v(s)("need-refresh",{appName:t.appName})),1))]),x(u,{align:"right"},{default:w((()=>[v(i)?(g(),k(d,{key:0,color:"primary",icon:"ion:reload-outline",loading:v(a),onClick:n[0]||(n[0]=()=>(async()=>{a.value=!0,await o(),a.value=!1})())},{default:w((()=>[C(P(v(s)("reload-button")),1)])),_:1},8,["loading"])):I("",!0),x(d,{icon:"feather:x",onClick:r},{default:w((()=>[C(P(v(s)("close-button")),1)])),_:1})])),_:1})])),_:1})):I("",!0)])),_:1})}}});function xt(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName"))," ist bereit, offline zu arbeiten"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Eine neue Version von ",a(s("appName"))," ist verfügbar, klicken Sie auf die Schaltfläche Neu laden, um sie zu aktualisieren."])},"reload-button":e=>{const{normalize:t}=e;return t(["Neu laden"])},"close-button":e=>{const{normalize:t}=e;return t(["Schließen"])}},en:{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName"))," is ready to work offline"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["A new version of ",a(s("appName"))," is available, click on reload button to update."])},"reload-button":e=>{const{normalize:t}=e;return t(["Reload"])},"close-button":e=>{const{normalize:t}=e;return t(["Close"])}},"es-MX":{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName"))," está listo para trabajar sin conexión"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Una nueva versión de ",a(s("appName"))," está disponible, haga clic en el botón Recarga para actualizar."])},"reload-button":e=>{const{normalize:t}=e;return t(["Recarga"])},"close-button":e=>{const{normalize:t}=e;return t(["Cerrar"])}},es:{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName"))," está listo para trabajar sin conexión"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Una nueva versión de ",a(s("appName"))," está disponible, haga clic en el botón Recarga para actualizar."])},"reload-button":e=>{const{normalize:t}=e;return t(["Recarga"])},"close-button":e=>{const{normalize:t}=e;return t(["Cerrar"])}},fr:{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName"))," est prêt à être utilisé hors ligne"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Une nouvelle version de ",a(s("appName"))," est disponible, cliquez sur le bouton Recharger pour la mettre à jour."])},"reload-button":e=>{const{normalize:t}=e;return t(["Recharger"])},"close-button":e=>{const{normalize:t}=e;return t(["Fermer"])}},"zh-CN":{"offline-ready":e=>{const{normalize:t,interpolate:a,named:s}=e;return t([a(s("appName")),"已准备好脱机工作"])},"need-refresh":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["新版本的",a(s("appName")),"已经可用，点击重新加载按钮来更新。"])},"reload-button":e=>{const{normalize:t}=e;return t(["重新加载"])},"close-button":e=>{const{normalize:t}=e;return t(["关闭"])}}}})}xt(Pt);const Ct="is-dark",It=he("darkmode",(()=>{const t=a(),s=e("color-schema","auto"),l=u({get:()=>"auto"===s.value?t.value:"dark"===s.value,set(e){e===t.value?s.value="auto":s.value=e?"dark":"light"}});return{isDark:l,onChange:e=>{const t=e.target;l.value=!t.checked}}})),Dt={ref:"scrollContainer",class:"scroll-container"};const Lt=fe({data:()=>({startY:0,currentY:0,pulling:!1,componentKey:0}),mounted(){},beforeDestroy(){},methods:{},setup(){(()=>{const e=It();L((()=>{const t=document.documentElement;e.isDark?t.classList.add(Ct):t.classList.remove(Ct)}))})()}},[["render",function(e,t,a,s,l,i){const o=$("RouterView"),r=Pt,n=gt;return g(),f("div",Dt,[(g(),k(A,{key:l.componentKey},{default:w((()=>[x(o,null,{default:w((({Component:e})=>[x(D,{name:"fade-slow",mode:"out-in"},{default:w((()=>[(g(),k(T(e)))])),_:2},1024)])),_:1})])),_:1})),x(n,null,{default:w((()=>[x(r,{"app-name":"CRM Mate"})])),_:1})],512)}]]),$t=Symbol();let Tt=0;function At(e={}){const t=ve(e,{create:!0,inherit:!0});if(v(t.inherit)){const e=O($t,void 0);if(e)return e}const a=v(t.help)?v(t.help)+": ":"";if(!v(t.create))throw new Error(`${a}useVFieldContext (create = false) must be used inside a VField component`);return function(e){const t=v(e),a=p(e??"v-field-"+ ++Tt),s=p();t&&(s.value=_e(t));const l={id:a,field:s};return F($t,l),l}(t.id)}const Ot=["for","onKeydown"],Ft=m({__name:"VLabel",props:{raw:{type:Boolean}},setup(e){const t=e,a=d(At({create:!1,help:"VLabel"})),s=u((()=>t.raw?[]:["label"])),l=()=>{a.id&&document.getElementById(a.id)?.click()};return(e,t)=>(g(),f("label",{class:_(v(s)),for:v(a).id,onKeydown:E(B(l,["prevent"]),["enter"])},[y(e.$slots,"default",U(M(v(a))))],42,Ot))}}),Ut={class:"field-label is-normal"},Mt={class:"field-body"},Et=m({__name:"VField",props:{id:{default:void 0},label:{default:void 0},addons:{type:Boolean},textaddon:{type:Boolean},grouped:{type:Boolean},multiline:{type:Boolean},horizontal:{type:Boolean},subcontrol:{type:Boolean},raw:{type:Boolean}},setup(e,{expose:t}){const a=e,s=d(At({id:a.id,inherit:!a.subcontrol})),l=z(),i=u((()=>Boolean(l?.label?.()||a.label))),o=u((()=>a.raw?[]:["field",a.addons&&"has-addons",a.textaddon&&"has-textarea-addon",a.grouped&&"is-grouped",a.grouped&&a.multiline&&"is-grouped-multiline",a.horizontal&&"is-horizontal"]));return t(s),(e,t)=>{const l=Ft;return g(),f("div",{class:_(v(o))},[v(i)&&a.horizontal?(g(),f(j,{key:0},[V("div",Ut,[y(e.$slots,"label",U(M(v(s))),(()=>[x(l,null,{default:w((()=>[C(P(a.label),1)])),_:1})]))]),V("div",Mt,[y(e.$slots,"default",U(M(v(s))))])],64)):v(i)?(g(),f(j,{key:1},[y(e.$slots,"label",U(M(v(s))),(()=>[x(l,null,{default:w((()=>[C(P(a.label),1)])),_:1})])),y(e.$slots,"default",U(M(v(s))))],64)):y(e.$slots,"default",U(R({key:2},v(s))))],2)}}}),Bt=e=>(N("data-v-f34ea4fa"),e=e(),H(),e),zt=["data-icon"],jt=Bt((()=>V("i",{"aria-hidden":"true","data-icon":"feather:check",class:"iconify"},null,-1))),Rt=[Bt((()=>V("i",{"aria-hidden":"true","data-icon":"feather:x",class:"iconify"},null,-1)))],Nt=fe(m({__name:"VControl",props:{id:{type:String,default:void 0},icon:{type:String,default:void 0},isValid:{type:Boolean,default:void 0},hasError:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},expanded:{type:Boolean,default:void 0},fullwidth:{type:Boolean,default:void 0},textaddon:{type:Boolean,default:void 0},nogrow:{type:Boolean,default:void 0},subcontrol:{type:Boolean,default:void 0},raw:{type:Boolean,default:void 0}},setup(e){const t=e,a=u((()=>t.icon&&-1!==t.icon.indexOf(":"))),s=d(At({id:t.id,inherit:!t.subcontrol})),l=u((()=>t.isValid)),i=u((()=>s?.field?Boolean(s?.field?.errorMessage?.value):t.hasError)),o=u((()=>t.raw?[]:["control",t.icon&&"has-icon",t.loading&&"is-loading",t.expanded&&"is-expanded",t.fullwidth&&"is-fullwidth",t.nogrow&&"is-nogrow",t.textaddon&&"is-textarea-addon",l.value&&"has-validation has-success",i.value&&"has-validation has-error",t.subcontrol&&"subcontrol"]));return(e,r)=>(g(),f("div",{class:_(v(o))},[y(e.$slots,"default",U(M(v(s))),void 0,!0),t.icon?(g(),f(j,{key:0},[v(a)?(g(),k(Ft,{key:0,class:"form-icon"},{default:w((()=>[V("i",{"aria-hidden":"true","data-icon":t.icon,class:"iconify"},null,8,zt)])),_:1})):(g(),k(Ft,{key:1,class:"form-icon"},{default:w((()=>[V("i",{"aria-hidden":"true",class:_(t.icon)},null,2)])),_:1}))],64)):I("",!0),v(l)?(g(),k(Ft,{key:1,class:"validation-icon is-success"},{default:w((()=>[jt])),_:1})):v(i)?(g(),f("a",{key:2,class:"validation-icon is-error",onClick:r[0]||(r[0]=B((()=>v(s).field?.resetField?.()),["prevent"])),onKeyup:r[1]||(r[1]=E(B((()=>v(s).field?.resetField?.()),["prevent"]),["enter"]))},Rt,32)):I("",!0),y(e.$slots,"extra",U(M(v(s))),void 0,!0)],2))}}),[["__scopeId","data-v-f34ea4fa"]]),Ht=["id","name","true-value","false-value"],Wt=m({__name:"VInput",props:{raw:{type:Boolean},modelValue:{default:""},trueValue:{type:Boolean,default:!0},falseValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=d(At({create:!1,help:"VInput"})),l=p(s.field?.value??a.modelValue);W(l,(()=>{t("update:modelValue",l.value)})),W((()=>a.modelValue),(()=>{l.value=a.modelValue}));const i=u((()=>a.raw?[]:["input"]));return(e,t)=>Y((g(),f("input",{id:v(s).id,"onUpdate:modelValue":t[0]||(t[0]=e=>q(l)?l.value=e:null),class:_(v(i)),name:v(s).id,"true-value":a.trueValue,"false-value":a.falseValue,onChange:t[1]||(t[1]=(...e)=>v(s).field?.handleChange&&v(s).field?.handleChange(...e)),onBlur:t[2]||(t[2]=(...e)=>v(s).field?.handleBlur&&v(s).field?.handleBlur(...e))},null,42,Ht)),[[G,v(l)]])}}),Yt={width:"300",height:"315",viewBox:"0 0 300 315",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gt=[J('<path d="M154.601 91.3272C150.707 84.5301 144.708 79.184 137.509 76.0953C130.311 73.0066 122.303 72.343 114.694 74.2047C107.085 76.0663 100.288 80.3522 95.328 86.4155C90.3685 92.4789 87.5155 99.9909 87.1995 107.818C86.8836 115.645 89.1218 123.362 93.5766 129.806C98.0313 136.249 104.461 141.069 111.895 143.538C119.329 146.007 127.365 145.991 134.789 143.492C142.213 140.994 148.624 136.148 153.053 129.687L143.02 122.81C140.083 127.095 135.833 130.308 130.91 131.964C125.986 133.621 120.658 133.632 115.728 131.995C110.799 130.357 106.535 127.161 103.581 122.889C100.627 118.616 99.1432 113.499 99.3527 108.308C99.5622 103.118 101.454 98.1371 104.743 94.1164C108.032 90.0957 112.539 87.2537 117.584 86.0192C122.63 84.7848 127.94 85.2248 132.714 87.2729C137.487 89.3211 141.465 92.8662 144.047 97.3733L154.601 91.3272Z" fill="#41B983" data-v-d6730035></path><path d="M148.231 115.995C153.648 110.337 160.759 106.594 168.49 105.331C176.221 104.068 184.153 105.354 191.089 108.994C198.025 112.635 203.589 118.432 206.941 125.512C210.293 132.592 211.252 140.57 209.672 148.242C208.093 155.915 204.061 162.866 198.184 168.046C192.308 173.226 184.907 176.354 177.096 176.958C169.286 177.563 161.492 175.611 154.888 171.397C148.285 167.183 143.231 160.936 140.49 153.598L151.884 149.341C153.701 154.207 157.053 158.349 161.431 161.144C165.81 163.938 170.979 165.232 176.158 164.832C181.337 164.431 186.245 162.356 190.141 158.921C194.038 155.487 196.712 150.878 197.759 145.79C198.807 140.702 198.171 135.412 195.948 130.717C193.725 126.022 190.036 122.178 185.436 119.764C180.837 117.35 175.577 116.497 170.451 117.335C165.324 118.172 160.609 120.654 157.017 124.406L148.231 115.995Z" fill="url(#paint0_radial_413_3)" data-v-d6730035></path><circle cx="123.5" cy="109.5" r="11.5" fill="#585858" data-v-d6730035></circle><circle cx="174.5" cy="141.5" r="11.5" fill="#585858" data-v-d6730035></circle><path d="M60.041 239H32.5605C31.8574 239 31.0957 238.922 30.2754 238.766C29.4746 238.59 28.6738 238.326 27.873 237.975C27.0918 237.623 26.3398 237.174 25.6172 236.627C24.8945 236.061 24.25 235.387 23.6836 234.605C23.1367 233.805 22.6973 232.887 22.3652 231.852C22.0332 230.797 21.8672 229.615 21.8672 228.307V207.682C21.8672 206.979 21.9453 206.227 22.1016 205.426C22.2773 204.605 22.541 203.805 22.8926 203.023C23.2441 202.223 23.7031 201.461 24.2695 200.738C24.8359 200.016 25.5098 199.381 26.291 198.834C27.0918 198.268 28.0098 197.818 29.0449 197.486C30.0801 197.154 31.252 196.988 32.5605 196.988H60.041V204.605H32.5605C31.5645 204.605 30.8027 204.869 30.2754 205.396C29.748 205.924 29.4844 206.705 29.4844 207.74V228.307C29.4844 229.283 29.748 230.045 30.2754 230.592C30.8223 231.119 31.584 231.383 32.5605 231.383H60.041V239ZM109.23 211.109C109.23 212.848 109.016 214.4 108.586 215.768C108.156 217.135 107.57 218.346 106.828 219.4C106.105 220.436 105.266 221.324 104.309 222.066C103.352 222.809 102.346 223.424 101.291 223.912C100.256 224.381 99.2012 224.723 98.127 224.938C97.0723 225.152 96.0762 225.26 95.1387 225.26L111.047 239H99.2695L83.3906 225.26H77.9121V217.643H95.1387C96.0957 217.564 96.9648 217.369 97.7461 217.057C98.5469 216.725 99.2305 216.285 99.7969 215.738C100.383 215.191 100.832 214.537 101.145 213.775C101.457 212.994 101.613 212.105 101.613 211.109V206.305C101.613 205.875 101.555 205.553 101.438 205.338C101.34 205.104 101.203 204.938 101.027 204.84C100.871 204.723 100.695 204.654 100.5 204.635C100.324 204.615 100.158 204.605 100.002 204.605H74.8652V239H67.248V200.826C67.248 200.299 67.3457 199.801 67.541 199.332C67.7363 198.863 68 198.453 68.332 198.102C68.6836 197.75 69.0938 197.477 69.5625 197.281C70.0312 197.086 70.5391 196.988 71.0859 196.988H100.002C101.701 196.988 103.137 197.301 104.309 197.926C105.48 198.531 106.428 199.303 107.15 200.24C107.893 201.158 108.42 202.154 108.732 203.229C109.064 204.303 109.23 205.309 109.23 206.246V211.109ZM165.773 239H158.098V213.98L144.592 237.74C144.26 238.346 143.791 238.805 143.186 239.117C142.6 239.43 141.965 239.586 141.281 239.586C140.617 239.586 139.992 239.43 139.406 239.117C138.84 238.805 138.391 238.346 138.059 237.74L124.494 213.98V239H116.877V200.24C116.877 199.361 117.131 198.58 117.639 197.896C118.166 197.213 118.85 196.754 119.689 196.52C120.1 196.422 120.51 196.393 120.92 196.432C121.33 196.451 121.721 196.539 122.092 196.695C122.482 196.832 122.834 197.037 123.146 197.311C123.459 197.564 123.723 197.877 123.938 198.248L141.281 228.395L158.625 198.248C159.074 197.506 159.689 196.979 160.471 196.666C161.271 196.354 162.102 196.305 162.961 196.52C163.781 196.754 164.455 197.213 164.982 197.896C165.51 198.58 165.773 199.361 165.773 200.24V239Z" fill="#585858" data-v-d6730035></path><path d="M206.496 228.512C206.496 229.566 206.311 230.709 205.939 231.939C205.568 233.15 204.963 234.283 204.123 235.338C203.303 236.373 202.219 237.242 200.871 237.945C199.543 238.648 197.922 239 196.008 239H182.268C181.213 239 180.07 238.814 178.84 238.443C177.629 238.072 176.496 237.477 175.441 236.656C174.406 235.816 173.537 234.732 172.834 233.404C172.131 232.057 171.779 230.426 171.779 228.512C171.779 227.457 171.965 226.314 172.336 225.084C172.707 223.854 173.303 222.721 174.123 221.686C174.963 220.631 176.047 219.752 177.375 219.049C178.723 218.346 180.354 217.994 182.268 217.994H196.008V225.26H182.268C181.232 225.26 180.432 225.582 179.865 226.227C179.299 226.852 179.016 227.633 179.016 228.57C179.016 229.566 179.338 230.348 179.982 230.914C180.646 231.461 181.428 231.734 182.326 231.734H196.008C197.043 231.734 197.844 231.422 198.41 230.797C198.977 230.172 199.26 229.391 199.26 228.453V217.818C199.26 216.822 198.947 216.031 198.322 215.445C197.717 214.859 196.945 214.566 196.008 214.566H179.279V207.33H196.008C197.062 207.33 198.195 207.516 199.406 207.887C200.637 208.258 201.77 208.863 202.805 209.703C203.859 210.523 204.738 211.607 205.441 212.955C206.145 214.283 206.496 215.904 206.496 217.818V228.512ZM241.682 214.947H228.381V239H220.676V214.947H210.773V207.33H220.676V196.988H228.381V207.33H241.682V214.947ZM280.646 217.818C280.646 218.873 280.461 220.016 280.09 221.246C279.719 222.457 279.113 223.59 278.273 224.645C277.453 225.68 276.369 226.549 275.021 227.252C273.693 227.955 272.072 228.307 270.158 228.307H256.418V221.07H270.158C271.193 221.07 271.994 220.758 272.561 220.133C273.127 219.488 273.41 218.697 273.41 217.76C273.41 216.764 273.088 215.982 272.443 215.416C271.818 214.85 271.057 214.566 270.158 214.566H256.418C255.383 214.566 254.582 214.889 254.016 215.533C253.449 216.158 253.166 216.939 253.166 217.877V228.512C253.166 229.527 253.479 230.318 254.104 230.885C254.748 231.451 255.539 231.734 256.477 231.734H270.158V239H256.418C255.363 239 254.221 238.814 252.99 238.443C251.779 238.072 250.646 237.477 249.592 236.656C248.557 235.816 247.688 234.732 246.984 233.404C246.281 232.057 245.93 230.426 245.93 228.512V217.818C245.93 216.764 246.115 215.631 246.486 214.42C246.857 213.189 247.453 212.057 248.273 211.021C249.113 209.967 250.197 209.088 251.525 208.385C252.873 207.682 254.504 207.33 256.418 207.33H270.158C271.213 207.33 272.346 207.516 273.557 207.887C274.787 208.258 275.92 208.863 276.955 209.703C278.01 210.523 278.889 211.607 279.592 212.955C280.295 214.283 280.646 215.904 280.646 217.818Z" fill="#41B983" data-v-d6730035></path><defs data-v-d6730035><radialGradient id="paint0_radial_413_3" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(174.299 140.96) rotate(10.9645) scale(49.8181)" data-v-d6730035><stop stop-color="#41B983" stop-opacity="0" data-v-d6730035></stop><stop stop-color="#41B983" data-v-d6730035></stop></radialGradient></defs>',7)],qt=m({__name:"AnimatedLogo",props:{light:{type:Boolean}},setup(e){const t=ue(),a=p(!1);return t.beforeEach((()=>{a.value=!0})),t.afterEach((()=>{setTimeout((()=>{a.value=!1}),200)})),(e,t)=>(g(),f("svg",Yt,Gt))}}),Jt=fe(qt,[["__scopeId","data-v-d6730035"]]),Kt={setup:()=>({darkmode:It(),step:"login"}),name:"Login",props:{source:String},mounted(){s({title:this.$route.meta.title})},data:()=>({email:"",password:"",serverErrors:{}}),watch:{email(){this.serverErrors={}}},methods:{handleLogin(){let e=this.email,t=this.password,a=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;a.test(e)&&t.length>=5?this.$store.dispatch("retrieveToken",{email:this.email,password:this.password}).then((()=>{const e=this.$store.getters.getRole;"admin"!==e?"web_master"===e?this.$router.push({name:"webmaster-leads"}):"buyer"===e?this.$router.push({name:"buyer-leads"}):"teamlead"===e?this.$router.push({name:"teamlead-leads"}):"affiliate"===e?this.$router.push({name:"affiliate-leads"}):"manager"===e?this.$router.push({name:"manager-leads"}):"manager_p"===e?this.$router.push({name:"manager-pro-leads"}):"affiliate_manager"===e?this.$router.push({name:"affiliate-manager-dashboard"}):"financier"===e?this.$router.push({name:"financier-dashboard"}):"support"===e&&this.$router.push({name:"support-dashboard"}):this.$router.push({name:"dashboard"}).catch((e=>{console.info(e.message)}))})).catch((()=>{this.$store.commit("setAlert",{message:"Incorrect email or password",type:"error"})})):a.test(e)?this.$store.commit("setAlert",{message:"Please, enter password",type:"error"}):this.$store.commit("setAlert",{message:"Please, enter valid email",type:"error"})}}},Xt=e=>(N("data-v-0590cc1b"),e=e(),H(),e),Zt={class:"modern-login"},Qt=Xt((()=>V("div",{class:"underlay h-hidden-mobile h-hidden-tablet-p"},null,-1))),ea={class:"columns is-gapless is-vcentered"},ta=J('<div class="column is-relative is-8 h-hidden-mobile h-hidden-tablet-p" data-v-0590cc1b><div class="hero is-fullheight is-image" data-v-0590cc1b><div class="hero-body" data-v-0590cc1b><div class="container" data-v-0590cc1b><div class="columns" data-v-0590cc1b><div class="column" data-v-0590cc1b><img class="hero-image" src="/assets/station-CBpN_gfM.svg" alt="" data-v-0590cc1b></div></div></div></div></div></div>',1),aa={class:"column is-4 is-relative"},sa=["checked"],la=Xt((()=>V("span",null,null,-1))),ia={class:"is-form"},oa={class:"hero-body"},ra=[Xt((()=>V("h2",null,"Sign In",-1))),Xt((()=>V("p",null,"Welcome back to your account.",-1)))],na=[Xt((()=>V("h2",null,"Recover Account",-1))),Xt((()=>V("p",null,"Reset your account password.",-1)))],da=["validation-schema"],ua={key:0,class:"help is-danger"},ca=Xt((()=>V("span",{class:"toggler"},[V("span",{class:"active"},[V("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),V("span",{class:"inactive"},[V("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ma={class:"button-wrap has-help"};const pa=fe(Kt,[["render",function(e,t,a,s,l,i){const o=Jt,r=$("RouterLink"),n=Ft,d=Wt,u=Nt,c=Et,m=bt;return g(),f("div",Zt,[Qt,V("div",ea,[ta,V("div",aa,[x(r,{to:"/",class:"top-logo"},{default:w((()=>[x(o,{width:"38px",height:"38px"})])),_:1}),V("label",{class:"dark-mode ml-auto",tabindex:"0",onKeydown:t[1]||(t[1]=E(B((e=>e.target.click()),["prevent"]),["space"]))},[V("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!s.darkmode.isDark,onChange:t[0]||(t[0]=(...e)=>s.darkmode.onChange&&s.darkmode.onChange(...e))},null,40,sa),la],32),V("div",ia,[V("div",oa,[V("div",{class:_(["form-text",["login"!==s.step&&"is-hidden"]])},ra,2),V("div",{class:_(["form-text",["login"===s.step&&"is-hidden"]])},na,2),V("form",{ref:"myForm","data-cy":"login-form",class:_([["login"!==s.step&&"is-hidden"],"login-wrapper"]),onSubmit:t[4]||(t[4]=B(((...e)=>i.handleLogin&&i.handleLogin(...e)),["prevent"])),onInvalidSubmit:t[5]||(t[5]=(...t)=>e.onInvalidSubmit&&e.onInvalidSubmit(...t)),"validation-schema":e.validationSchema},[x(c,{id:"email"},{default:w((({field:e})=>[x(u,{icon:"lnil lnil-envelope autv-icon"},{default:w((()=>[x(n,{class:"auth-label"},{default:w((()=>[C("Email Address")])),_:1}),x(d,{modelValue:l.email,"onUpdate:modelValue":t[2]||(t[2]=e=>l.email=e),"data-cy":"email-input",type:"text",autocomplete:"current-password"},null,8,["modelValue"]),e?.errorMessage?(g(),f("p",ua,P(e.errorMessage),1)):I("",!0)])),_:2},1024)])),_:1}),x(c,null,{default:w((()=>[x(u,{icon:"lnil lnil-lock-alt autv-icon"},{default:w((()=>[x(n,{class:"auth-label"},{default:w((()=>[C("Password")])),_:1}),x(d,{modelValue:l.password,"onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),"data-cy":"password-input",type:"password",autocomplete:"current-password"},null,8,["modelValue"])])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(u,{class:"is-flex"},{default:w((()=>[x(n,{raw:"",class:"remember-toggle"},{default:w((()=>[x(d,{raw:"",type:"checkbox"}),ca])),_:1}),x(n,{raw:"",class:"remember-me"},{default:w((()=>[C("Remember Me")])),_:1})])),_:1})])),_:1}),V("div",ma,[x(m,{id:"login-button",loading:e.isLoading,color:"primary",type:"submit",size:"big",rounded:"",raised:"",bold:""},{default:w((()=>[C(" Confirm ")])),_:1},8,["loading"])])],42,da)])])])])])}],["__scopeId","data-v-0590cc1b"]]);const ha=fe({created(){this.$store.dispatch("destroyToken").then((()=>{this.$router.push({name:"login"}).catch((e=>{console.info(e.message)}))}))},mounted(){s({title:this.$route.meta.title}),this.getCurrentUser(this.userId),this.currentUser.avatar=this.userAvatar}},[["render",function(e,t,a,s,l,i){return null}]]),ga=["data-icon"],fa=m({__name:"VIcon",props:{icon:{}},setup(e){const t=e,a=u((()=>t.icon&&-1!==t.icon.indexOf(":")));return(e,s)=>(g(),f("span",{key:t.icon},[v(a)?(g(),f("i",{key:0,"aria-hidden":"true",class:"iconify","data-icon":t.icon},null,8,ga)):(g(),f("i",{key:1,"aria-hidden":"true",class:_(t.icon)},null,2))]))}}),ya={class:"tabs-inner"},_a={key:0,class:"tab-naver"},va={class:"tab-content is-active"},ba=m({__name:"VTabs",props:{tabs:{},selected:{default:void 0},type:{default:void 0},align:{default:void 0},slider:{type:Boolean},slow:{type:Boolean}},emits:["update:selected"],setup(e,{emit:t}){const a=e,s=p(a.selected),l=u((()=>{if(!a.slider)return"";if("rounded"===a.type)return 3===a.tabs.length?"is-triple-slider":2===a.tabs.length?"is-slider":"";if(!a.type){if(3===a.tabs.length)return"is-squared is-triple-slider";if(2===a.tabs.length)return"is-squared is-slider"}return""}));function i(e){s.value=e}return W((()=>a.selected),(e=>{s.value=e})),W(s,(e=>{t("update:selected",e)})),(e,t)=>{const o=fa,r=$("RouterLink");return g(),f("div",{class:_(["tabs-wrapper",[v(l)]])},[V("div",ya,[V("div",{class:_(["tabs",["centered"===a.align&&"is-centered","right"===a.align&&"is-right","rounded"===a.type&&!a.slider&&"is-toggle is-toggle-rounded","toggle"===a.type&&"is-toggle","boxed"===a.type&&"is-boxed"]])},[V("ul",null,[(g(!0),f(j,null,K(e.tabs,((t,a)=>(g(),f("li",{key:a,class:_([v(s)===t.value&&"is-active"])},[y(e.$slots,"tab-link",U(M({activeValue:v(s),tab:t,key:a,toggle:i})),(()=>[x(r,{tabindex:"0",to:t.to??"#",onKeydown:E((e=>i(t.value)),["enter"]),onClick:e=>i(t.value)},{default:w((()=>[t.icon?(g(),k(o,{key:0,icon:t.icon},null,8,["icon"])):I("",!0),V("span",null,[y(e.$slots,"tab-link-label",U(M({activeValue:v(s),tab:t,key:a,toggle:i})),(()=>[C(P(t.label),1)]))])])),_:2},1032,["to","onKeydown","onClick"])]))],2)))),128)),v(l)?(g(),f("li",_a)):I("",!0)])],2)]),V("div",va,[x(D,{name:a.slow?"fade-slow":"fade-fast",mode:"out-in"},{default:w((()=>[y(e.$slots,"tab",U(M({activeValue:v(s)})))])),_:3},8,["name"])])],2)}}}),Sa=V("div",{style:{"font-weight":"600"}},"Token:",-1),ka={style:{"word-wrap":"break-word"}},wa=V("code",{style:{color:"#e83e8c","font-size":"14px"}},"POST /api/leads",-1),Va={key:0,style:{"word-break":"break-all"},class:"pl-2"},Pa=V("br",null,null,-1),xa=V("span",{class:"text-blue"}," curl",-1),Ca=V("span",{class:"text-orange"},"--location --request",-1),Ia=V("br",null,null,-1),Da=V("span",{class:"text-orange"}," --header",-1),La=V("br",null,null,-1),$a=V("span",{class:"text-orange"}," --data-urlencode",-1),Ta=V("br",null,null,-1),Aa=V("span",{class:"text-orange"}," --data-urlencode",-1),Oa=V("br",null,null,-1),Fa=V("span",{class:"text-orange"}," --data-urlencode",-1),Ua=V("br",null,null,-1),Ma=V("span",{class:"text-orange"}," --data-urlencode",-1),Ea=V("br",null,null,-1),Ba=V("span",{class:"text-orange"}," --data-urlencode",-1),za=V("br",null,null,-1),ja=V("span",{class:"text-orange"}," --data-urlencode",-1),Ra=V("br",null,null,-1),Na=V("span",{class:"text-orange"}," --data-urlencode",-1),Ha=V("br",null,null,-1),Wa=V("span",{class:"text-orange"}," --data-urlencode",-1),Ya=V("br",null,null,-1),Ga=V("span",{class:"text-orange"}," --data-urlencode",-1),qa=V("br",null,null,-1),Ja=V("br",null,null,-1),Ka={key:1,style:{"word-break":"break-all"},class:"pl-2"},Xa=V("br",null,null,-1),Za=V("span",{class:"text-grey"}," <?php",-1),Qa=V("br",null,null,-1),es=V("span",{class:"text-orange"}," $curl",-1),ts=V("span",{class:"text-blue"},"curl_init()",-1),as=V("br",null,null,-1),ss=V("br",null,null,-1),ls=V("span",{class:"text-orange"}," $data",-1),is=V("br",null,null,-1),os=V("span",{class:"text-blue"}," curl_setopt_array(",-1),rs=V("span",{class:"text-orange"},"$curl",-1),ns=V("br",null,null,-1),ds=V("span",{class:"text-orange"}," CURLOPT_URL",-1),us=V("span",{class:"text-grey"},"=>",-1),cs=V("br",null,null,-1),ms=V("span",{class:"text-orange"}," CURLOPT_RETURNTRANSFER",-1),ps=V("span",{class:"text-grey"},"=>",-1),hs=V("br",null,null,-1),gs=V("span",{class:"text-orange"}," CURLOPT_ENCODING",-1),fs=V("span",{class:"text-grey"},"=>",-1),ys=V("br",null,null,-1),_s=V("span",{class:"text-orange"}," CURLOPT_MAXREDIRS",-1),vs=V("span",{class:"text-grey"},"=>",-1),bs=V("br",null,null,-1),Ss=V("span",{class:"text-orange"}," CURLOPT_TIMEOUT",-1),ks=V("span",{class:"text-grey"},"=>",-1),ws=V("br",null,null,-1),Vs=V("span",{class:"text-orange"}," CURLOPT_FOLLOWLOCATION",-1),Ps=V("span",{class:"text-grey"},"=>",-1),xs=V("br",null,null,-1),Cs=V("span",{class:"text-orange"}," CURLOPT_HTTP_VERSION",-1),Is=V("span",{class:"text-grey"},"=>",-1),Ds=V("br",null,null,-1),Ls=V("span",{class:"text-orange"}," CURL_HTTP_VERSION_1_1",-1),$s=V("br",null,null,-1),Ts=V("span",{class:"text-orange"}," CURLOPT_CUSTOMREQUEST",-1),As=V("span",{class:"text-grey"},"=>",-1),Os=V("br",null,null,-1),Fs=V("span",{class:"text-orange"}," CURLOPT_POSTFIELDS",-1),Us=V("span",{class:"text-grey"},"=>",-1),Ms=V("span",{class:"text-orange"},"$data",-1),Es=V("br",null,null,-1),Bs=V("span",{class:"text-orange"}," CURLOPT_HTTPHEADER",-1),zs=V("span",{class:"text-grey"},"=>",-1),js=V("span",{class:"text-blue"},")",-1),Rs=V("br",null,null,-1),Ns=V("br",null,null,-1),Hs=V("span",{class:"text-orange"}," $response",-1),Ws=V("span",{class:"text-blue"},"curl_exec(",-1),Ys=V("span",{class:"text-orange"},"$curl",-1),Gs=V("span",{class:"text-blue"},")",-1),qs=V("br",null,null,-1),Js=V("br",null,null,-1),Ks=V("span",{class:"text-blue"}," curl_close(",-1),Xs=V("span",{class:"text-orange"},"$curl",-1),Zs=V("span",{class:"text-blue"},")",-1),Qs=V("br",null,null,-1),el=V("span",{class:"text-blue"}," echo",-1),tl=V("span",{class:"text-orange"},"$response",-1),al=V("br",null,null,-1),sl=V("br",null,null,-1),ll=V("code",{style:{color:"#e83e8c","font-size":"14px"}},"GET /api/web-master/leads",-1),il=V("span",null,"HEADER",-1),ol=V("span",null,"FIELDS",-1),rl={key:0,style:{"word-break":"break-all"},class:"pl-2"},nl=V("br",null,null,-1),dl=V("span",{class:"text-blue"}," curl",-1),ul=V("span",{class:"text-orange"},"--location --request",-1),cl=V("br",null,null,-1),ml=V("span",{class:"text-orange"}," --header",-1),pl=V("br",null,null,-1),hl=V("span",{class:"text-orange"}," --header",-1),gl=V("br",null,null,-1),fl=V("span",{class:"text-orange"}," --data-raw",-1),yl=V("br",null,null,-1),_l=V("br",null,null,-1),vl={key:1,style:{"word-break":"break-all"},class:"pl-2"},bl=V("br",null,null,-1),Sl=V("span",{class:"text-grey"}," <?php",-1),kl=V("br",null,null,-1),wl=V("span",{class:"text-orange"}," $curl",-1),Vl=V("span",{class:"text-blue"},"curl_init()",-1),Pl=V("br",null,null,-1),xl=V("br",null,null,-1),Cl=V("span",{class:"text-blue"}," curl_setopt_array(",-1),Il=V("span",{class:"text-orange"},"$curl",-1),Dl=V("br",null,null,-1),Ll=V("span",{class:"text-orange"}," CURLOPT_URL",-1),$l=V("span",{class:"text-grey"},"=>",-1),Tl=V("br",null,null,-1),Al=V("span",{class:"text-orange"}," CURLOPT_RETURNTRANSFER",-1),Ol=V("span",{class:"text-grey"},"=>",-1),Fl=V("br",null,null,-1),Ul=V("span",{class:"text-orange"}," CURLOPT_ENCODING",-1),Ml=V("span",{class:"text-grey"},"=>",-1),El=V("br",null,null,-1),Bl=V("span",{class:"text-orange"}," CURLOPT_MAXREDIRS",-1),zl=V("span",{class:"text-grey"},"=>",-1),jl=V("br",null,null,-1),Rl=V("span",{class:"text-orange"}," CURLOPT_TIMEOUT",-1),Nl=V("span",{class:"text-grey"},"=>",-1),Hl=V("br",null,null,-1),Wl=V("span",{class:"text-orange"}," CURLOPT_FOLLOWLOCATION",-1),Yl=V("span",{class:"text-grey"},"=>",-1),Gl=V("br",null,null,-1),ql=V("span",{class:"text-orange"}," CURLOPT_HTTP_VERSION",-1),Jl=V("span",{class:"text-grey"},"=>",-1),Kl=V("br",null,null,-1),Xl=V("span",{class:"text-orange"}," CURL_HTTP_VERSION_1_1",-1),Zl=V("br",null,null,-1),Ql=V("span",{class:"text-orange"}," CURLOPT_CUSTOMREQUEST",-1),ei=V("span",{class:"text-grey"},"=>",-1),ti=V("br",null,null,-1),ai=V("span",{class:"text-orange"}," CURLOPT_POSTFIELDS",-1),si=V("span",{class:"text-grey"},"=>",-1),li=V("br",null,null,-1),ii=V("span",{class:"text-orange"}," CURLOPT_HTTPHEADER",-1),oi=V("span",{class:"text-grey"},"=>",-1),ri=V("span",{class:"text-blue"},")",-1),ni=V("br",null,null,-1),di=V("br",null,null,-1),ui=V("span",{class:"text-orange"}," $response",-1),ci=V("span",{class:"text-blue"},"curl_exec(",-1),mi=V("span",{class:"text-orange"},"$curl",-1),pi=V("span",{class:"text-blue"},")",-1),hi=V("br",null,null,-1),gi=V("br",null,null,-1),fi=V("span",{class:"text-blue"}," curl_close(",-1),yi=V("span",{class:"text-orange"},"$curl",-1),_i=V("span",{class:"text-blue"},")",-1),vi=V("br",null,null,-1),bi=V("span",{class:"text-blue"}," echo",-1),Si=V("span",{class:"text-orange"},"$response",-1),ki=V("br",null,null,-1),wi=V("br",null,null,-1),Vi={name:"APIDoc",data:()=>({infoHeader:[{text:"Param",sortable:!1,value:"param"},{text:"Value",sortable:!1,value:"val"}],infoValues:[],sendLeadsHeader:[{text:"Param",sortable:!1,value:"param"},{text:"Value Type/Example",sortable:!1,value:"example"},{text:"Description",sortable:!1,value:"description"}],sendLeadsValues:[{param:"full_name",example:"John Doe",description:"First and Last Name"},{param:"phone",example:"79403512484",description:"Only digits"},{param:"email",example:"example@gmail.com",description:"Email"},{param:"ip",example:"125.12.13.14",description:"IP address"},{param:"country",example:"RU",description:"Country code"},{param:"landing",example:"example.com",description:"Funnel link"},{param:"user_id",example:"int",description:"Your uniq ID in our system"},{param:"source",example:"string",description:"Your nickname in our system"},{param:"landing_name",example:"string",description:"Landing Name"}],getLeadsValues:[{param:"date_start",example:"2022-05-05",description:"Date start"},{param:"date_end",example:"2022-05-05",description:"Date end"}],getLeadsHeaderValues:[{param:"Authorization",example:"string",description:"Bearer Token"}]}),computed:{...be(["getToken","userId"])},mounted(){s({title:this.$route.meta.title})},watch:{}},Pi=Object.assign(Vi,{setup(e){var t="/api";return(e,a)=>{const s=$("v-card-text"),l=$("v-card-title"),i=$("v-card-subtitle"),o=$("EasyDataTable"),r=ba,n=ft,d=$("v-col"),u=$("v-row"),c=$("v-container");return g(),k(c,{class:"api-doc",fluid:""},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",md:"12"},{default:w((()=>[x(n,null,{default:w((()=>[x(s,null,{default:w((()=>[V("div",null,[Sa,V("div",ka,P(e.getToken),1)])])),_:1}),x(l,null,{default:w((()=>[C(" Send leads ")])),_:1}),x(i,null,{default:w((()=>[wa])),_:1}),x(s,null,{default:w((()=>[x(o,{headers:e.sendLeadsHeader,items:e.sendLeadsValues,"buttons-pagination":!1,"border-color":!1},null,8,["headers","items"]),x(r,{class:"mt-5",selected:"curl",tabs:[{label:"cURL Example",value:"curl"},{label:"PHP cURL Example",value:"php"}]},{tab:w((({activeValue:a})=>["curl"===a?(g(),f("div",Va,[V("code",null,[Pa,xa,C(),Ca,C(" POST '"+P(v(t))+"/leads' ",1),Ia,Da,C(" 'Content-Type: application/x-www-form-urlencoded' "),La,$a,C(" 'fullname=John Doe' "),Ta,Aa,C(" 'phone=' "),Oa,Fa,C(" 'email=john.doe@gmail.com' "),Ua,Ma,C(" 'ip=13.13.13.125' "),Ea,Ba,C(" 'country=IT' "),za,ja,C(" 'user_id="+P(e.userId)+"' ",1),Ra,Na,C(" 'source=' "),Ha,Wa,C(" 'landing=' "),Ya,Ga,C(" 'landing_name='"),qa,Ja])])):I("",!0),"php"===a?(g(),f("div",Ka,[V("code",null,[Xa,Za,Qa,es,C(" = "),ts,C(";"),as,ss,ls,C(" = ['fullname' => '','phone' => '','email' => '','ip' => '','country' => '','user_id' => "+P(e.userId)+",'source' => '','landing' => '','landing_name' => '']",1),is,os,rs,C(", array("),ns,ds,C(),us,C(" '"+P(v(t))+"/leads',",1),cs,ms,C(),ps,C(" true,"),hs,gs,C(),fs,C(" '',"),ys,_s,C(),vs,C(" 10,"),bs,Ss,C(),ks,C(" 0,"),ws,Vs,C(),Ps,C(" true,"),xs,Cs,C(),Is,C(),Ds,Ls,C(", "),$s,Ts,C(),As,C(" 'POST', "),Os,Fs,C(),Us,C(" http_build_query("),Ms,C("), "),Es,Bs,C(),zs,C(" array( 'Content-Type: application/ x-www-form-urlencoded' ), )"),js,C("; "),Rs,Ns,Hs,C(" = "),Ws,Ys,Gs,C("; "),qs,Js,Ks,Xs,Zs,C("; "),Qs,el,C(),tl,C("; "),al,sl])])):I("",!0)])),_:1})])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(l,null,{default:w((()=>[C(" Send leads ")])),_:1}),x(i,null,{default:w((()=>[ll])),_:1}),x(s,null,{default:w((()=>[il,x(o,{headers:e.sendLeadsHeader,items:e.getLeadsHeaderValues,"buttons-pagination":!1,"border-color":!1},null,8,["headers","items"]),ol,x(o,{headers:e.sendLeadsHeader,items:e.getLeadsValues,"buttons-pagination":!1,"border-color":!1},null,8,["headers","items"]),x(r,{class:"mt-5",selected:"curl",tabs:[{label:"cURL Example",value:"curl"},{label:"PHP cURL Example",value:"php"}]},{tab:w((({activeValue:a})=>["curl"===a?(g(),f("div",rl,[V("code",null,[nl,dl,C(),ul,C(" GET '"+P(v(t))+"/web-master/leads' \\ ",1),cl,ml,C(" 'Content-Type: application/json' \\ "),pl,hl,C(" 'Authorization: Bearer "+P(e.getToken)+"' \\ ",1),gl,fl,C(' \'{"date_start" : "2022-05-05","date_end" : "2022-05-05" }\' '),yl,_l])])):I("",!0),"php"===a?(g(),f("div",vl,[V("code",null,[bl,Sl,kl,wl,C(" = "),Vl,C(";"),Pl,xl,Cl,Il,C(", array("),Dl,Ll,C(),$l,C(" '"+P(v(t))+"/web-master/leads',",1),Tl,Al,C(),Ol,C(" true,"),Fl,Ul,C(),Ml,C(" '',"),El,Bl,C(),zl,C(" 10,"),jl,Rl,C(),Nl,C(" 0,"),Hl,Wl,C(),Yl,C(" true,"),Gl,ql,C(),Jl,C(),Kl,Xl,C(", "),Zl,Ql,C(),ei,C(" 'GET', "),ti,ai,C(),si,C(' \'{"date_start": "2022-05-05","date_end": "2022-05-05"}\', '),li,ii,C(),oi,C(" array( 'Content-Type: application/json', 'Authorization: Bearer "+P(e.getToken)+"' ), )",1),ri,C("; "),ni,di,ui,C(" = "),ci,mi,pi,C("; "),hi,gi,fi,yi,_i,C("; "),vi,bi,C(),Si,C("; "),ki,wi])])):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),xi=m({props:{icon:{type:String,required:!0},to:{type:Object,default:void 0},href:{type:String,default:void 0},color:{type:String,default:void 0,validator:e=>-1!==[void 0,"primary","info","success","warning","danger","white"].indexOf(e)||(console.warn(`VIconButton: invalid "${e}" color. Should be primary, info, success, warning, danger, white or undefined`),!1)},dark:{type:String,default:void 0,validator:e=>!e||(-1!==["1","2","3","4","5","6"].indexOf(e)||(console.warn(`VIconButton: invalid "${e}" dark. Should be 1, 2, 3, 4, 5, 6 or undefined`),!1))},circle:{type:Boolean,default:!1},bold:{type:Boolean,default:!1},light:{type:Boolean,default:!1},raised:{type:Boolean,default:!1},elevated:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},darkOutlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t}){const a=u((()=>[...t?.class||[],e.disabled&&"is-disabled",e.circle&&"is-circle",e.bold&&"is-bold",e.outlined&&"is-outlined",e.raised&&"is-raised",e.dark&&`is-dark-bg-${e.dark}`,e.darkOutlined&&"is-dark-outlined",e.elevated&&"is-elevated",e.loading&&"is-loading",e.color&&`is-${e.color}`,e.light&&"is-light"])),s=u((()=>e.icon&&-1!==e.icon.indexOf(":")));return()=>{let l;l=s.value?S("i",{"aria-hidden":!0,class:"iconify","data-icon":e.icon}):S("i",{"aria-hidden":!0,class:e.icon});const i=S("span",{class:"icon"},l);return e.to?S($("RouterLink"),{...t,to:e.to,class:["button",...a.value]},i):e.href?S("a",{...t,href:e.href,class:a.value},i):S("button",{type:"button",...t,disabled:e.disabled,class:["button",...a.value]},i)}}}),Ci=(e,t)=>a=>{a.target.src=`https://via.placeholder.com/${e}x${t??e}`},Ii=["src"],Di=["src"],Li=["src"],$i=m({__name:"VAvatar",props:{picture:{default:void 0},pictureDark:{default:void 0},placeholder:{default:"https://via.placeholder.com/50x50"},badge:{default:void 0},initials:{default:"?"},size:{default:void 0},color:{default:void 0},dotColor:{default:void 0},squared:{type:Boolean},dot:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("div",{class:_(["v-avatar",[e.size&&`is-${t.size}`,e.dot&&"has-dot",e.dotColor&&`dot-${t.dotColor}`,e.squared&&e.dot&&"has-dot-squared"]])},[y(e.$slots,"avatar",{},(()=>[t.picture?(g(),f("img",{key:0,class:_(["avatar",[t.squared&&"is-squared",t.pictureDark&&"light-image"]]),src:t.picture,alt:"",onErrorOnce:a[0]||(a[0]=e=>v(Ci)(150))},null,42,Ii)):(g(),f("span",{key:1,class:_(["avatar is-fake",[t.squared&&"is-squared",t.color&&`is-${t.color}`]])},[V("span",null,P(t.initials),1)],2)),t.picture&&t.pictureDark?(g(),f("img",{key:2,class:_(["avatar dark-image",[t.squared&&"is-squared"]]),src:t.pictureDark,alt:"",onErrorOnce:a[1]||(a[1]=e=>v(Ci)(150))},null,42,Di)):I("",!0)])),y(e.$slots,"badge",{},(()=>[t.badge?(g(),f("img",{key:0,class:"badge",src:t.badge,alt:"",onErrorOnce:a[2]||(a[2]=e=>v(Ci)(150))},null,40,Li)):I("",!0)]))],2))}}),Ti={name:"DashboardFilter",data:()=>((new Date).setMinutes(0,0,0),{loading:!1,filterValues:{lead_type:"all",country_ids:[],period:"this_month"}}),props:{filters:Array,drawer:Boolean},computed:{...be(["offerFilters","countryFilters","leadWebmasterFilters","landingNameFilters"]),datesModel:{get:()=>p({start:"",end:""}),set(e){this.$emit("update:datesModel",{start:"2023-07-07 00:00",end:"2023-07-14 23:55"})}}},methods:{onDateRangeChange(){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"})},getItems(){let e=this.$parent.filterValues.period;this.filterValues.period=e,console.log("period - "+e),console.log(this.filterValues),this.$parent.filterValues=this.filterValues,this.$parent.filterValues.period=e,this.$parent.page=1,this.$parent.getGeneral(),console.log("last"),console.log(this.filterValues)},getOfferFilters(){let e=this.$parent.filterValues.period;this.filterValues.period=e;let t=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:t}).then((()=>{this.loading=!1}))},getCountryFilters(){let e=this.$parent.filterValues.period;this.filterValues.period=e;let t=this.filterValues;this.loading=!0,this.$store.dispatch("getCountryFilters",{filtersValues:t}).then((()=>{this.loading=!1}))},getLeadWebmasterFilters(){let e=this.$parent.filterValues.period;this.filterValues.period=e;let t=this.filterValues;this.loading=!0,this.$store.dispatch("getLeadWebmasterFilters",{filtersValues:t}).then((()=>{this.loading=!1}))},getLandingNameFilters(){let e=this.$parent.filterValues.period;this.filterValues.period=e;let t=this.filterValues;this.loading=!0,this.$store.dispatch("getLandingNameFilters",{filtersValues:t}).then((()=>{this.loading=!1}))}},watch:{draw(){this.getOfferFilters(),this.getCountryFilters(),this.getLeadWebmasterFilters(),this.getLandingNameFilters()},datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+a,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s;this.filterValues.date_start_registration=l,this.filterValues.date_end_registration=i}else this.filterValues.date_start_registration="2022-08-01 00:00:00",this.filterValues.date_end_registration="2022-08-01 23:59:00";this.getItems(1)}}},Ai={class:"columns is-multiline"},Oi={key:0,class:"column is-3"},Fi={key:1,class:"column is-3"},Ui={key:2,class:"column is-3"},Mi={key:3,class:"column is-3"};const Ei=fe(Ti,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=$("v-list"),u=$("v-col");return a.drawer?(g(),k(u,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(d,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",Ai,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["users"==a.id?(g(),f("div",Oi,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Webmasters")])),_:1}),x(r,{modelValue:l.filterValues.user_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.user_ids=e),t[1]||(t[1]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.leadWebmasterFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLeadWebmasterFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"campaigns"==a.id?(g(),f("div",Fi,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(r,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.filterValues.offer_ids=e),t[3]||(t[3]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getOfferFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"countries"==a.id?(g(),f("div",Ui,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Countries")])),_:1}),x(r,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[4]||(t[4]=e=>l.filterValues.country_ids=e),t[6]||(t[6]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[5]||(t[5]=e=>i.getItems()),"onSearch:focus":i.getCountryFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"funnels"==a.id?(g(),f("div",Mi,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,{modelValue:l.filterValues.landing_name_ids,"onUpdate:modelValue":[t[7]||(t[7]=e=>l.filterValues.landing_name_ids=e),t[8]||(t[8]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingNameFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]),Bi={class:"modal-content"},zi={class:"modal-card"},ji={class:"modal-card-head"},Ri=[V("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Ni={class:"inner-content"},Hi=m({__name:"VModal",props:{title:{},size:{default:void 0},actions:{default:void 0},open:{type:Boolean},rounded:{type:Boolean},noscroll:{type:Boolean},noclose:{type:Boolean},tabs:{type:Boolean},cancelLabel:{default:void 0}},emits:["close"],setup(e,{emit:t}){const a=e,{t:s}=n(),l=p(!1),i=u((()=>a.cancelLabel||s("cancel-label")));return L((()=>{a.noscroll&&a.open?(document.documentElement.classList.add("no-scroll"),l.value=!0):l.value&&a.noscroll&&!a.open&&(document.documentElement.classList.remove("no-scroll"),l.value=!1)})),X((()=>{document.documentElement.classList.remove("no-scroll")})),(e,s)=>(g(),k(Z,{to:"body"},[V("div",{class:_([[e.open&&"is-active",e.size&&`is-${e.size}`],"modal v-modal"])},[V("div",{class:"modal-background v-modal-close",tabindex:"0",onKeydown:s[0]||(s[0]=E(B((()=>!1===e.noclose&&t("close")),["prevent"]),["space"])),onClick:s[1]||(s[1]=()=>!1===e.noclose&&t("close"))},null,32),V("div",Bi,[V("div",zi,[V("header",ji,[V("h3",null,P(e.title),1),V("button",{class:"v-modal-close ml-auto","aria-label":"close",tabindex:"0",onKeydown:s[2]||(s[2]=E(B((e=>t("close")),["prevent"]),["space"])),onClick:s[3]||(s[3]=e=>t("close"))},Ri,32)]),V("div",{class:_(["modal-card-body",[a.tabs&&"has-tabs"]])},[V("div",Ni,[y(e.$slots,"content")])],2),V("div",{class:_(["modal-card-foot",["center"===e.actions&&"is-centered","right"===e.actions&&"is-end"]])},[y(e.$slots,"cancel",{close:()=>t("close")},(()=>[V("a",{tabindex:"0",class:_(["button v-button v-modal-close",[e.rounded&&"is-rounded"]]),onKeydown:s[4]||(s[4]=E(B((e=>t("close")),["prevent"]),["space"])),onClick:s[5]||(s[5]=e=>t("close"))},P(v(i)),35)])),y(e.$slots,"action",{close:()=>t("close")})],2)])])],2)]))}}),Wi={name:"DashboardChartSettings",props:["show","chartsSettingData"],components:{draggable:Ve},data(){return{localChartsData:this.chartsSettingData,leadSettingsHeader:[{text:"Name",value:"name"}],selectedSettings:p([]),mainFieldSelect:!1,searchField:""}},mounted(){this.setLeadsHeader()},methods:{onChecked(e,t){let a=this.selectedSettings.findIndex((t=>t.name===e.name));-1==a?this.selectedSettings.push(e):this.selectedSettings.splice(a,1)},setLeadSettingsData(e){let t=[],a=[],s=!1;for(let i in this.dashboardCharts){s=!1;for(let t in e)if(this.dashboardCharts[i].id==e[t].id){s=!0;break}s&&t.push(this.dashboardCharts[i])}for(let i in e){s=!1;for(let t in this.dashboardCharts)if(this.dashboardCharts[t].id==e[i].id){s=!0;break}s?(e[i].checkbox=!0,this.selectedSettings.push(e[i])):a.push(e[i])}let l=[];for(let i in t)l.push(t[i]);for(let i in a)l.push(a[i]);return l},setLeadsHeader(){if(!this.dashboardCharts.length){let e=[{id:"leads",name:"Leads",checkbox:!0},{id:"ftd",name:"FTD",checkbox:!0},{id:"profit",name:"Profit",checkbox:!0},{id:"net_profit",name:"Net Profit",checkbox:!0}];this.$store.commit("setDashboardCharts",e)}let e=this.setLeadSettingsData(this.localChartsData);this.localChartsData=e},generateFields(e){let t=[];for(let a in e)!e[a].checkbox||1!=e[a].checkbox&&"true"!=e[a].checkbox||t.push(e[a]);return t},saveFields(){let e=this.generateFields(this.localChartsData);this.$store.dispatch("updateChartsSetting",{charts:e}).then((()=>{this.setLeadsHeader(),this.$parent.getGeneral()}))},closePopup(){this.$emit("update:openSettings",!1)},allMainFieldsAction(){for(let e in this.localChartsData){let t=this.selectedSettings.findIndex((t=>t.name===this.chartsSettingData[e].name));this.mainFieldSelect?(this.selectedSettings.splice(t,1),this.localChartsData[e].checkbox=!1):(this.selectedSettings.push(this.chartsSettingData[e]),this.localChartsData[e].checkbox=!0)}}},computed:{...be(["getRole","getUserSettings","fieldsLeadsTable","leadsPageTabs","dashboardCharts"])}},Yi={class:"modal-form"},Gi={class:"d-flex"},qi=V("p",{class:"text-h6",style:{"margin-left":"20px"}},"Main Charts",-1),Ji={key:0},Ki={style:{width:"10%"}},Xi={class:"easy-checkbox",style:{"--fdaf7e9e":"#42b883"}},Zi=["id","onUpdate:modelValue","onClick"],Qi=["for"],eo={style:{"text-align":"start"}};const to=fe(Wi,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=$("v-col"),d=$("v-row"),u=$("draggable"),c=$("EasyDataTable"),m=bt,p=Hi;return g(),k(p,{open:a.show,title:"Settings",size:"big",actions:"right",onClose:t[8]||(t[8]=e=>i.closePopup())},{content:w((()=>[x(d,{class:"lead_settings_modal"},{default:w((()=>[x(n,null,{default:w((()=>[V("form",Yi,[x(d,null,{default:w((()=>[x(n,{style:{"text-align":"center"}},{default:w((()=>[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchField=e),type:"text",class:"input custom-text-filter",placeholder:"Search a chart..."},null,512),[[G,l.searchField]])])),_:1})])),_:1})])),_:1})])),_:1}),x(d,{class:"lead_settings"},{default:w((()=>[x(n,null,{default:w((()=>[V("div",Gi,[Y(V("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>l.mainFieldSelect=e),onClick:t[2]||(t[2]=e=>i.allMainFieldsAction())},null,512),[[Q,l.mainFieldSelect]]),qi]),a.chartsSettingData?(g(),k(c,{key:0,class:"settings-lead-table","items-selected":l.selectedSettings,"onUpdate:itemsSelected":t[6]||(t[6]=e=>l.selectedSettings=e),headers:l.leadSettingsHeader,items:a.chartsSettingData,"buttons-pagination":!1,"border-color":!1,"search-value":l.searchField},{body:w((a=>[x(u,{style:{cursor:"pointer"},tag:"tbody",class:"table vue3-easy-data-table__body vue3-easy-data-table__body tr[data-v-4d5f5020]",modelValue:l.localChartsData,"onUpdate:modelValue":t[3]||(t[3]=e=>l.localChartsData=e),onStart:t[4]||(t[4]=t=>e.drag=!0),onEnd:t[5]||(t[5]=t=>e.drag=!1),"item-key":"id",group:"people"},{item:w((({element:e,index:t})=>[!l.searchField||l.searchField&&e.name.toLowerCase().includes(l.searchField.toLowerCase())?(g(),f("tr",Ji,[V("td",Ki,[V("div",Xi,[Y(V("input",{type:"checkbox",id:"checbox-"+e.name,class:"main-fields","onUpdate:modelValue":e=>l.localChartsData[t].checkbox=e,onClick:t=>i.onChecked(e,l.selectedSettings)},null,8,Zi),[[Q,l.localChartsData[t].checkbox]]),V("label",{for:"checbox-"+e.name},null,8,Qi)])]),V("td",eo,[V("div",null,P(e.name),1)])])):I("",!0)])),_:1},8,["modelValue"])])),_:1},8,["items-selected","headers","items","search-value"])):I("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})])),action:w((()=>[x(m,{color:"primary",onClick:t[7]||(t[7]=e=>i.saveFields()),raised:""},{default:w((()=>[C("Save")])),_:1})])),_:1},8,["open"])}]]),ao={class:"multiselect-single-label"},so={class:"select-label-text"},lo={class:"select-label-text"};const io=fe({name:"Table",components:{DatePicker:Pe},props:["period"],data(){return{localPeriod:this.period,format:"DD MM YYYY hh:mm",sameDateFormat:{from:"DD MM YYYY, hh:mm",to:"DD MM YYYY, hh:mm"},createdDateType:[{value:"today",name:"Today"},{value:"yesterday",name:"Yesterday"},{value:"this_week",name:"This Week"},{value:"last_week",name:"Last Week"},{value:"this_month",name:"This Month"},{value:"last_month",name:"Last Month"},{value:"this_year",name:"This year"},{value:"last_year",name:"Last year"},{value:"all",name:"All time"},{value:"custom_date",name:"Custom Date"}],datePickersDate:[{name:"Today",from:(new Date).setHours(0,0,0,0),to:(new Date).setHours(23,59,59,59)},{name:"Yesterday",from:new Date(Date.now()-864e5).setHours(0,0,0,0),to:new Date(Date.now()-864e5).setHours(23,59,59,59)},{name:"This Week",from:xe().startOf("isoweek").toDate(),to:xe().endOf("isoweek").toDate()},{name:"Last Week",from:xe().subtract(1,"weeks").startOf("isoWeek").toDate(),to:xe().subtract(1,"weeks").endOf("isoWeek").toDate()},{name:"This Month",from:xe().startOf("month").toDate(),to:xe().endOf("month").toDate()},{name:"Last Month",from:xe().subtract(1,"month").startOf("month").toDate(),to:xe().subtract(1,"month").endOf("month").toDate()},{name:"This Year",from:xe().startOf("year").toDate(),to:xe().endOf("year").toDate()},{name:"Last Year",from:xe().subtract(1,"year").startOf("year").toDate(),to:xe().subtract(1,"year").endOf("year").toDate()}]}},methods:{changeDate(){console.log("period"),console.log(this.period),"custom_date"==this.localPeriod?(console.log(document.querySelectorAll(".leads-date-filter input")),document.querySelectorAll(".leads-date-filter input")[0].click()):(console.log("pop"),this.$emit("changeDate",this.localPeriod))},selectDate(e,t){let a=[e,t];console.log(a),this.$emit("selectDate",a)}},watch:{period(e){this.localPeriod=e}}},[["render",function(e,t,a,s,l,i){const o=$("Multiselect"),r=$("date-picker",!0),n=Nt,d=Et;return g(),k(d,{style:{margin:"0"},class:"leads-date-filter"},{default:w((({id:e})=>[x(n,null,{default:w((()=>[x(o,{attrs:{id:e},class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.localPeriod,"onUpdate:modelValue":t[0]||(t[0]=e=>l.localPeriod=e),options:l.createdDateType,placeholder:"Date",onSelect:t[1]||(t[1]=e=>i.changeDate(e)),"option-height":100,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",ao,[V("span",so,P(e.name),1)])])),option:w((({option:e})=>[V("span",lo,P(e.name),1)])),_:2},1032,["attrs","modelValue","options"]),x(r,{dateInput:{placeholder:"Select Date"},initialDates:[(new Date).setHours(0,0,0,0),(new Date).setHours(23,59,59,59)],showHelperButtons:!0,format:l.format,sameDateFormat:l.sameDateFormat,class:"date-picker",ref:"createdDatePicker",onSelectDate:i.selectDate,onDateApplied:i.selectDate,"is-monday-first":!0,"helper-buttons":l.datePickersDate},null,8,["initialDates","format","sameDateFormat","onSelectDate","onDateApplied","helper-buttons"])])),_:2},1024)])),_:1})}]]),oo={name:"AdminDashboard",components:{ApexChart:we,DashboardFilter:Ei,DatePicker:io,DashboardChartsSetting:to},data:()=>({drawer:!1,openSettings:!1,filterValues:{period:"this_month",country_ids:[]}}),props:["filters","mainCharts"],mounted(){this.getGeneral(),this.getRevenue(),"teamlead"!=this.path&&"buyer"!=this.path&&"financier"!=this.path&&this.getCaps()},methods:{...Se(["getGeneralDashboard"]),async getGeneral(){let e=this.filterValues;return re.start(),this.$store.dispatch("getGeneralDashboard",{path:"dashboard/general",filtersValues:e}).then((()=>this.loading=!1)).finally((()=>{this.leadChart.subtitle&&window.ApexCharts.exec("sparkline1","updateOptions",{labels:this.leadChart.labels,series:this.leadChart.series,subtitle:{text:this.leadChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.ftdChart.subtitle&&window.ApexCharts.exec("sparkline2","updateOptions",{labels:this.ftdChart.labels,series:this.ftdChart.series,subtitle:{text:this.ftdChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.profitChart.subtitle&&window.ApexCharts.exec("sparkline3","updateOptions",{labels:this.profitChart.labels,series:this.profitChart.series,subtitle:{text:this.profitChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.totalOrdersChart.subtitle&&window.ApexCharts.exec("sparkline4","updateOptions",{labels:this.totalOrdersChart.labels,series:this.totalOrdersChart.series,subtitle:{text:this.totalOrdersChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.costChart.subtitle&&window.ApexCharts.exec("sparkline5","updateOptions",{labels:this.costChart.labels,series:this.costChart.series,subtitle:{text:this.costChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.incomeChart.subtitle&&window.ApexCharts.exec("sparkline6","updateOptions",{labels:this.incomeChart.labels,series:this.incomeChart.series,subtitle:{text:this.incomeChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.cpaChart.subtitle&&window.ApexCharts.exec("sparkline7","updateOptions",{labels:this.cpaChart.labels,series:this.cpaChart.series,subtitle:{text:this.cpaChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),this.cplChart.subtitle&&window.ApexCharts.exec("sparkline8","updateOptions",{labels:this.cplChart.labels,series:this.cplChart.series,subtitle:{text:this.cplChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),re.done()}))},async getRevenue(){return this.$store.dispatch("getRevenueDashboard",{path:"dashboard/revenue"}).then((()=>this.loading=!1)).finally((()=>{window.ApexCharts.exec("revenue-chart","updateOptions",{revenue:this.revenueChart.revenue,series:this.revenueChart.series,xaxis:{categories:this.revenueChart.xaxis.categories}})}))},async getCaps(){return this.$store.dispatch("getCapsDashboard",{path:"dashboard/caps"})},openFilters(){this.drawer=!this.drawer},selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1)},changeDate(e){this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1)},getItems(e=1){this.page=e,this.getGeneral()},updateChartsSettingData(e){this.$parent.mainCharts=e},updateOpenSettings(e){this.openSettings=e}},computed:{...be(["path","leadChart","ftdChart","dashboardCharts","incomeChart","costChart","cplChart","cpaChart","totalOrdersChart","profitChart","revenueChart","capsChart","getUserName","userAvatar"])}},ro={class:"finance-dashboard sales-dashboard"},no={class:"dashboard-header justify-space-between"},uo={class:"d-flex"},co={class:"start pt-3"},mo={class:"dark-inverted"},po=V("p",null,"We're very happy to see you again on your dashboard.",-1),ho={class:"spark-tiles"},go={class:"columns is-multiline"},fo={key:0,class:"column is-3"},yo={class:"spark-tile"},_o={key:1,class:"column is-3"},vo={class:"spark-tile"},bo={key:2,class:"column is-3"},So={class:"spark-tile"},ko={key:3,class:"column is-3"},wo={class:"spark-tile"},Vo={key:4,class:"column is-3"},Po={class:"spark-tile"},xo={key:5,class:"column is-3"},Co={class:"spark-tile"},Io={key:6,class:"column is-3"},Do={class:"spark-tile"},Lo={key:7,class:"column is-3"},$o={class:"spark-tile"},To={class:"column is-7"},Ao={class:"dashboard-card"},Oo=V("div",{class:"card-head"},[V("h3",{class:"dark-inverted"},"Revenue Overview")],-1),Fo={class:"revenue-stats"},Uo={class:"revenue-stat"},Mo=V("span",null,"This Month",-1),Eo={class:"current"},Bo={class:"revenue-stat"},zo=V("span",null,"Last Month",-1),jo={class:"dark-inverted"},Ro={key:0,class:"column is-5"},No={class:"dashboard-card flex-chart",style:{height:"100%"}},Ho=V("div",{class:"card-head"},[V("h3",{class:"dark-inverted"},"Caps")],-1),Wo={class:"group-content"},Yo={class:"chart-container"},Go={class:"dark-inverted"},qo={key:0,style:{"margin-top":"20px","text-align":"right"}};const Jo=fe(oo,[["render",function(e,t,a,s,l,i){const o=$i,r=xi,n=yt,d=$("DatePicker"),u=Et,c=$("DashboardFilter"),m=$("ApexChart"),p=$("v-row"),h=$("RouterLink"),y=$("DashboardChartsSetting");return g(),f("div",ro,[V("div",no,[V("div",uo,[x(o,{size:"large",picture:e.userAvatar},null,8,["picture"]),V("div",co,[V("h3",mo,"Welcome back, "+P(e.getUserName),1),po])]),V("div",null,[x(n,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(r,{icon:"feather:settings",color:"primary",onClick:t[0]||(t[0]=e=>l.openSettings=!0)}),x(r,{icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters())})])),_:1}),x(u,null,{default:w((()=>[x(d,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"])])),_:1})])]),l.drawer?(g(),k(c,{key:0,drawer:l.drawer,ref:"DashboardFilter",filters:a.filters},null,8,["drawer","filters"])):I("",!0),V("div",ho,[V("div",go,[x(p,null,{default:w((()=>[(g(!0),f(j,null,K(e.dashboardCharts,((t,a)=>(g(),f(j,{key:a},[e.leadChart&&"leads"==t.id?(g(),f("div",fo,[V("div",yo,[x(m,{ref_for:!0,ref:"chart1",id:"spark1",height:e.leadChart.chart.height,type:e.leadChart.chart.type,series:e.leadChart.series,options:e.leadChart},null,8,["height","type","series","options"])])])):I("",!0),e.ftdChart&&"ftd"==t.id?(g(),f("div",_o,[V("div",vo,[x(m,{ref_for:!0,ref:"chart2",id:"spark2",height:e.ftdChart.chart.height,type:e.ftdChart.chart.type,series:e.ftdChart.series,options:e.ftdChart},null,8,["height","type","series","options"])])])):I("",!0),e.profitChart&&"profit"==t.id?(g(),f("div",bo,[V("div",So,[x(m,{ref_for:!0,ref:"chart3",id:"spark3",height:e.profitChart.chart.height,type:e.profitChart.chart.type,series:e.profitChart.series,options:e.profitChart},null,8,["height","type","series","options"])])])):I("",!0),e.totalOrdersChart&&"net_profit"==t.id?(g(),f("div",ko,[V("div",wo,[x(m,{ref_for:!0,ref:"chart4",id:"spark4",height:e.totalOrdersChart.chart.height,type:e.totalOrdersChart.chart.type,series:e.totalOrdersChart.series,options:e.totalOrdersChart},null,8,["height","type","series","options"])])])):I("",!0),e.costChart&&"cost"==t.id?(g(),f("div",Vo,[V("div",Po,[x(m,{ref_for:!0,ref:"chart5",id:"spark5",height:e.costChart.chart.height,type:e.costChart.chart.type,series:e.costChart.series,options:e.costChart},null,8,["height","type","series","options"])])])):I("",!0),e.incomeChart&&"income"==t.id?(g(),f("div",xo,[V("div",Co,[x(m,{ref_for:!0,ref:"chart6",id:"spark6",height:e.incomeChart.chart.height,type:e.incomeChart.chart.type,series:e.incomeChart.series,options:e.incomeChart},null,8,["height","type","series","options"])])])):I("",!0),e.cpaChart&&"cpa"==t.id?(g(),f("div",Io,[V("div",Do,[x(m,{ref_for:!0,ref:"chart7",id:"spark7",height:e.cpaChart.chart.height,type:e.cpaChart.chart.type,series:e.cpaChart.series,options:e.cpaChart},null,8,["height","type","series","options"])])])):I("",!0),e.cplChart&&"cpl"==t.id?(g(),f("div",Lo,[V("div",$o,[x(m,{ref_for:!0,ref:"chart8",id:"spark8",height:e.cplChart.chart.height,type:e.cplChart.chart.type,series:e.cplChart.series,options:e.cplChart},null,8,["height","type","series","options"])])])):I("",!0)],64)))),128))])),_:1}),x(p,null,{default:w((()=>[V("div",To,[V("div",Ao,[Oo,V("div",Fo,[V("div",Uo,[Mo,V("span",Eo,P(e.revenueChart.revenue.curMonth)+"$",1)]),V("div",Bo,[zo,V("span",jo,P(e.revenueChart.revenue.lastMonth)+"$",1)])]),x(m,{id:"revenue-chart",ref:"revenueChart",height:e.revenueChart.chart.height,type:e.revenueChart.chart.type,series:e.revenueChart.series,options:e.revenueChart},null,8,["height","type","series","options"])])]),"teamlead"!=e.path&&"buyer"!=e.path&&"financier"!=e.path?(g(),f("div",Ro,[V("div",No,[Ho,(g(!0),f(j,null,K(e.capsChart,((e,t)=>(g(),f("div",{class:"chart-group",key:t},[(g(!0),f(j,null,K(e,((e,t)=>(g(),f("div",{class:"group",key:t},[V("div",Wo,[V("div",Yo,[x(m,{id:"group-radial-1",height:e.chart.height,type:e.chart.type,series:e.series,options:e},null,8,["height","type","series","options"])]),V("span",Go,P(e.count),1),V("p",null,P(e.name),1)])])))),128))])))),128)),null!=e.capsChart[0][0]?(g(),f("div",qo,[x(h,{to:"/"+e.path+"/caps",class:"action-link"},{default:w((()=>[C(" View Total Caps ")])),_:1},8,["to"])])):I("",!0)])])):I("",!0)])),_:1})])]),x(y,{show:l.openSettings,chartsSettingData:a.mainCharts,"onUpdate:chartsSettingData":t[2]||(t[2]=e=>i.updateChartsSettingData()),"onUpdate:openSettings":t[3]||(t[3]=e=>i.updateOpenSettings())},null,8,["show","chartsSettingData"])])}]]);const Ko=fe({name:"AdminDashboard",components:{DashboardTable:Jo},data:()=>({dashboardFilters:[{id:"users",type:"select",label:"Users"},{id:"created_date",type:"select",label:"Created Date"},{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"},{id:"campaigns",type:"select",label:"Campaigns"}],mainCharts:[{id:"leads",name:"Leads"},{id:"ftd",name:"FTD"},{id:"profit",name:"Profit"},{id:"net_profit",name:"Net Profit"},{id:"cost",name:"Cost"},{id:"income",name:"Income"},{id:"cpl",name:"CPL"},{id:"cpa",name:"CPA"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("DashboardTable");return g(),k(o,{filters:l.dashboardFilters,mainCharts:l.mainCharts},null,8,["filters","mainCharts"])}]]),Xo={class:"v-flex"},Zo=m({__name:"VFlex",props:{inline:{type:Boolean},flexDirection:{default:"row"},flexWrap:{default:"nowrap"},justifyContent:{default:"normal"},alignItems:{default:"normal"},alignContent:{default:"normal"},rowGap:{default:"normal"},columnGap:{default:"normal"}},setup(e){const t=e;b((e=>({"505254cf":v(a),"099f6015":t.flexDirection,"3e5cf1f4":t.flexWrap,b9dbbdcc:t.justifyContent,d28be4e8:t.alignItems,e9fdd176:t.alignContent,"4bbd0e26":t.rowGap,"76786baf":t.columnGap})));const a=u((()=>t.inline?"inline-flex":"flex"));return(e,t)=>(g(),f("div",Xo,[y(e.$slots,"default")]))}}),Qo={class:"pagination-list"},er={key:0},tr=[V("span",{class:"pagination-ellipsis"},"…",-1)],ar={key:1},sr=[V("span",{class:"pagination-ellipsis"},"…",-1)],lr={key:2},ir=V("div",{class:"desk_hide",style:{width:"100%"}},null,-1),or=V("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1),rr=V("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-right"},null,-1),nr=m({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:t}){const a=e,{t:s}=n(),l=ce(),i=u((()=>Math.ceil(a.totalItems/a.itemPerPage)||1)),o=u((()=>i.value>a.maxLinksDisplayed+2?a.maxLinksDisplayed+2:i.value)),r=u((()=>{const e=[];let t=a.currentPage-Math.floor(o.value/2),s=t+(o.value-Math.ceil(o.value%2));t<1&&(t=1,s=t+(o.value-1)),s>i.value&&(s=i.value,t=s-(o.value-1));for(let a=t;a<=s;a+=1)a!==t&&a!==s&&e.push(a);return e})),d=u((()=>i.value>1)),c=(e=1)=>{if(a.noRouter)return{};const t=Math.max(1,Math.min(e,i.value)),s={...l.query};return a.routerQueryKey&&(s[a.routerQueryKey]=t<=1?void 0:t),{name:l.name,params:l.params,query:s}},m=(e,s=1)=>{const l=Math.max(1,Math.min(s,i.value));if(t("update:currentPage",l),a.noRouter)return e.preventDefault(),e.stopPropagation(),!1};return(e,t)=>{const a=$("RouterLink"),l=Zo;return g(),k(l,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:w((()=>[V("ul",Qo,[y(e.$slots,"before-pagination"),V("li",null,[x(a,{to:c(1),tabindex:"0",class:_(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":v(s)("goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=E(B((e=>e.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>m(e,1))},{default:w((()=>[C(" 1 ")])),_:1},8,["to","aria-label","class"])]),v(d)&&(0===v(r).length||v(r)[0]>2)?(g(),f("li",er,tr)):I("",!0),(g(!0),f(j,null,K(v(r),(l=>(g(),f("li",{key:l},[x(a,{to:c(l),tabindex:"0",class:_(["pagination-link",[e.currentPage===l&&"is-current"]]),"aria-label":v(s)("goto-page-title",{page:l}),"aria-current":e.currentPage===l?"page":void 0,onKeydown:t[2]||(t[2]=E(B((e=>e.target.click()),["prevent"]),["space"])),onClick:e=>m(e,l)},{default:w((()=>[C(P(l),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),v(d)&&v(r)[v(r).length-1]<v(i)-1?(g(),f("li",ar,sr)):I("",!0),v(d)?(g(),f("li",lr,[x(a,{to:c(v(i)),tabindex:"0",class:_(["pagination-link",[e.currentPage===v(i)&&"is-current"]]),"aria-label":v(s)("goto-page-title",{page:v(i)}),onKeydown:t[3]||(t[3]=E(B((e=>e.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=e=>m(e,v(i)))},{default:w((()=>[C(P(v(i)),1)])),_:1},8,["to","aria-label","class"])])):I("",!0),y(e.$slots,"after-pagination")]),ir,y(e.$slots,"before-navigation"),x(a,{to:c(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=E(B((e=>e.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=t=>m(t,e.currentPage-1))},{default:w((()=>[or])),_:1},8,["to"]),x(a,{to:c(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=E(B((e=>e.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=t=>m(t,e.currentPage+1))},{default:w((()=>[rr])),_:1},8,["to"]),y(e.$slots,"after-navigation")])),_:3})}}});function dr(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{de:{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Gehe zu Seite ",a(s("page"))])}},en:{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Goto page ",a(s("page"))])}},"es-MX":{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Ir a la página ",a(s("page"))])}},es:{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Ir a la página ",a(s("page"))])}},fr:{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["Aller à la page ",a(s("page"))])}},"zh-CN":{"goto-page-title":e=>{const{normalize:t,interpolate:a,named:s}=e;return t(["转到第",a(s("page")),"页"])}}}})}function ur(e,t={clickOutside:!0}){const a=p(!1);t.clickOutside&&l(e,(()=>{a.value=!1}));return L((()=>{e.value&&(a.value?e.value.classList.add("is-active"):e.value.classList.remove("is-active"))})),d({isOpen:a,open:()=>{a.value=!0},close:()=>{a.value=!1},toggle:()=>{a.value=!a.value}})}dr(nr);const cr={key:0},mr={class:"dropdown-menu",role:"menu"},pr={class:"dropdown-content"},hr=m({__name:"VDropdown",props:{title:{default:void 0},color:{default:void 0},icon:{default:void 0},up:{type:Boolean},right:{type:Boolean},modern:{type:Boolean},spaced:{type:Boolean},options:{default:void 0}},setup(e,{expose:t}){const a=e,s=p(),l=ur(s,a.options);return t({...l}),(e,t)=>{const i=fa;return g(),f("div",{ref_key:"dropdownElement",ref:s,class:_([[a.right&&"is-right",a.up&&"is-up",a.icon&&"is-dots",a.modern&&"is-modern",a.spaced&&"is-spaced"],"dropdown"])},[y(e.$slots,"button",U(M(v(l))),(()=>[a.icon?(g(),f("a",{key:0,tabindex:"0",class:"is-trigger dropdown-trigger","aria-label":"View more actions",onKeydown:t[0]||(t[0]=E(B(((...e)=>v(l).toggle&&v(l).toggle(...e)),["prevent"]),["space"])),onClick:t[1]||(t[1]=(...e)=>v(l).toggle&&v(l).toggle(...e))},[x(i,{icon:a.icon},null,8,["icon"])],32)):(g(),f("a",{key:1,tabindex:"0",class:_(["is-trigger button dropdown-trigger",[a.color&&`is-${a.color}`]]),onKeydown:t[2]||(t[2]=E(B(((...e)=>v(l).toggle&&v(l).toggle(...e)),["prevent"]),["space"])),onClick:t[3]||(t[3]=(...e)=>v(l).toggle&&v(l).toggle(...e))},[a.title?(g(),f("span",cr,P(a.title),1)):I("",!0),V("span",{class:_([!a.modern&&"base-caret",a.modern&&"base-caret"])},[v(l).isOpen?(g(),k(i,{key:1,icon:"fa:angle-up"})):(g(),k(i,{key:0,icon:"fa:angle-down"}))],2)],34))])),V("div",mr,[V("div",pr,[y(e.$slots,"content",U(M(v(l))))])])],2)}}}),gr=["onClick"],fr=[V("div",{class:"icon"},[V("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),V("div",{class:"meta"},[V("span",null,"View"),V("span",null,"View the item details")],-1)],yr=V("hr",{class:"dropdown-divider"},null,-1),_r=["onClick"],vr=[V("div",{class:"icon"},[V("i",{"aria-hidden":"true",class:"lnil lnil-copy"})],-1),V("div",{class:"meta"},[V("span",null,"Logs"),V("span",null,"Log the item")],-1)],br={key:2,class:"dropdown-divider"},Sr=["onClick"],kr=[V("div",{class:"icon"},[V("i",{"aria-hidden":"true",class:"lnil lnil-copy"})],-1),V("div",{class:"meta"},[V("span",null,"Duplicate"),V("span",null,"Duplicate the item")],-1)],wr={key:4,class:"dropdown-divider"},Vr=["onClick"],Pr=[V("div",{class:"icon"},[V("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),V("div",{class:"meta"},[V("span",null,"Remove"),V("span",null,"Remove from list")],-1)],xr=m({__name:"FlexTableDropdown",props:{showView:{type:Boolean,default:!0},showRemove:{type:Boolean,default:!0},showDuplicate:{type:Boolean,default:!1},showLogs:{type:Boolean,default:!1}},emits:["view","projects","schedule","remove","duplicate","logs"],setup:(e,{emit:t})=>(e,a)=>{const s=hr;return g(),k(s,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:w((({close:a})=>[e.showView?(g(),f("a",{key:0,role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:B((()=>{t("view"),a()}),["prevent"])},fr,8,gr)):I("",!0),e.showLogs?(g(),f(j,{key:1},[yr,V("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:B((()=>{t("logs"),a()}),["prevent"])},vr,8,_r)],64)):I("",!0),e.showView&&e.showDuplicate?(g(),f("hr",br)):I("",!0),e.showDuplicate?(g(),f("a",{key:3,role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:B((()=>{t("duplicate"),a()}),["prevent"])},kr,8,Sr)):I("",!0),e.showView&&e.showRemove?(g(),f("hr",wr)):I("",!0),e.showRemove?(g(),f("a",{key:5,role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:B((()=>{t("remove"),a()}),["prevent"])},Pr,8,Vr)):I("",!0)])),_:1})}}),Cr=m({__name:"VLoader",props:{size:{default:void 0},card:{default:void 0},active:{type:Boolean},grey:{type:Boolean},translucent:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("div",{class:_(["has-loader",[t.active&&"has-loader-active"]])},[t.active?(g(),f("div",{key:0,class:_(["v-loader-wrapper is-active",[e.grey&&"is-grey",e.translucent&&"is-translucent","regular"===e.card&&"s-card","smooth"===e.card&&"r-card","rounded"===e.card&&"l-card"]])},[V("div",{class:_(["loader is-loading",[t.size&&`is-${t.size}`]])},null,2)],2)):I("",!0),y(e.$slots,"default")],2))}}),Ir={name:"LeadsCampaigns",components:{},data:()=>({datesModel:{start:"",end:""},datesDepModel:{start:"",end:""},loading:!1,filterValues:{},verifyFilter:"",verifyFilterList:["Valid","Invalid"],depositStatus:"",depositStatusList:["Yes","No"],emailModel:"",phoneModel:""}),props:{filters:Array,drawer:Boolean},computed:{...be(["serverFilters","userFilters"])},mounted(){console.log(this.offerFilters)},methods:{getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))},changeWidth(e){console.log(e)},test(){console.log(32)},getItems(){this.$parent.filterValues=this.filterValues,this.$parent.getItems()},getPartnerFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getPartnerFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getCountryFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getCountryFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLandingNameFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getLandingNameFilters",{filtersValues:e}).then((e=>{this.loading=!1}))}}},Dr={class:"columns is-multiline"},Lr={key:0,class:"column is-3"},$r={key:0,class:"column is-3"};const Tr=fe(Ir,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=$("v-list"),u=$("v-col");return a.drawer?(g(),k(u,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(d,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",Dr,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["servers"==a.id?(g(),f("div",Lr,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Server")])),_:1}),x(r,{modelValue:l.filterValues.server_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.server_ids=e),t[2]||(t[2]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.serverFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":t[1]||(t[1]=e=>i.getFilters("getServerFilters")),"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0)],64)))),128)),(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["users"==a.id?(g(),f("div",$r,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("User")])),_:1}),x(r,{modelValue:l.filterValues.user_ids,"onUpdate:modelValue":[t[3]||(t[3]=e=>l.filterValues.user_ids=e),t[5]||(t[5]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.userFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":t[4]||(t[4]=e=>i.getFilters("getUserFilters")),"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]),Ar="/assets/search-7-BRepkZ0T.svg",Or="/assets/search-7-dark-Cu_2bQnD.svg",Fr={name:"Domains",components:{filters:Tr},props:["filters"],data:()=>({reportFilterMain:[{id:"offer",name:"Offer"},{id:"user",name:"User"},{id:"geo",name:"GEO"},{id:"funnel",name:"Funnel"},{id:"source",name:"Source"},{id:"leads",name:"Leads Count"},{id:"valid",name:"Valid Lead Counts"},{id:"invalid",name:"Invalid Lead Counts"},{id:"nbt",name:"No answer Lead Counts"},{id:"ftd",name:"FTD"},{id:"revenue",name:"Revenue"},{id:"cost",name:"Cost"},{id:"profit",name:"Profit"},{id:"utm",name:"UTM"}],reportFilters:[],filterValues:{},report:{},drawer:!1,offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Домен",sortable:!1,value:"url"},{text:"Сервер",sortable:!1,value:"server"},{text:"Юзер",sortable:!1,value:"user"},{text:"Действия",sortable:!1,value:"action"}]}),computed:{...be(["domainFilters","serverFilters","userFilters","newDomain","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","serversSelect","domainZones","namecheapSelect","cloudflareSelect","getRole"]),urlErrors(){const e=[];return this.$v.newDomain.url.$dirty?(!this.$v.newDomain.url.required&&e.push("Укажите домен"),!this.$v.newDomain.url.minLength&&e.push("Не менее 5 символов"),!this.$v.newDomain.url.maxLength&&e.push("Не более 255 символов"),!this.$v.newDomain.url.serverFailed&&this.hasServerError("url")&&e.push(this.serverErrors.url[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},domainFilters:function(e){console.log(e)},newDomain:{handler(){this.serverErrors={}},deep:!0}},methods:{...Se(["getUsersSelect","getServersSelect","getDomainZones","getCloudflareSelect","getNamecheapSelect"]),checkAvailable(e){console.log(e),this.$store.dispatch("checkAvailable",e).then((()=>{this.getItems()}))},openLog(e){this.$store.dispatch("getCurrentDomainLog",e.id).then((()=>this.$store.commit("enableDialogDomainLogs"))),this.logItem=e},generateDomainUrls(){console.log(2);let e=10;console.log(this.newDomain.count),0!=this.newDomain.count&&(console.log("pop"),e=this.newDomain.count),this.newDomain.url="";for(let t=0;t<e;t++){let e="";const t=["a","e","i","o","u"],a=["b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z"],s=6/2;for(let l=1;l<=s;l++)e+=a[Math.floor(20*Math.random())],e+=t[Math.floor(5*Math.random())];if(this.newDomain.prefix_domains){e+="-";for(let l=1;l<=s;l++)e+=a[Math.floor(20*Math.random())],e+=t[Math.floor(5*Math.random())]}this.newDomain.url+=e+"\n"}console.log(this.newDomain.url)},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},openFilters(){this.drawer=!this.drawer},updateDialog(e){this.getUsersSelect(),this.getServersSelect(),this.updateDialogModel=!0,this.editedDialog.id=e.id,this.editedDialog.url=e.url,this.editedDialog.user_id=e.user_id,this.editedDialog.server_id=e.server_id},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0,this.newDomain.count=10,this.getUsersSelect(),this.getServersSelect(),this.getDomainZones(),this.getNamecheapSelect(),this.getCloudflareSelect()},createOpenAdd(){this.newDomain.url="",this.createDialog2=!0,this.getUsersSelect(),this.getServersSelect(),this.getDomainZones(),this.getNamecheapSelect(),this.getCloudflareSelect()},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"domains",page:e,filtersValues:t}).then((()=>this.loading=!1))},createAdd(){this.$store.dispatch("createDomainAdd",{item:this.newDomain}).then((e=>{this.createDialog2=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},create(){console.log(this.newDomain),this.$store.dispatch("createDomain",{item:this.newDomain}).then((e=>{this.createDialog=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},updateItem(){this.$store.dispatch("updateDomain",this.editedDialog).then((()=>{this.updateDialogModel=!1,this.editedDialog.id="",this.editedDialog.user_id="",this.editedDialog.url="",this.editedDialog.server_id="",this.getItems()}))},showLog(e){this.drawerLog=!0},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteDomain",e.id).then((e=>{alert("Success!")}))},refundItem(e){this.deleteDialog.item=e,this.archiveItemConfirm("active")},archiveItemConfirm(e="archive"){this.deleteDialog.item.status=e,console.log(this.deleteDialog.item),this.$store.dispatch("archiveDomain",{item:this.deleteDialog.item}).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>{this.$store.commit("disableOverlay"),console.log(e)}))},deleteItemConfirm(){this.$store.dispatch("deleteDomain",this.deleteDialog.item.id).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>this.$store.commit("disableOverlay")))},toggleFilter(e,t,a){t=t.length!=e.length?e.map((e=>e.id)):[],this.filterValues[a]=t,this.getItems()},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))}}},Ur={class:"list-flex-toolbar flex-list-v1"},Mr=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),Er={key:0},Br=V("div",{style:{height:"40px",width:"40px"}},null,-1),zr={key:1},jr=[V("i",{style:{cursor:"pointer"},class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true"},null,-1)],Rr={key:2,style:{"font-size":"20px"},class:"iconify","data-icon":"feather:alert-triangle","aria-hidden":"true"},Nr={key:3},Hr={key:0},Wr={key:1},Yr=["onClick"],Gr={style:{color:"red"}},qr={key:0},Jr={key:0};const Kr=fe(Fr,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Nt,d=Et,u=$("filters"),c=Cr,m=xr,p=$("EasyDataTable"),h=nr;return g(),f(j,null,[V("div",Ur,[x(d,{class:""},{default:w((()=>[x(o,null,{default:w((()=>[C("User")])),_:1}),x(n,{class:"relative"},{default:w((()=>[x(r,{modelValue:l.report,"onUpdate:modelValue":t[0]||(t[0]=e=>l.report=e),reduce:e=>e.id,label:"name",options:e.reportFilter,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),l.drawer?(g(),k(u,{key:0,drawer:l.drawer,ref:"leadFilter",filters:a.filters},null,8,["drawer","filters"])):I("",!0),x(p,{headers:l.offersHeaders,items:e.itemsPagination,loading:e.loading,"buttons-pagination":!1,"border-color":!1},{"empty-message":w((()=>[Mr])),"item-id":w((e=>[e.is_loading?(g(),f("span",Er,[x(c,{active:!0,size:"small",center:"regular",translucent:!0},{default:w((()=>[Br])),_:1})])):e.is_error&&0==e.is_registrator?(g(),f("span",zr,jr)):e.is_error?(g(),f("i",Rr)):(g(),f("span",Nr,P(e.id),1))])),"item-url":w((({url:e,is_available:t,id:a})=>[e&&1==t?(g(),f("span",Hr,P(e),1)):I("",!0),e&&0==t?(g(),f("div",Wr,[V("i",{style:{cursor:"pointer"},class:"lnir lnir-reload mr-2","aria-hidden":"true",onClick:e=>i.checkAvailable(a)},null,8,Yr),V("span",Gr,P(e),1)])):I("",!0)])),"item-user":w((({user:e})=>[e?(g(),f("span",qr,P(e.name),1)):I("",!0)])),"item-server":w((({server:e})=>[e?(g(),f("span",Jr,P(e.name),1)):I("",!0)])),"item-action":w((t=>["admin"==e.getRole||"support"==e.getRole?(g(),k(m,{key:0,onView:e=>i.updateDialog(t),onRemove:e=>i.deleteItem(t),onLogs:e=>i.openLog(t),showLogs:!0},null,8,["onView","onRemove","onLogs"])):I("",!0)])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(h,{key:1,"current-page":e.page,"onUpdate:currentPage":t[1]||(t[1]=t=>e.page=t),"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)],64)}]]),Xr=he("viewWrapper",(()=>{const e=p(!1),t=p(!1),a=p("Welcome");return{isPushed:e,isPushedBlock:t,pageTitle:a,setPushed:function(t){e.value=t},setPushedBlock:function(e){t.value=e},setPageTitle:function(e){a.value=e}}}));const Zr=fe({name:"Reports",components:{Table:Kr},setup(){Xr().setPageTitle("Domains")},data:()=>({filters:[{id:"servers",type:"select",label:"Created Date"},{id:"users",type:"input",label:"Phone"}],headers:[]})},[["render",function(e,t,a,s,l,i){const o=$("Table");return g(),k(o,{filters:l.filters,headers:l.headers},null,8,["filters","headers"])}]]),Qr=m({__name:"VTag",props:{label:{default:void 0},color:{default:void 0},size:{default:void 0},rounded:{type:Boolean},curved:{type:Boolean},outlined:{type:Boolean},elevated:{type:Boolean},remove:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("small",{class:_(["tag",[t.color&&"is-"+t.color,t.size&&"is-"+t.size,t.rounded&&"is-rounded",t.curved&&"is-curved",t.outlined&&"is-outlined",t.elevated&&"is-elevated",t.remove&&"is-delete"]])},[y(e.$slots,"default",{},(()=>[C(P(t.label),1)]))],2))}}),en=["id","name"],tn=m({__name:"VTextarea",props:{raw:{type:Boolean},modelValue:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=d(At({create:!1,help:"VTextarea"})),l=p(s?.field?.value??a.modelValue);W(l,(()=>{t("update:modelValue",l.value)})),W((()=>a.modelValue),(()=>{l.value=a.modelValue}));const i=u((()=>a.raw?[]:["textarea"]));return(e,t)=>Y((g(),f("textarea",{id:v(s).id,"onUpdate:modelValue":t[0]||(t[0]=e=>q(l)?l.value=e:null),class:_(v(i)),name:v(s).id,onChange:t[1]||(t[1]=(...e)=>v(s).field?.handleChange&&v(s).field?.handleChange(...e)),onBlur:t[2]||(t[2]=(...e)=>v(s).field?.handleBlur&&v(s).field?.handleBlur(...e))},null,42,en)),[[G,v(l)]])}}),an={name:"LeadsFilter",data:()=>((new Date).setMinutes(0,0,0),{fraudFilters:[{id:"status_fraud",name:"Status Fraud"}],stepFile:1,fileValue:{},datesModel:{start:"",end:""},datesSendedModel:{start:"00:00:00",end:"23:59:59"},datesDepModel:{start:"",end:""},datesDepApproveModel:{start:"",end:""},datesRealFTDModel:{start:null,end:null},importSetColumns:[],openImportPopup:!1,openExportPopup:!1,loading:!1,filterValues:{utmParam:[]},verifyFilter:"",verifyFilterList:["Valid","Invalid"],is_autologinFilter:"",is_autologinFilterList:[{id:"yes",name:"Yes"},{id:"no",name:"No"},{id:"fraud",name:"Campaign check fraud"},{id:"fake",name:"Fake Autologin"}],depositStatus:"",depositStatusList:["Yes","No"],emailOrIDModel:"",comment:"",sale:"",phoneModel:"",keitaro_id:"",searchQueryParametersModel:"",importLoadingColumns:"",importColumns:[{id:"email",name:"Email",choose:null},{id:"phone",name:"Phone",choose:null},{id:"full_name",name:"Full Name",choose:null},{id:"ip",name:"Ip",choose:null},{id:"landing",name:"Link",choose:null},{id:"country",name:"Country",choose:null},{id:"source",name:"Source",choose:null},{id:"user",name:"User",choose:null},{id:"funnel",name:"Funnel",choose:null}],exportColumns:[],selectedExportColumns:[]}),props:{filters:Array,drawer:Boolean,is_approve_deposit:Boolean},computed:{...be(["deviceFilters","browserFilters","platformFilters","cityFilters","offerFilters","countryFilters","sourceFilters","brokerFilters","webmasterFilters","statusFilters","landingNameFilters","landingFilters","landingNamesSelect","usersSelect","sourcesSelect","brokersSelect","countriesSelect","landingSelect","utmFilters","utmParamsFilters","paymentTypesFilters","getRole","languageFilters"])},mounted(){"admin"==this.getRole?(this.exportColumns=[{id:"id",name:"ID"},{id:"offer",name:"Offer"},{id:"full_name",name:"Full Name"},{id:"email",name:"Email"},{id:"phone",name:"Phone"},{id:"ip",name:"IP"},{id:"webmaster",name:"Webmaster"},{id:"status",name:"Status"},{id:"status_history",name:"Status History"},{id:"action",name:"Action"},{id:"date_action",name:"Date action"},{id:"landing",name:"Landing"},{id:"landing_parameters",name:"Landing parameters"},{id:"country",name:"Country"},{id:"source",name:"Source"},{id:"landing_name",name:"Landing name"},{id:"date",name:"Date"},{id:"external_id",name:"External ID"}],this.selectedExportColumns=[{id:"id",name:"ID"},{id:"offer",name:"Offer"},{id:"full_name",name:"Full Name"},{id:"email",name:"Email"},{id:"phone",name:"Phone"},{id:"webmaster",name:"Webmaster"},{id:"status",name:"Status"},{id:"action",name:"Action"},{id:"date_action",name:"Date action"},{id:"date",name:"Date"},{id:"external_id",name:"External ID"}]):"affiliate_manager"==this.getRole&&(this.exportColumns=[{id:"id",name:"ID"},{id:"offer",name:"Offer"},{id:"full_name",name:"Full Name"},{id:"email",name:"Email"},{id:"ip",name:"IP"},{id:"webmaster",name:"Webmaster"},{id:"status",name:"Status"},{id:"status_history",name:"Status History"},{id:"action",name:"Action"},{id:"date_action",name:"Date action"},{id:"landing",name:"Landing"},{id:"landing_parameters",name:"Landing parameters"},{id:"country",name:"Country"},{id:"source",name:"Source"},{id:"landing_name",name:"Landing name"},{id:"date",name:"Date"},{id:"external_id",name:"External ID"}],this.selectedExportColumns=[{id:"id",name:"ID"},{id:"offer",name:"Offer"},{id:"full_name",name:"Full Name"},{id:"email",name:"Email"},{id:"webmaster",name:"Webmaster"},{id:"status",name:"Status"},{id:"action",name:"Action"},{id:"date_action",name:"Date action"},{id:"date",name:"Date"},{id:"external_id",name:"External ID"}])},methods:{...Se(["getLandingNamesSelect","getUsersSelect","getSourcesSelect","getCountriesSelect","getLandingSelect","getPaymentTypesFilter"]),chooseAllSelect(e,t,a){if(null!=e&&e.length===t.length)this.filterValues[a]=[];else{const e=t.map((e=>e.id));this.filterValues[a]=e}document.activeElement.blur(),this.getItems()},checkSeachByQueryParamater:Ce.debounce((function(e){this.filterValues.search_by_query_parameters=this.searchQueryParametersModel,this.getItems(1)})),checkKeitaroId:Ce.debounce((function(e){this.filterValues.keitaro_id=this.keitaro_id,this.getItems(1)})),checkComment:Ce.debounce((function(e){this.filterValues.comment=this.comment,this.getItems(1)})),checkSale:Ce.debounce((function(e){this.filterValues.sale=this.sale,this.getItems(1)})),getSelectByID(){this.getLandingNamesSelect(),this.getUsersSelect(),this.getSourcesSelect(),this.getCountriesSelect(),this.getLandingSelect()},loadFileHeaders(){this.loading=!0,1==this.stepFile?this.$store.dispatch("importLeadsHeaders",{file:this.file}).then((e=>{console.log(e),this.loading=!1,this.importLoadingColumns=e.data.data,this.stepFile=2})):2==this.stepFile?(this.getSelectByID(),this.stepFile=3):3==this.stepFile&&this.$store.dispatch("startImport",{columns:this.importColumns,file:this.file}).then((e=>{this.getItems(1),this.openImportPopup=!1,console.log(e)}))},onDateRangeSendedChange(){let e=new Date(this.datesSendedModel.start),t=new Date(this.datesSendedModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();console.log("date - "+a),console.log(xe().format("YYYY-MM-DD")),e.getTime()==t.getTime()&&(this.datesSendedModel={start:a+" 00:00:00",end:a+" 23:59:59"})},removeClear(e){this.datesModel={start:"",end:""}},removeClearDep(e){this.datesDepModel={start:"",end:""}},onDateRangeChange(e){if(this.datesModel&&this.datesModel.start&&this.datesModel.end){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"})}else console.log(32323)},depositStatusFilter(){"Yes"===this.depositStatus?this.filterValues.is_action="1":"No"===this.depositStatus?this.filterValues.is_action="0":this.filterValues.is_action=null,this.$parent.depositStatus=this.depositStatus,this.getItems(1)},verifyFilters(){"Valid"===this.verifyFilter?this.filterValues.verify=1:"Invalid"===this.verifyFilter?this.filterValues.verify=0:this.filterValues.verify=null,this.getItems(1)},is_autologinFilters(){"yes"===this.is_autologinFilter?this.filterValues.is_autologin="yes":"no"===this.is_autologinFilter?this.filterValues.is_autologin="no":"fraud"===this.is_autologinFilter?this.filterValues.is_autologin="fraud":"fake"===this.is_autologinFilter?this.filterValues.is_autologin="fake":this.filterValues.is_autologin=null,this.$parent.is_autologinFilter=this.is_autologinFilter,this.getItems(1)},changeWidth(e){console.log(e)},test(){console.log(32)},getItems(){let e=this.$parent.filterValues.period,t=this.$parent.filterValues.dateType;this.$parent.filterValues=this.filterValues,this.$parent.filterValues.period=e,this.$parent.filterValues.dateType=t,this.$parent.page=1,this.$parent.getItems()},generateFilterValues(){let e=this.filterValues;return e.period=this.$parent.filterValues.period,e.search=this.$parent.filterValues.search,e.dateType=this.$parent.filterValues.dateType,console.log(this.$route),"deposit-approve"!=this.$route.name&&"affiliate-manager-deposit-approve"!=this.$route.name||(this.filterValues.is_approve_deposit=this.$parent.filterValues.is_approve_deposit),"custom_date"==e.period?(e.date_start_sended=this.$parent.filterValues.date_start_sended,e.date_end_sended=this.$parent.filterValues.date_end_sended):(e.date_start_sended="",e.date_end_sended=""),e},getDeviceFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getDeviceFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getBrowserFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getBrowserFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getPlatformFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getPlatformFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getOfferFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getCountryFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getCountryFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getWebmasterFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getWebmasterFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getStatusFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getStatusFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLandingNameFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getLandingNameFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getUTMParamsFilters(e){let t=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getUtmParamsFilters",{id:e,filtersValues:t}).then((e=>{this.loading=!1}))},getUTMFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getUtmFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getCityFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getCityFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getLanguageFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getLanguageFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getLandingFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getLandingFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getSourceFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getSourceFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getBrokerFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getBrokerFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getPaymentTypesFilter(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getPaymentTypesFilter",{filtersValues:e}).then((()=>{this.loading=!1}))},getModel:e=>"date"==e.id?"datesModel":"phone"==e.id?"phoneModel":void 0,checkType(e){},exportLeads(){let e=this.generateFilterValues();e.lead_type=this.$parent.typeLeads,this.loading=!0,this.$store.dispatch("export",{filtersValues:e,columns:this.selectedExportColumns}).then((e=>{this.fileDownload(e),this.loading=!1}))},uploadFile(e){this.file=e.target.files[0],this.fileValue=this.$refs.fileInput},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()}},watch:{draw(){this.getOfferFilters(),this.getCountryFilters(),this.getWebmasterFilters(),this.getLandingNameFilters(),this.getLandingFilters(),this.getStatusFilters(),this.getSourceFilters(),this.getPaymentTypesFilter()},phoneModel(){this.filterValues.phone=this.phoneModel.split("\n"),this.getItems(1)},emailOrIDModel(){this.filterValues.emailOrID=this.emailOrIDModel.split("\n"),this.getItems(1)},datesSendedModel(){if("object"==typeof this.datesSendedModel&&null!=this.datesSendedModel){let e=new Date(this.datesSendedModel.start),t=new Date(this.datesSendedModel.end),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+a,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s;this.filterValues.date_start_sended=l,this.filterValues.date_end_sended=i}else this.filterValues.date_start_sended="",this.filterValues.date_end_sended="";this.getItems(1)},datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel&&this.datesModel.start&&this.datesModel.end){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+a,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s;this.filterValues.date_start_registration=l,this.filterValues.date_end_registration=i}else this.filterValues.date_start_registration="2022-08-01 00:00:00",this.filterValues.date_end_registration="2022-08-01 23:59:00";this.getItems(1)},datesDepModel(){if("object"==typeof this.datesDepModel&&null!=this.datesDepModel){let e=new Date(this.datesDepModel.start),t=new Date(this.datesDepModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_dep=a,this.filterValues.date_end_dep=s}else this.filterValues.date_start_dep="",this.filterValues.date_end_dep="";this.getItems(1)},datesRealFTDModel(){if("object"==typeof this.datesRealFTDModel&&null!=this.datesRealFTDModel){let e=new Date(this.datesRealFTDModel.start),t=new Date(this.datesRealFTDModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_real_dep=a,this.filterValues.date_end_real_dep=s,this.filterValues.period=""}else console.log(3214214),this.filterValues.date_start_real_dep="",this.filterValues.date_end_real_dep="",this.filterValues.period=this.periodActive;this.getItems(1)},datesDepApproveModel(){if("object"==typeof this.datesDepApproveModel&&null!=this.datesDepApproveModel){let e=new Date(this.datesDepApproveModel.start),t=new Date(this.datesDepApproveModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_approve_dep=a,this.filterValues.date_end_approve_dep=s}else this.filterValues.date_start_approve_dep="",this.filterValues.date_end_approve_dep="";this.getItems(1)},searchQueryParametersModel(){this.checkSeachByQueryParamater()},keitaro_id(){this.checkKeitaroId()},comment(){this.checkComment()},sale(){this.checkSale()}}},sn={class:"columns is-multiline"},ln={key:0,class:"column is-3 highlight-current-date"},on={key:1,class:"column is-3 highlight-current-date"},rn={class:"clearable"},nn={key:2,class:"column is-3 highlight-current-date"},dn={class:"clearable"},un={key:3,class:"column is-3"},cn={class:"clearable"},mn={key:4,class:"column is-3"},pn={class:"clearable"},hn={key:5,class:"column is-3"},gn={class:"clearable"},fn={key:6,class:"column is-3"},yn={key:0},_n={key:1},vn={key:7,class:"column is-3"},bn={key:0},Sn={key:1},kn={key:8,class:"column is-3"},wn={key:0},Vn={key:1},Pn={key:9,class:"column is-3"},xn={key:0},Cn={key:1},In={key:10,class:"column is-3"},Dn={key:11,class:"column is-3"},Ln={key:0},$n={key:1},Tn={key:12,class:"column is-3"},An={key:0},On={key:1},Fn={key:13,class:"column is-3"},Un={key:0},Mn={key:1},En={key:14,class:"column is-3"},Bn={key:0},zn={key:1},jn={key:15,class:"column is-3"},Rn={key:0},Nn={key:1},Hn={key:16,class:"column is-3"},Wn={key:17,class:"column is-3"},Yn={key:18,class:"column is-3"},Gn={key:0},qn={key:1},Jn={key:19,class:"column is-3"},Kn={key:0},Xn={key:1},Zn={key:20,class:"column is-3"},Qn={key:0},ed={key:1},td={key:21,class:"column is-3"},ad={key:0},sd={key:1},ld={key:22,class:"column is-3"},id={key:23,class:"column is-3"},od={key:24,class:"column is-3"},rd={key:25,class:"column is-3"},nd={key:26,class:"column is-3"},dd={key:27,class:"column is-3"},ud={key:28,class:"column is-3"},cd={key:29,class:"column is-3"},md={key:30,class:"column is-3"},pd={class:"column is-3"},hd={class:"modal-form"},gd={key:0},fd={class:"file has-name is-right"},yd={class:"file-label"},_d=V("span",{class:"file-cta"},[V("span",{class:"file-icon"},[V("i",{class:"fas fa-cloud-upload-alt"})]),V("span",{class:"file-label"}," Choose a file… ")],-1),vd={class:"file-name light-text"},bd={key:1},Sd={key:2},kd={class:"modal-form"};const wd=fe(an,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=Wt,u=Nt,c=$("VDatePicker"),m=tn,p=bt,h=$("v-list-item"),y=$("v-list"),v=$("v-col"),b=Hi;return g(),f(j,null,[a.drawer?(g(),k(v,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(y,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",sn,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["fraud"==a.id?(g(),f("div",ln,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Fraud")])),_:1}),x(r,{modelValue:l.filterValues.fraud,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.fraud=e),t[1]||(t[1]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:l.fraudFilters,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0),"created_date"==a.id?(g(),f("div",on,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Created Date")])),_:1}),x(c,{modelValue:l.datesModel,"onUpdate:modelValue":t[2]||(t[2]=e=>l.datesModel=e),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:t[3]||(t[3]=e=>i.onDateRangeChange("created_at"))},{default:w((({inputValue:e,inputEvents:t})=>[x(u,{icon:"feather:calendar"},{default:w((()=>[V("div",rn,[x(d,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])):I("",!0),"sended_date"==a.id?(g(),f("div",nn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C(" Date Send")])),_:1}),x(c,{modelValue:l.datesSendedModel,"onUpdate:modelValue":t[4]||(t[4]=e=>l.datesSendedModel=e),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:i.onDateRangeSendedChange},{default:w((({inputValue:e,inputEvents:t})=>[x(u,{icon:"feather:calendar"},{default:w((()=>[V("div",dn,[x(d,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])])),_:2},1024)])),_:1},8,["modelValue","onClick"])])),_:1})])):I("",!0),"ftd_date"==a.id?(g(),f("div",un,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("FTD Date")])),_:1}),x(c,{modelValue:l.datesDepModel,"onUpdate:modelValue":t[5]||(t[5]=e=>l.datesDepModel=e),"is-range":""},{default:w((({inputValue:e,inputEvents:t})=>[x(u,{icon:"feather:calendar"},{default:w((()=>[V("div",cn,[x(d,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])):I("",!0),"real_ftd"==a.id?(g(),f("div",mn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Real FTD Date")])),_:1}),x(c,{modelValue:l.datesRealFTDModel,"onUpdate:modelValue":t[6]||(t[6]=e=>l.datesRealFTDModel=e),"is-range":""},{default:w((({inputValue:e,inputEvents:t})=>[x(u,{icon:"feather:calendar"},{default:w((()=>[V("div",pn,[x(d,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])):I("",!0),"ftd_date_approve"==a.id?(g(),f("div",hn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("FTD Date")])),_:1}),x(c,{modelValue:l.datesDepApproveModel,"onUpdate:modelValue":t[7]||(t[7]=e=>l.datesDepApproveModel=e),"is-range":""},{default:w((({inputValue:e,inputEvents:t})=>[x(u,{icon:"feather:calendar"},{default:w((()=>[V("div",gn,[x(d,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])):I("",!0),"device"==a.id?(g(),f("div",fn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Device")])),_:1}),x(r,{modelValue:l.filterValues.device_ids,"onUpdate:modelValue":[t[9]||(t[9]=e=>l.filterValues.device_ids=e),t[10]||(t[10]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.deviceFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getDeviceFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.device_ids||l.filterValues.device_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[8]||(t[8]=t=>i.chooseAllSelect(l.filterValues.device_ids,e.deviceFilters,"device_ids"))},[null==l.filterValues.device_ids||l.filterValues.device_ids.length!=e.deviceFilters.length?(g(),f("span",yn,"Choose All")):(g(),f("span",_n,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"browser"==a.id?(g(),f("div",vn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Browser")])),_:1}),x(r,{modelValue:l.filterValues.browser_ids,"onUpdate:modelValue":[t[12]||(t[12]=e=>l.filterValues.browser_ids=e),t[13]||(t[13]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.browserFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getBrowserFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.browser_ids||l.filterValues.browser_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[11]||(t[11]=t=>i.chooseAllSelect(l.filterValues.browser_ids,e.browserFilters,"browser_ids"))},[null==l.filterValues.browser_ids||l.filterValues.browser_ids.length!=e.browserFilters.length?(g(),f("span",bn,"Choose All")):(g(),f("span",Sn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"platform"==a.id?(g(),f("div",kn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Platform")])),_:1}),x(r,{modelValue:l.filterValues.platform_ids,"onUpdate:modelValue":[t[15]||(t[15]=e=>l.filterValues.platform_ids=e),t[16]||(t[16]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.platformFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getPlatformFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.platform_ids||l.filterValues.platform_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[14]||(t[14]=t=>i.chooseAllSelect(l.filterValues.platform_ids,e.platformFilters,"platform_ids"))},[null==l.filterValues.platform_ids||l.filterValues.platform_ids.length!=e.platformFilters.length?(g(),f("span",wn,"Choose All")):(g(),f("span",Vn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"brokers"==a.id?(g(),f("div",Pn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(r,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[18]||(t[18]=e=>l.filterValues.offer_ids=e),t[19]||(t[19]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onClick:i.test,"onSearch:focus":i.getOfferFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.offer_ids||l.filterValues.offer_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[17]||(t[17]=t=>i.chooseAllSelect(l.filterValues.offer_ids,e.offerFilters,"offer_ids"))},[null==l.filterValues.offer_ids||l.filterValues.offer_ids.length!=e.offerFilters.length?(g(),f("span",xn,"Choose All")):(g(),f("span",Cn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onClick","onSearch:focus"])])),_:1})])):I("",!0),"brokers_id"==a.id?(g(),f("div",In,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Offer ID")])),_:1}),x(r,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[20]||(t[20]=e=>l.filterValues.offer_ids=e),t[21]||(t[21]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onClick:i.test,"onSearch:focus":i.getOfferFilters,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options","onClick","onSearch:focus"])])),_:1})])):I("",!0),"countries"==a.id?(g(),f("div",Dn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Countries")])),_:1}),x(r,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[23]||(t[23]=e=>l.filterValues.country_ids=e),t[25]||(t[25]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[24]||(t[24]=e=>i.getItems()),"onSearch:focus":i.getCountryFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.country_ids||l.filterValues.country_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[22]||(t[22]=t=>i.chooseAllSelect(l.filterValues.country_ids,e.countryFilters,"country_ids"))},[null==l.filterValues.country_ids||l.filterValues.country_ids.length!=e.countryFilters.length?(g(),f("span",Ln,"Choose All")):(g(),f("span",$n,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"webmasters"==a.id?(g(),f("div",Tn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Webmasters")])),_:1}),x(r,{modelValue:l.filterValues.web_master_ids,"onUpdate:modelValue":[t[27]||(t[27]=e=>l.filterValues.web_master_ids=e),t[28]||(t[28]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.webmasterFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getWebmasterFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.web_master_ids||l.filterValues.web_master_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[26]||(t[26]=t=>i.chooseAllSelect(l.filterValues.web_master_ids,e.webmasterFilters,"web_master_ids"))},[null==l.filterValues.web_master_ids||l.filterValues.web_master_ids.length!=e.webmasterFilters.length?(g(),f("span",An,"Choose All")):(g(),f("span",On,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"partners"==a.id?(g(),f("div",Fn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Brokers")])),_:1}),x(r,{modelValue:l.filterValues.broker_ids,"onUpdate:modelValue":[t[30]||(t[30]=e=>l.filterValues.broker_ids=e),t[32]||(t[32]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.brokerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[31]||(t[31]=e=>i.getItems()),"onSearch:focus":i.getBrokerFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.broker_ids||l.filterValues.broker_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[29]||(t[29]=t=>i.chooseAllSelect(l.filterValues.broker_ids,e.brokerFilters,"broker_ids"))},[null==l.filterValues.broker_ids||l.filterValues.broker_ids.length!=e.brokerFilters.length?(g(),f("span",Un,"Choose All")):(g(),f("span",Mn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"sources"==a.id?(g(),f("div",En,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Sources")])),_:1}),x(r,{modelValue:l.filterValues.source_ids,"onUpdate:modelValue":[t[34]||(t[34]=e=>l.filterValues.source_ids=e),t[36]||(t[36]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.sourceFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[35]||(t[35]=e=>i.getItems()),"onSearch:focus":i.getSourceFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.source_ids||l.filterValues.source_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[33]||(t[33]=t=>i.chooseAllSelect(l.filterValues.source_ids,e.sourceFilters,"source_ids"))},[null==l.filterValues.source_ids||l.filterValues.source_ids.length!=e.sourceFilters.length?(g(),f("span",Bn,"Choose All")):(g(),f("span",zn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"funnels"==a.id?(g(),f("div",jn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,{modelValue:l.filterValues.landing_name_ids,"onUpdate:modelValue":[t[38]||(t[38]=e=>l.filterValues.landing_name_ids=e),t[39]||(t[39]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingNameFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.landing_name_ids||l.filterValues.landing_name_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[37]||(t[37]=t=>i.chooseAllSelect(l.filterValues.landing_name_ids,e.landingNameFilters,"landing_name_ids"))},[null==l.filterValues.landing_name_ids||l.filterValues.landing_name_ids.length!=e.landingNameFilters.length?(g(),f("span",Rn,"Choose All")):(g(),f("span",Nn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"phone"==a.id?(g(),f("div",Hn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Mass Phone")])),_:1}),x(m,{modelValue:l.phoneModel,"onUpdate:modelValue":t[40]||(t[40]=e=>l.phoneModel=e),class:"is-primary-focus mass-area",rows:"1",oninput:'this.style.height = "38px";this.style.height = this.scrollHeight + "px"'},null,8,["modelValue"])])),_:1})])):I("",!0),"emailOrID"==a.id?(g(),f("div",Wn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Mass Email or ID")])),_:1}),x(m,{modelValue:l.emailOrIDModel,"onUpdate:modelValue":t[41]||(t[41]=e=>l.emailOrIDModel=e),class:"is-primary-focus",rows:"1",oninput:'this.style.height = "38px";this.style.height = this.scrollHeight + "px"'},null,8,["modelValue"])])),_:1})])):I("",!0),"statuses"==a.id?(g(),f("div",Yn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Statuses")])),_:1}),x(r,{modelValue:l.filterValues.lead_statuses_ids,"onUpdate:modelValue":[t[43]||(t[43]=e=>l.filterValues.lead_statuses_ids=e),t[45]||(t[45]=e=>i.getItems())],reduce:t=>"web_master"==e.getRole?t.name:t.id,label:"name",options:e.statusFilters,multiple:"","push-tags":"",closeOnSelect:!1,onOpen:t[44]||(t[44]=e=>i.changeWidth(this.$event)),"auto-resize":!0,"append-to-body":"","onSearch:focus":i.getStatusFilters,deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.lead_statuses_ids||l.filterValues.lead_statuses_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[42]||(t[42]=t=>i.chooseAllSelect(l.filterValues.lead_statuses_ids,e.statusFilters,"lead_statuses_ids"))},[null==l.filterValues.lead_statuses_ids||l.filterValues.lead_statuses_ids.length!=e.statusFilters.length?(g(),f("span",Gn,"Choose All")):(g(),f("span",qn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"cities"==a.id?(g(),f("div",Jn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Cities")])),_:1}),x(r,{modelValue:l.filterValues.city_ids,"onUpdate:modelValue":[t[47]||(t[47]=e=>l.filterValues.city_ids=e),t[48]||(t[48]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.cityFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getCityFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.city_ids||l.filterValues.city_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[46]||(t[46]=t=>i.chooseAllSelect(l.filterValues.city_ids,e.cityFilters,"city_ids"))},[null==l.filterValues.city_ids||l.filterValues.city_ids.length!=e.cityFilters.length?(g(),f("span",Kn,"Choose All")):(g(),f("span",Xn,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"languages"==a.id?(g(),f("div",Zn,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Languages")])),_:1}),x(r,{modelValue:l.filterValues.language_ids,"onUpdate:modelValue":[t[50]||(t[50]=e=>l.filterValues.language_ids=e),t[51]||(t[51]=e=>i.getItems())],reduce:e=>e.id,label:"code",options:e.languageFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLanguageFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.language_ids||l.filterValues.language_ids.length!=e.languageFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[49]||(t[49]=t=>i.chooseAllSelect(l.filterValues.language_ids,e.languageFilters,"language_ids"))},[null==l.filterValues.language_ids||l.filterValues.language_ids.length!=e.languageFilters.length?(g(),f("span",Qn,"Choose All")):(g(),f("span",ed,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"urls"==a.id?(g(),f("div",td,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Urls")])),_:1}),x(r,{modelValue:l.filterValues.landing_ids,"onUpdate:modelValue":[t[53]||(t[53]=e=>l.filterValues.landing_ids=e),t[54]||(t[54]=e=>i.getItems())],reduce:e=>e.id,label:"url",options:e.landingFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.landing_ids||l.filterValues.landing_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[52]||(t[52]=t=>i.chooseAllSelect(l.filterValues.landing_ids,e.landingFilters,"landing_ids"))},[null==l.filterValues.landing_ids||l.filterValues.landing_ids.length!=e.landingFilters.length?(g(),f("span",ad,"Choose All")):(g(),f("span",sd,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"ftd"==a.id?(g(),f("div",ld,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("FTD")])),_:1}),x(r,{modelValue:l.depositStatus,"onUpdate:modelValue":[t[55]||(t[55]=e=>l.depositStatus=e),t[56]||(t[56]=e=>i.depositStatusFilter())],options:l.depositStatusList,"push-tags":"","append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","options"])])),_:1})])):I("",!0),"keitaro_id"==a.id?(g(),f("div",id,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Sub ID")])),_:1}),x(d,{type:"text",modelValue:l.keitaro_id,"onUpdate:modelValue":t[57]||(t[57]=e=>l.keitaro_id=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"payment_type_id"==a.id?(g(),f("div",od,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Payment type")])),_:1}),x(r,{modelValue:l.filterValues.payment_type_ids,"onUpdate:modelValue":[t[58]||(t[58]=e=>l.filterValues.payment_type_ids=e),t[60]||(t[60]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.paymentTypesFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[59]||(t[59]=e=>i.getItems()),"onSearch:focus":i.getPaymentTypesFilter,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"sale"==a.id?(g(),f("div",rd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Sale")])),_:1}),x(d,{type:"text",modelValue:l.sale,"onUpdate:modelValue":t[61]||(t[61]=e=>l.sale=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"comment"==a.id?(g(),f("div",nd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Comment")])),_:1}),x(d,{type:"text",modelValue:l.comment,"onUpdate:modelValue":t[62]||(t[62]=e=>l.comment=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"is_autologin"==a.id?(g(),f("div",dd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Autologin")])),_:1}),x(r,{modelValue:l.is_autologinFilter,"onUpdate:modelValue":[t[63]||(t[63]=e=>l.is_autologinFilter=e),t[64]||(t[64]=e=>i.is_autologinFilters())],reduce:e=>e.id,options:l.is_autologinFilterList,label:"name","push-tags":"","append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0),"valid"==a.id?(g(),f("div",ud,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Valid")])),_:1}),x(r,{modelValue:l.verifyFilter,"onUpdate:modelValue":[t[65]||(t[65]=e=>l.verifyFilter=e),t[66]||(t[66]=e=>i.verifyFilters())],options:l.verifyFilterList,"push-tags":"","append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","options"])])),_:1})])):I("",!0),"search_by_query_parameters"==a.id?(g(),f("div",cd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Search by query parameters")])),_:1}),x(d,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:l.searchQueryParametersModel,"onUpdate:modelValue":t[67]||(t[67]=e=>l.searchQueryParametersModel=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"utm"==a.id?(g(),f("div",md,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("UTM")])),_:1}),x(r,{modelValue:l.filterValues.utm,"onUpdate:modelValue":[t[68]||(t[68]=e=>l.filterValues.utm=e),t[69]||(t[69]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.utmFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getUTMFilters,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),l.filterValues.utm&&"utm"==a.id?(g(!0),f(j,{key:31},K(l.filterValues.utm,(a=>(g(),f("div",pd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C(P(e.utmFilters.find((e=>e.id===a))?.name),1)])),_:2},1024),x(r,{modelValue:l.filterValues.utmParam[a],"onUpdate:modelValue":[e=>l.filterValues.utmParam[a]=e,t[70]||(t[70]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.utmParamsFilters[a],multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":e=>i.getUTMParamsFilters(a),"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","onUpdate:modelValue","reduce","options","onSearch:focus"])])),_:2},1024)])))),256)):I("",!0),"export"==a.id?(g(),k(h,{key:32,class:"d-flex align-center",style:{padding:"10px","margin-top":"20px"}},{default:w((()=>["admin"==e.getRole||"affiliate_manager"==e.getRole?(g(),k(p,{key:0,color:"primary",elevated:"",onClick:t[71]||(t[71]=e=>{l.openExportPopup=!0})},{default:w((()=>[C(" Export ")])),_:1})):I("",!0)])),_:1})):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0),x(b,{open:l.openImportPopup,title:"Import",size:"medium",actions:"right",noscroll:"",onClose:t[74]||(t[74]=e=>l.openImportPopup=!1)},{content:w((()=>[V("form",hd,[1==l.stepFile?(g(),f("div",gd,[x(n,{grouped:""},{default:w((()=>[x(u,null,{default:w((()=>[V("div",fd,[V("label",yd,[V("input",{class:"file-input",type:"file",onChange:t[72]||(t[72]=(...e)=>i.uploadFile&&i.uploadFile(...e)),ref:"fileInput",name:"resume"},null,544),_d,V("span",vd,P(l.fileValue.value),1)])])])),_:1})])),_:1})])):I("",!0),2==l.stepFile?(g(),f("div",bd,[(g(!0),f(j,null,K(l.importColumns,(e=>(g(),f("div",null,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C(P(e.name),1)])),_:2},1024),x(r,{modelValue:e.choose,"onUpdate:modelValue":t=>e.choose=t,label:"name",options:l.importLoadingColumns,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)])))),256))])):I("",!0),3==l.stepFile?(g(),f("div",Sd,[(g(!0),f(j,null,K(l.importColumns,(t=>(g(),f("div",null,[null==t.choose&&"ip"!=t.id&&"phone"!=t.id&&"email"!=t.id&&"full_name"!=t.id?(g(),k(n,{key:0},{default:w((()=>[x(o,null,{default:w((()=>[C(P(t.name),1)])),_:2},1024),"funnel"==t.id?(g(),k(r,{key:0,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.landingNamesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"landing"==t.id?(g(),k(r,{key:1,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"url",options:e.landingSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"country"==t.id?(g(),k(r,{key:2,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"ISO_2",options:e.countriesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"source"==t.id?(g(),k(r,{key:3,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.sourcesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"user"==t.id?(g(),k(r,{key:4,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.usersSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0)])),_:2},1024)):I("",!0)])))),256))])):I("",!0)])])),action:w((()=>[x(p,{color:"primary",onClick:t[73]||(t[73]=e=>i.loadFileHeaders()),raised:""},{default:w((()=>[C("Next")])),_:1})])),_:1},8,["open"]),x(b,{open:l.openExportPopup,title:"Export",size:"medium",actions:"right",noscroll:"",onClose:t[77]||(t[77]=e=>l.openExportPopup=!1)},{content:w((()=>[V("form",kd,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Select Export Columns")])),_:1}),x(r,{modelValue:l.selectedExportColumns,"onUpdate:modelValue":t[75]||(t[75]=e=>l.selectedExportColumns=e),label:"name",options:l.exportColumns,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","options"])])),_:1})])])),action:w((()=>[x(p,{color:"primary",onClick:t[76]||(t[76]=e=>i.exportLeads()),raised:""},{default:w((()=>[C("Export")])),_:1})])),_:1},8,["open"])],64)}]]),Vd=["id","true-value","false-value","value"],Pd=V("span",null,null,-1),xd=m({__name:"VCheckbox",props:{raw:{type:Boolean},label:{default:void 0},color:{default:void 0},trueValue:{default:!0},falseValue:{default:!1},value:{default:void 0},modelValue:{default:!1},circle:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},paddingless:{type:Boolean,default:!1},wrapperClass:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=d(At()),l=p(s.field?.value??a.modelValue),i=u((()=>a.raw?[a.wrapperClass]:["checkbox",a.wrapperClass,a.solid?"is-solid":"is-outlined",a.circle&&"is-circle",a.color&&`is-${a.color}`,a.paddingless&&"is-paddingless"]));return W(l,(()=>{t("update:modelValue",l.value)})),W((()=>a.modelValue),(()=>{l.value=a.modelValue})),(e,t)=>{const o=Ft;return g(),k(o,{raw:"",class:_(v(i))},{default:w((()=>[Y(V("input",R({id:v(s).id,"onUpdate:modelValue":t[0]||(t[0]=e=>q(l)?l.value=e:null)},e.$attrs,{"true-value":a.trueValue,"false-value":a.falseValue,value:a.value,type:"checkbox"}),null,16,Vd),[[Q,v(l)]]),Pd,y(e.$slots,"default",U(M(v(s))),(()=>[C(P(a.label),1)]))])),_:3},8,["class"])}}}),Cd={name:"Comments",data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1,isLoaderActive:!1}),props:["comments"],computed:{...be([]),classObject:()=>({})},methods:{openUpdatePopupComment(e){this.$emit("openEditLeadComment",{type:"update",item:e})},deleteComment(e){console.log("deleteComment"),this.$emit("deleteLeadComment",e)},dateFormat:e=>(console.log(xe(e).fromNow()),xe(e).fromNow()),allDateFormat(e){return this.dateToYMD(e)},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},isToday(e){let t=new Date(e);const a=new Date;return console.log(22),console.log(a.toDateString()),console.log(t.toDateString()),a.toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},Id=e=>(N("data-v-7f842ba9"),e=e(),H(),e),Dd={class:"timeline-wrapper"},Ld=Id((()=>V("div",{class:"timeline-header"},null,-1))),$d={class:"timeline-wrapper-inner"},Td={class:"timeline-container"},Ad={class:"content-wrap"},Od={class:"content-box"},Fd=Id((()=>V("div",{class:"status"},null,-1))),Ud={class:"box-text",style:{"text-align":"left"}},Md={class:"meta-text"},Ed={class:"name",style:{"font-family":"var(--font-alt)",color:"var(--dark-text)","font-weight":"600"}},Bd=["innerHTML"],zd={class:"box-end",style:{position:"absolute",right:"10px",top:"10px",display:"flex"}},jd=["onClick"],Rd=[Id((()=>V("i",{style:{cursor:"pointer"},class:"iconify mr-1","data-icon":"feather:edit-2","aria-hidden":"true"},null,-1)))],Nd=["onClick"],Hd=[Id((()=>V("i",{style:{cursor:"pointer"},class:"iconify","data-icon":"feather:x","aria-hidden":"true"},null,-1)))];const Wd={name:"Lead",components:{Comments:fe(Cd,[["render",function(e,t,a,s,l,i){const o=$i;return g(),f("div",Dd,[Ld,V("div",$d,[V("div",Td,[(g(!0),f(j,null,K(a.comments,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[V("div",{class:_(["is-success",i.classObject])},null,2),V("div",Ad,[V("div",Od,[Fd,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",Ud,[V("div",Md,[V("span",Ed,P(e.user.name),1),V("p",{innerHTML:e.comment,style:{"white-space":"pre-wrap","margin-top":"5px","margin-bottom":"5px"}},null,8,Bd),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",zd,[V("div",{onClick:t=>i.openUpdatePopupComment(e)},Rd,8,jd),V("div",{onClick:t=>i.deleteComment(e.id)},Hd,8,Nd)])])])],2)))),128))])])])}],["__scopeId","data-v-7f842ba9"]])},props:{item:Object,isLoaderActive:Boolean},data:()=>({paymentTypes:[{id:1,name:"CPL"},{id:2,name:"CPA"},{id:3,name:"CPA + CRG"}],popupAddComment:!1,comment:"",disableLeadInputs:!0,text:"",user:"",color:"",serverErrors:{},popupResend:!1,lead_send_type:"old",removePopup:!1,offerAccess:null,date:new Date,timezone:"",isSendLoaderActive:!1,isPersistent:!1,new_send_user:{},new_send_source:{},offerCountry:null,autologin:!1}),computed:{...be(["getRole","dialogLead","leadStatuses","landingNamesSelect","offerSelectAccess","offerSelect","usersSelect","countriesSelect","landingSelect","sourcesSelect","getCrmSettings"]),ipErrors(){const e=[];return this.$v.item.ip.$dirty?(!this.$v.item.ip.required&&e.push("Укажите ip"),e):e},dateErrors(){const e=[];return this.$v.item.date.$dirty?(!this.$v.item.date.required&&e.push("Укажите дату"),e):e},phoneErrors(){const e=[];return this.$v.item.phone.$dirty?(!this.$v.item.phone.required&&e.push("Укажите телефон"),!this.$v.item.phone.minLength&&e.push("Не менее 8 символов"),!this.$v.item.phone.maxLength&&e.push("Не более 17 символов"),!this.$v.item.phone.serverFailed&&this.hasServerError("phone")&&e.push(this.serverErrors.phone[0]),e):e},emailErrors(){const e=[];return this.$v.item.email.$dirty?(!this.$v.item.email.email&&e.push("Некорректный email"),!this.$v.item.email.required&&e.push("Укажите email"),!this.$v.item.email.minLength&&e.push("Не менее 3 символов"),!this.$v.item.email.maxLength&&e.push("Не более 50 символов"),!this.$v.item.email.serverFailed&&this.hasServerError("email")&&e.push(this.serverErrors.email[0]),e):e},nameErrors(){const e=[];return this.$v.item.full_name.$dirty?(!this.$v.item.full_name.required&&e.push("Укажите название"),!this.$v.item.full_name.minLength&&e.push("Не менее 3 символов"),!this.$v.item.full_name.maxLength&&e.push("Не более 50 символов"),e):(console.log(e),e)},landingErrors(){const e=[];return this.$v.item.landing.$dirty?(!this.$v.item.landing.required&&e.push("Укажите url"),e):e},userErrors(){const e=[];return this.$v.item.user.$dirty?(!this.$v.item.user.required&&e.push("Укажите юзера"),e):e},landingNameErrors(){const e=[];return this.$v.item.landing_name.$dirty?(!this.$v.item.landing_name.required&&e.push("Укажите Лендинг"),e):e},countryErrors(){const e=[];return this.$v.item.country.$dirty?(!this.$v.item.country.required&&e.push("Укажите Страну"),e):e},offerErrors(){const e=[];return this.$v.item.offer.$dirty?(!this.$v.item.offer.required&&e.push("Укажите Офер"),e):e},statusErrors(){const e=[];return this.$v.item.status.$dirty?(!this.$v.item.status.required&&e.push("Укажите Статус"),e):e}},watch:{item:{handler(){this.serverErrors={}},deep:!0},new_send_source(){this.updateOfferSelectAccess()},dialogLead(){this.getLeadStatusesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getCountriesSelect(),this.getLandingSelect(),this.getSourcesSelect(),this.getUsersSelect()}},methods:{...Se(["getLeadStatusesSelect","getOfferSelectAccess","getOfferSelect","getLandingNamesSelect","getUsersSelect","getCountriesSelect","getLandingSelect","getSourcesSelect"]),extractJson(e){const t=(e=e.replace(/\\u([\d\w]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).indexOf("{");if(-1===t)return e;const a=e.substring(0,t).trim();try{const s=JSON.parse(e.slice(t));return a+" "+JSON.stringify(s,null,2)}catch(s){return e}},deleteComment(e){if(!confirm("Are you sure?"))return;let t=this.item.id;this.$store.dispatch("deleteLeadComment",{leadId:t,commentId:e}).then((()=>{this.$parent.getCurrentLead(this.item)}))},openUpdatePopupComment(){console.log(1)},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},disablePopupLead(){this.disableLeadInputs?(this.$store.commit("disableDialogLead"),this.isSendLoaderActive=!1):(this.disableLeadInputs=!0,this.$parent.getCurrentLead(this.item))},openCommentPopup(e={type:"add"}){this.popupAddComment={show:!0,type:e.type},e.item.comment&&(this.comment=e.item.comment,this.popupAddComment.id=e.item.id)},addComment(){console.log(this.comment),this.$store.dispatch("addLeadComment",{leadId:this.item.id,comment:this.comment}).then((()=>{this.comment="",this.popupAddComment=!1,this.$parent.getCurrentLead(this.item)}))},updateComment(){console.log(this.popupAddComment),this.$store.dispatch("updateLeadComment",{leadId:this.item.id,comment:this.comment,commentId:this.popupAddComment.id}).then((()=>{this.comment="",this.popupAddComment=!1,this.$parent.getCurrentLead(this.item)}))},openResendPopup(e="old"){this.lead_send_type=e,this.offerAccess=null,this.new_send_user=this.item.user,this.new_send_source=this.item.source,this.$store.dispatch("getOfferSelectAccessWithSource",{leadId:this.item.id,source:this.new_send_source}).then((()=>{this.popupResend=!0})).finally()},openRemoveLeadPopup(){this.removePopup=!0},resendLeadCurrentOffer(){if(null==this.offerAccess)return void alert("Select campaign");let e="resendLeadByOfferId";"new"==this.lead_send_type&&(e="resendNewLeadByOfferId"),this.new_send_user||(this.new_send_user=this.item.user),this.new_send_source||(this.new_send_source=this.item.source),this.isSendLoaderActive=!0,this.togglePersistent();let t={leadId:this.item.id,offerId:this.offerAccess,new_user:this.new_send_user,new_source:this.new_send_source,autologin:this.autologin};"cold-overflow"==this.$route.name&&(t.overflowID=this.$route.params.id),console.log(t),this.$store.dispatch(e,t).then((()=>{this.isSendLoaderActive=!1,this.popupResend=!1,this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item),this.togglePersistent()})).catch((()=>{this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item),this.isSendLoaderActive=!1,this.togglePersistent()}))},resendLead(){let e="resendLead";"new"==this.lead_send_type&&(e="resendNewLead"),this.new_send_user||(this.new_send_user=this.item.user),this.new_send_source||(this.new_send_source=this.item.source);let t=this.item.id;this.isSendLoaderActive=!0,this.togglePersistent(),console.log(this.autologin),console.log("mounted"),console.log(this.$route.name);let a={leadId:t,new_user:this.new_send_user,new_source:this.new_send_source,autologin:this.autologin};"cold-overflow"==this.$route.name&&(a.overflowID=this.$route.params.id),this.$store.dispatch(e,a).then((()=>{this.isSendLoaderActive=!1,this.popupResend=!1,this.togglePersistent(),this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item)})).catch((()=>{this.$parent.getCurrentLead(this.item),this.isSendLoaderActive=!1,this.togglePersistent()}))},setAsRemovedCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.item.id;this.$store.dispatch("setAsRemovedLead",{leadId:e}).finally((()=>{this.$parent.getItems(this.$parent.page),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},deleteCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.item.id;this.$store.dispatch("deleteLead",{leadId:e}).finally((()=>{this.$parent.getItems(this.$parent.page),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},restoreCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.item.id;this.$store.dispatch("restoreLead",{leadId:e}).finally((()=>{this.$parent.getItems(this.$parent.page),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},switchEnableLeadInputs(){this.disableLeadInputs=!1},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},updateLead(){let e=this.item.id,t=this.item.action_time,a={full_name:this.item.full_name,email:this.item.email,phone:this.item.phone,ip:this.item.ip,user_id:this.item.user,created_at:xe(this.item.date).format("YYYY-MM-DD HH:mm:ss"),landing_id:this.item.landing,landing_name_id:this.item.landing_name,offer_id:this.item.offer,status_id:this.item.status,country_id:this.item.country,is_action:this.item.is_action,is_action_approved:this.item.is_action_approved,action_time:t,payment_type_id:this.item.payment_type_id,query_parameters:this.item.query_parameters,sale:this.item.sale,buy:this.item.buy,comment:this.item.comment,is_lock:this.item.is_lock,source_id:this.item.source,update_ftd_date:!0,sended_date:xe(this.item.sended_date).format("YYYY-MM-DD HH:mm:ss"),external_id:this.item.external_id,broker_comment:this.item.broker_comment};this.$store.dispatch("updateLead",{leadId:e,data:a}).then((()=>{this.disableLeadInputs=!0})).catch((e=>{this.serverErrors=e.response.data.errors})).finally((()=>{this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item)}))},addFunnelToOffer(e,t){confirm("Are you sure?")&&this.$store.dispatch("addFunnelToOffer",{funnelId:t,offerId:e}).then((()=>{this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item)}))},addCountryToOffer(e,t){confirm("Are you sure?")&&this.$store.dispatch("addCountryToOffer",{offerId:e,countryId:t}).then((()=>{this.$parent.getItems(this.$parent.page),this.$parent.getCurrentLead(this.item)}))},copyText(e){window.Clipboard.copy(e)},setCurrentDate(){this.item.action_time=(new Date).toLocaleString("en-US",{hour12:!1})},togglePersistent(){this.isPersistent=!this.isPersistent},updateOfferSelectAccess(){this.$store.dispatch("getOfferSelectAccessWithSource",{leadId:this.item.id,source:this.new_send_source})},setActionDateTime(){return!this.disableLeadInputs&&this.item.action_time?(console.log(11111),this.item.action_time):this.disableLeadInputs||this.item.action_time||!this.item.is_action?(console.log(4444),{}):(console.log(22222),this.setCurrentDate())}}},Yd=e=>(N("data-v-25cc5c65"),e=e(),H(),e),Gd=Yd((()=>V("h1",null,"Sending lead",-1))),qd={class:"form-fieldset",style:{"margin-bottom":"0","padding-bottom":"0"}},Jd={class:"fieldset-heading",style:{"padding-bottom":"0","margin-bottom":"0"}},Kd=Yd((()=>V("h4",null,"Send by distribution",-1))),Xd={class:"form-fieldset"},Zd=Yd((()=>V("div",{class:"fieldset-heading"},[V("h4",null,"Choose Campaign")],-1))),Qd={class:"form-fieldset"},eu=Yd((()=>V("h1",null,"Choose action",-1))),tu={class:"headline h-hidden-mobile"},au={style:{display:"flex"}},su={key:0},lu=Yd((()=>V("i",{class:"iconify","data-icon":"feather:edit-2","aria-hidden":"true"},null,-1))),iu=Yd((()=>V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"},null,-1))),ou=Yd((()=>V("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"},null,-1))),ru=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],nu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],du=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],uu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],cu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],mu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],pu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],hu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],gu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],fu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],yu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],_u=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],vu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],bu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],Su=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],ku=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],wu={key:0},Vu={class:"add-comment-conteainer",style:{"text-align":"right"}},Pu={key:1},xu=Yd((()=>V("h4",{class:"text-center text-h4"},"General Info",-1))),Cu={style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%",padding:"10px"}},Iu={style:{display:"flex"}},Du=Yd((()=>V("h4",{class:"text-center text-h4 mb-4 mt-8"},"Free parameters",-1))),Lu={class:"title is-6 mb-2"},$u={key:2,class:"lead-response-tab"},Tu={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Au={style:{color:"#a1a5b9"}},Ou=["onClick"],Fu=[Yd((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],Uu={style:{position:"relative"}},Mu={key:1,class:"text-h6 text-center"},Eu={key:3,style:{"max-height":"650px",overflow:"auto"}},Bu={key:1,class:"text-h6 text-center"},zu={key:4},ju={key:0,class:"froud-cont"},Ru=Yd((()=>V("span",null,"Server Ip",-1))),Nu={key:1,class:"froud-cont"},Hu=Yd((()=>V("span",null,"Server Agent",-1))),Wu={key:2,class:"froud-cont"},Yu=Yd((()=>V("span",null,"User Agent",-1))),Gu={key:3,class:"froud-cont"},qu=Yd((()=>V("span",null,"Device",-1))),Ju={key:4,class:"froud-cont"},Ku=Yd((()=>V("span",null,"Platform",-1))),Xu={key:5,class:"froud-cont"},Zu=Yd((()=>V("span",null,"Browser",-1))),Qu={key:6,class:"froud-cont"},ec=Yd((()=>V("span",null,"Provider",-1))),tc={key:7,class:"froud-cont"},ac=Yd((()=>V("span",null,"Invalid IP",-1)));const sc=fe(Wd,[["render",function(e,t,a,s,l,i){const o=$("v-card-title"),r=Ft,n=$("v-selects"),d=Et,u=$("v-col"),c=Nt,m=$("v-divider"),p=bt,h=xd,y=$("v-row"),v=$("v-card-text"),b=ft,S=Cr,D=$("v-dialog"),L=tn,T=yt,A=$("v-btn"),O=$("v-card-actions"),F=$i,U=Wt,M=$("VDatePicker"),E=$("Comments"),B=Qr,z=ft,N=ba,H=$("v-container"),W=te("tooltip");return g(),k(D,{modelValue:e.dialogLead,"onUpdate:modelValue":t[53]||(t[53]=t=>e.dialogLead=t),persistent:"",class:"lead-dialog",style:{"max-width":"1440px"}},{default:w((()=>[x(D,{"max-width":"400px",modelValue:l.popupResend,"onUpdate:modelValue":t[4]||(t[4]=e=>l.popupResend=e),persistent:l.isPersistent},{default:w((()=>[x(S,{size:"large",active:l.isSendLoaderActive},{default:w((()=>[x(b,{color:"#1E272C"},{default:w((()=>[x(o,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[Gd])),_:1}),x(v,{style:{"text-align":"center"}},{default:w((()=>[x(y,{class:"content-resend-popup"},{default:w((()=>["new"==l.lead_send_type?(g(),f(j,{key:0},[x(u,{cols:"12"},{default:w((()=>[x(d,{style:{"max-width":"210px",margin:"0 auto"}},{default:w((()=>[x(r,null,{default:w((()=>[C("Choose user")])),_:1}),x(n,{width:"210px",modelValue:l.new_send_user,"onUpdate:modelValue":t[0]||(t[0]=e=>l.new_send_user=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(d,{style:{"max-width":"210px",margin:"0 auto"}},{default:w((()=>[x(r,null,{default:w((()=>[C("Source")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:l.new_send_source,"onUpdate:modelValue":t[1]||(t[1]=e=>l.new_send_source=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":"",clearable:!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1}),x(m,{style:{"margin-bottom":"-10px"}})],64)):I("",!0),x(u,{cols:"12",style:{"margin-bottom":"0","padding-bottom":"0"}},{default:w((()=>[V("div",qd,[V("div",Jd,[Kd,x(p,{onClick:i.resendLead,style:{"margin-top":"10px"}},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"])])])])),_:1}),x(u,{cols:"12"},{default:w((()=>[V("div",Xd,[Zd,x(d,{style:{"max-width":"210px",margin:"0 auto"}},{default:w((()=>[x(r,null,{default:w((()=>[C("Campaign")])),_:1}),x(n,{width:"210px",modelValue:l.offerAccess,"onUpdate:modelValue":t[2]||(t[2]=e=>l.offerAccess=e),reduce:e=>e.id,label:"name",options:e.offerSelectAccess,"push-tags":"",closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1}),e.getCrmSettings.autologin?(g(),k(d,{key:0,class:"mt-2",style:{"max-width":"210px",margin:"0 auto"}},{default:w((()=>[x(c,null,{default:w((()=>[x(h,{modelValue:l.autologin,"onUpdate:modelValue":t[3]||(t[3]=e=>l.autologin=e),trueValue:"1",label:"Autologin",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0),x(p,{style:{"margin-top":"10px"},onClick:i.resendLeadCurrentOffer},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1},8,["modelValue","persistent"]),x(D,{"max-width":"600px",modelValue:l.popupAddComment,"onUpdate:modelValue":t[6]||(t[6]=e=>l.popupAddComment=e),persistent:l.isPersistent},{default:w((()=>[x(S,{size:"large",active:l.isSendLoaderActive},{default:w((()=>[x(b,{color:"#1E272C",style:{"max-width":"800px"}},{default:w((()=>[x(v,{style:{"text-align":"center"}},{default:w((()=>[x(y,{class:"content-resend-popup"},{default:w((()=>[x(u,{cols:"12"},{default:w((()=>[V("div",Qd,[x(d,{class:"w-100"},{default:w((()=>[x(L,{modelValue:l.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>l.comment=e),rows:"10"},null,8,["modelValue"])])),_:1}),"add"==l.popupAddComment.type?(g(),k(p,{key:0,style:{"margin-top":"10px",float:"right"},onClick:i.addComment},{default:w((()=>[C(" Add ")])),_:1},8,["onClick"])):(g(),k(p,{key:1,style:{"margin-top":"10px",float:"right"},onClick:i.updateComment},{default:w((()=>[C(" Save ")])),_:1},8,["onClick"]))])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1},8,["modelValue","persistent"]),x(D,{"max-width":"500px",modelValue:l.removePopup,"onUpdate:modelValue":t[9]||(t[9]=e=>l.removePopup=e),persistent:l.isPersistent},{default:w((()=>[x(b,{color:"#1E272C"},{default:w((()=>[x(o,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[eu])),_:1}),x(v,{style:{"text-align":"center"}},{default:w((()=>[x(u,{cols:"12"},{default:w((()=>[x(T,{style:{"justify-content":"center"}},{default:w((()=>[x(p,{icon:"feather:delete",onClick:t[7]||(t[7]=e=>i.deleteCurrentLead())},{default:w((()=>[C(" Delete ")])),_:1}),x(p,{color:"primary",icon:"feather:x",onClick:t[8]||(t[8]=e=>this.removePopup=0),elevated:""},{default:w((()=>[C(" Cancel ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","persistent"]),x(b,{color:"#1E272C",style:{padding:"0px","overflow-x":"hidden","overflow-y":"auto"}},{default:w((()=>[x(o,{class:"justify-space-between",style:{display:"flex","align-items":"center"}},{default:w((()=>[V("span",tu,"Lead #"+P(a.item.id),1),x(O,null,{default:w((()=>[x(p,{onClick:i.openResendPopup},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"]),x(p,{class:"ml-2",onClick:t[10]||(t[10]=e=>i.openResendPopup("new"))},{default:w((()=>[C(" New Send ")])),_:1}),1==a.item.is_removed||"admin"!=e.getRole&&"support"!=e.getRole?I("",!0):(g(),k(p,{key:0,class:"ml-2 mr-2 is-danger h-hidden-mobile",onClick:i.openRemoveLeadPopup},{default:w((()=>[C(" Remove lead ")])),_:1},8,["onClick"])),1!=a.item.is_removed||"admin"!=e.getRole&&"support"!=e.getRole?I("",!0):(g(),k(p,{key:1,class:"ml-2 mr-2 is-info h-hidden-mobile",onClick:t[11]||(t[11]=e=>i.restoreCurrentLead())},{default:w((()=>[C(" Restore lead ")])),_:1})),V("div",au,["admin"==e.getRole||"support"==e.getRole||"affiliate_manager"==e.getRole?(g(),f("div",su,[l.disableLeadInputs?(g(),k(A,{key:0,color:"darken-1",text:"",onClick:i.switchEnableLeadInputs},{default:w((()=>[lu])),_:1},8,["onClick"])):I("",!0),l.disableLeadInputs?I("",!0):(g(),k(A,{key:1,color:"darken-1",text:"",onClick:i.updateLead},{default:w((()=>[iu])),_:1},8,["onClick"]))])):I("",!0),x(A,{color:"darken-1",text:"",onClick:i.disablePopupLead},{default:w((()=>[ou])),_:1},8,["onClick"])])])),_:1})])),_:1}),x(S,{size:"large",active:a.isLoaderActive},{default:w((()=>[x(v,{class:"no_pad"},{default:w((()=>[x(H,{fluid:"",style:{"padding-top":"0"}},{default:w((()=>[x(y,null,{default:w((()=>[x(u,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(y,null,{default:w((()=>[x(u,{cols:"12",style:{position:"relative"}},{default:w((()=>[x(y,null,{default:w((()=>[x(u,{lg:"6",md:"6",sm:"6",cols:"12",style:{"text-align":"center"}},{default:w((()=>[x(F,{size:"xl",picture:"/images/avatars/svg/vuero-1.svg",style:{margin:"20px auto 40px"},alt:""}),x(d,null,{default:w((()=>[x(c,{style:{position:"relative"}},{default:w((()=>[x(U,{type:"text",placeholder:"",modelValue:a.item.full_name,"onUpdate:modelValue":t[12]||(t[12]=e=>a.item.full_name=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs,style:{"text-align":"center"}},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[13]||(t[13]=e=>i.copyText(a.item.full_name))},ru)])),_:1})])),_:1})])),_:1}),x(u,{lg:"6",md:"6",sm:"6",cols:"12"},{default:w((()=>[x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Email")])),_:1}),x(c,{class:"block-copy-text relative"},{default:w((()=>[x(U,{type:"text",placeholder:"",modelValue:a.item.email,"onUpdate:modelValue":t[14]||(t[14]=e=>a.item.email=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[15]||(t[15]=e=>i.copyText(a.item.email))},nu)])),_:1})])),_:1}),"admin"==e.getRole||"affiliate_manager"==e.getRole&&a.item.phone?(g(),k(d,{key:0},{default:w((()=>[x(r,null,{default:w((()=>[C("Phone")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(U,{type:"text",placeholder:"",modelValue:a.item.phone,"onUpdate:modelValue":t[16]||(t[16]=e=>a.item.phone=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[17]||(t[17]=e=>i.copyText(a.item.phone))},du)])),_:1})])),_:1})):I("",!0),x(d,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[C("Campaign")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.offer,"onUpdate:modelValue":t[18]||(t[18]=e=>a.item.offer=e),reduce:e=>e.id,label:"name",options:e.offerSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[19]||(t[19]=t=>i.copyText(e.offerSelect[e.offerSelect.findIndex((e=>e.id===a.item.offer))].name))},uu)):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(u,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("IP")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(U,{type:"text",placeholder:"",modelValue:a.item.ip,"onUpdate:modelValue":t[20]||(t[20]=e=>a.item.ip=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[21]||(t[21]=e=>i.copyText(a.item.ip))},cu)])),_:1})])),_:1}),x(d,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[C("User")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.user,"onUpdate:modelValue":t[22]||(t[22]=e=>a.item.user=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[23]||(t[23]=t=>i.copyText(e.usersSelect[e.usersSelect.findIndex((e=>e.id===a.item.user))].name))},mu)):I("",!0)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Send Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(M,{modelValue:a.item.date,"onUpdate:modelValue":t[24]||(t[24]=e=>a.item.date=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e,inputEvents:t})=>[x(d,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(U,R({value:e},ee(l.disableLeadInputs?{}:t),{class:{inputs_disabled:l.disableLeadInputs},readonly:l.disableLeadInputs}),null,16,["value","class","readonly"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[25]||(t[25]=e=>i.copyText(a.item.date))},pu)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Create Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(M,{modelValue:a.item.sended_date,"onUpdate:modelValue":t[26]||(t[26]=e=>a.item.sended_date=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e,inputEvents:t})=>[x(d,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(U,R({value:e},ee(l.disableLeadInputs?{}:t),{class:{inputs_disabled:l.disableLeadInputs},readonly:l.disableLeadInputs}),null,16,["value","class","readonly"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[27]||(t[27]=e=>i.copyText(a.item.sended_date))},hu)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Broker comment")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(L,{modelValue:a.item.broker_comment,"onUpdate:modelValue":t[28]||(t[28]=e=>a.item.broker_comment=e),rows:"3",readonly:l.disableLeadInputs,class:_({inputs_disabled:l.disableLeadInputs})},null,8,["modelValue","readonly","class"]),V("button",{class:"copy-text",onClick:t[29]||(t[29]=e=>i.copyText(a.item.broker_comment))},gu)])),_:1})])),_:1}),x(d,{class:"is-flex"},{default:w((()=>[x(c,null,{default:w((()=>[x(h,{modelValue:a.item.is_lock,"onUpdate:modelValue":t[30]||(t[30]=e=>a.item.is_lock=e),trueValue:"1",label:"Is lock",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:l.disableLeadInputs},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1}),x(u,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("URL")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.landing,"onUpdate:modelValue":t[31]||(t[31]=e=>a.item.landing=e),reduce:e=>e.id,label:"url",options:e.landingSelect,"push-tags":"",disabled:l.disableLeadInputs,class:_({inputs_disabled:l.disableLeadInputs})},null,8,["modelValue","reduce","options","disabled","class"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[32]||(t[32]=t=>i.copyText(e.landingSelect[e.landingSelect.findIndex((e=>e.id===a.item.landing))].url))},fu)):I("",!0)])),_:1})])),_:1}),x(d,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[C("Funnel")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.landing_name,"onUpdate:modelValue":t[33]||(t[33]=e=>a.item.landing_name=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[34]||(t[34]=t=>i.copyText(e.landingNamesSelect[e.landingNamesSelect.findIndex((e=>e.id===a.item.landing_name))].name))},yu)):I("",!0)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Status")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.status,"onUpdate:modelValue":t[35]||(t[35]=e=>a.item.status=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[36]||(t[36]=t=>i.copyText(e.leadStatuses[e.leadStatuses.findIndex((e=>e.id===a.item.status))].name))},_u)):I("",!0)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Country")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.country,"onUpdate:modelValue":t[37]||(t[37]=e=>a.item.country=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[38]||(t[38]=t=>i.copyText(e.countriesSelect.find((e=>e.id===a.item.country)).ISO_2))},vu)):I("",!0)])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Source")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{modelValue:a.item.source,"onUpdate:modelValue":t[39]||(t[39]=e=>a.item.source=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[40]||(t[40]=t=>i.copyText(e.sourcesSelect.find((e=>e.id===a.item.source)).name))},bu)):I("",!0)])),_:1})])),_:1}),"affiliate_manager"==e.getRole||"admin"==e.getRole||"support"==e.getRole?(g(),k(d,{key:0},{default:w((()=>[x(r,null,{default:w((()=>[C("External ID")])),_:1}),x(c,{class:"block-copy-text relative"},{default:w((()=>[x(U,{type:"text",placeholder:"",modelValue:a.item.external_id,"onUpdate:modelValue":t[41]||(t[41]=e=>a.item.external_id=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[42]||(t[42]=e=>i.copyText(a.item.external_id))},Su)])),_:1})])),_:1})):I("",!0),x(d,{class:"is-flex"},{default:w((()=>[x(c,null,{default:w((()=>[x(h,R({modelValue:a.item.is_action,"onUpdate:modelValue":t[43]||(t[43]=e=>a.item.is_action=e)},ee(i.setActionDateTime()),{trueValue:"1",label:"Converison",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:l.disableLeadInputs}),null,16,["modelValue","disabled"])])),_:1})])),_:1}),a.item.is_action?(g(),k(d,{key:1},{default:w((()=>[x(r,null,{default:w((()=>[C("Ftd Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(M,{modelValue:a.item.action_time,"onUpdate:modelValue":t[44]||(t[44]=e=>a.item.action_time=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e,inputEvents:t})=>[x(d,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(U,R({value:e},ee(l.disableLeadInputs?{}:t),{class:{inputs_disabled:l.disableLeadInputs},readonly:l.disableLeadInputs}),null,16,["value","class","readonly"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[45]||(t[45]=e=>i.copyText(a.item.action_time))},ku)])),_:1})])),_:1})):I("",!0),a.item.is_action&&e.getCrmSettings.approveDeposits&&"admin"==e.getRole?(g(),k(d,{key:2,class:"is-flex"},{default:w((()=>[x(c,null,{default:w((()=>[x(h,R({modelValue:a.item.is_action_approved,"onUpdate:modelValue":t[46]||(t[46]=e=>a.item.is_action_approved=e)},ee(l.disableLeadInputs?{}:i.setCurrentDate()),{trueValue:"1",label:"Is approved deposit?",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:l.disableLeadInputs}),null,16,["modelValue","disabled"])])),_:1})])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1}),x(u,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(N,{align:"centered",selected:"general",tabs:[{label:"General Info",value:"general"},{label:"Lead response",value:"response"},{label:"Logs",value:"logs"},{label:"Anti Fraud",value:"anti_fraud"},{label:"Comments",value:"comments"}]},{tab:w((({activeValue:e})=>["comments"===e?(g(),f("div",wu,[V("div",Vu,[x(p,{onClick:t[47]||(t[47]=e=>i.openCommentPopup({type:"add"})),style:{"margin-top":"10px"}},{default:w((()=>[C(" Add Comment ")])),_:1})]),x(E,{comments:a.item.comments,onOpenEditLeadComment:i.openCommentPopup,onDeleteLeadComment:i.deleteComment},null,8,["comments","onOpenEditLeadComment","onDeleteLeadComment"])])):I("",!0),"general"===e?(g(),f("div",Pu,[xu,x(y,{class:"mt-1"},{default:w((()=>[V("div",Cu,[V("div",Iu,[x(d,{class:"mb-0"},{default:w((()=>[x(r,{class:"pl-2"},{default:w((()=>[C("Pay")])),_:1}),x(U,{type:"text",placeholder:"",modelValue:a.item.buy,"onUpdate:modelValue":t[48]||(t[48]=e=>a.item.buy=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"])])),_:1}),x(d,{class:"ml-5"},{default:w((()=>[x(r,{class:"pl-2"},{default:w((()=>[C("Sale")])),_:1}),x(U,{type:"text",placeholder:"",modelValue:a.item.sale,"onUpdate:modelValue":t[49]||(t[49]=e=>a.item.sale=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"])])),_:1})]),V("div",null,[x(d,{class:"ml-5",style:{"margin-bottom":"2px"}},{default:w((()=>[x(r,null,{default:w((()=>[C("Payment Type")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(n,{class:_(["payment-type-select",{inputs_disabled:l.disableLeadInputs}]),style:{"min-width":"250px"},modelValue:a.item.payment_type_id,"onUpdate:modelValue":t[50]||(t[50]=e=>a.item.payment_type_id=e),reduce:e=>e.id,label:"name",options:l.paymentTypes,"push-tags":"",disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"])])),_:1})])),_:1})])])])),_:1}),x(y,{class:"mt-4 px-2"},{default:w((()=>[a.item.error?(g(),k(d,{key:0,class:"w-100"},{default:w((()=>[x(r,null,{default:w((()=>[C("Error")])),_:1}),x(L,{modelValue:a.item.error,"onUpdate:modelValue":t[51]||(t[51]=e=>a.item.error=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0)])),_:1}),!a.item.decode_query_parameters.status||"empty"!=a.item.decode_query_parameters.status||a.item.description?(g(),f(j,{key:0},[Du,a.item.description?(g(),k(d,{key:0},{default:w((()=>[x(r,null,{default:w((()=>[C("Description")])),_:1}),x(L,{modelValue:a.item.description,"onUpdate:modelValue":t[52]||(t[52]=e=>a.item.description=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0),a.item.decode_query_parameters.status&&"empty"==a.item.decode_query_parameters.status?I("",!0):(g(),k(y,{key:1},{default:w((()=>[(g(!0),f(j,null,K(a.item.decode_query_parameters,((e,t)=>(g(),k(u,{key:t,lg:"4",md:"4",cols:"6"},{default:w((()=>[x(z,{radius:"small",class:"text-center",onClick:t=>i.copyText(e),style:{"overflow-y":"visible"}},{default:w((()=>[V("h3",Lu,P(t),1),Y(x(B,{color:"solid",label:e.substring(0,10)},null,8,["label"]),[[W,e,void 0,{bottom:!0}]])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}))],64)):I("",!0)])):"response"===e?(g(),f("div",$u,[a.item.lead_responses.length>0?(g(!0),f(j,{key:0},K(a.item.lead_responses,((e,t)=>(g(),f("p",{class:"text-h6",key:t,style:{"line-break":"anywhere"}},[V("div",Tu,[V("span",Au,P(new Date(e.created_at).toLocaleString().replace(",","")),1),e.curl?(g(),f("span",{key:0,onClick:t=>this.globalCopyText(e.curl),style:{cursor:"pointer"},class:"mr-4"},Fu,8,Ou)):I("",!0)]),V("div",Uu,[V("code",{class:_(0==e.status?"text-red":"text-green"),style:{display:"block","white-space":"pre-wrap"}},P(this.extractJson(e.response)),3),a.item.offer_not_found?(g(!0),f(j,{key:0},K(a.item.offer_not_found,(e=>(g(),f("div",{key:e.id,class:"mt-2"},[!e.has_lead_funnel||e.countries?(g(),f(j,{key:0},[V("div",null,[V("span",null,P(e.name)+" offer",1)]),V("div",null,[e.has_lead_funnel?I("",!0):(g(),k(p,{key:0,size:"medium",class:"ml-2",onClick:t=>i.addFunnelToOffer(e.id,a.item.landing_name)},{default:w((()=>[C(" Add Lead Funnel ")])),_:2},1032,["onClick"])),e.countries?(g(),k(p,{key:1,size:"medium",class:"ml-2",onClick:t=>i.addCountryToOffer(e.id,a.item.country)},{default:w((()=>[C(" Add Lead Country ")])),_:2},1032,["onClick"])):I("",!0)])],64)):I("",!0)])))),128)):I("",!0)])])))),128)):(g(),f("p",Mu,"The lead has no responses"))])):"logs"===e?(g(),f("div",Eu,[a.item.lead_status_history.length>0?(g(!0),f(j,{key:0},K(a.item.lead_status_history,((e,t)=>(g(),f("p",{class:"text-h6",key:t},[e.pivot.is_ftd?(g(),f(j,{key:0},[C(P(new Date(e.created_at).toLocaleString().replace(",",""))+" - Initial FTD ",1)],64)):(g(),f(j,{key:1},[C(P(new Date(e.created_at).toLocaleString().replace(",",""))+" - status changed to ",1),V("u",null,P(e.name),1)],64))])))),128)):(g(),f("p",Bu,"The lead status has no changed"))])):"anti_fraud"===e?(g(),f("div",zu,[V("div",null,[a.item.sent_ip?(g(),f("div",ju,[Ru,V("span",null,P(a.item.sent_ip),1)])):I("",!0),a.item.sent_user_agent?(g(),f("div",Nu,[Hu,V("span",null,P(a.item.sent_user_agent),1)])):I("",!0),a.item.auth_user_agent?(g(),f("div",Wu,[Yu,V("span",null,P(a.item.auth_user_agent),1)])):I("",!0),a.item.frod.device?(g(),f("div",Gu,[qu,V("span",null,P(a.item.frod.device),1)])):I("",!0),a.item.frod.platform?(g(),f("div",Ju,[Ku,V("span",null,P(a.item.frod.platform),1)])):I("",!0),a.item.frod.browser?(g(),f("div",Xu,[Zu,V("span",null,P(a.item.frod.browser),1)])):I("",!0),a.item.frod.provider?(g(),f("div",Qu,[ec,V("span",null,P(a.item.frod.provider),1)])):I("",!0),a.item.invalid_ip&&0!=a.item.invalid_ip?(g(),f("div",tc,[ac,V("span",null,P(a.item.invalid_ip),1)])):I("",!0)])])):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1})])),_:1},8,["modelValue"])}],["__scopeId","data-v-25cc5c65"]]),lc={name:"SimpleLeadPopup",props:{item:Object,isLoaderActive:Boolean},data:()=>({disableLeadInputs:!0,text:"",user:"",color:"",serverErrors:{},popupResend:!1,lead_send_type:"old",removePopup:!1,offerAccess:null,date:new Date,timezone:"",isSendLoaderActive:!1,isPersistent:!1}),computed:{...be(["getRole","dialogLead"])},watch:{item:{handler(){this.serverErrors={}},deep:!0}},methods:{hasServerError(e){return this.serverErrors.hasOwnProperty(e)},disablePopupLead(){this.$store.commit("disableDialogLead"),this.isSendLoaderActive=!1},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},copyText(e){window.Clipboard.copy(e)},togglePersistent(){this.isPersistent=!this.isPersistent}}},ic=e=>(N("data-v-1c36ac91"),e=e(),H(),e),oc={class:"headline h-hidden-mobile"},rc={style:{display:"flex"}},nc=ic((()=>V("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"},null,-1))),dc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],uc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],cc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],mc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],pc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],hc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],gc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],fc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],yc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],_c=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],vc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],bc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],Sc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],kc=[ic((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],wc={key:0},Vc=ic((()=>V("h4",{class:"text-center text-h4"},"General Info",-1))),Pc=ic((()=>V("h4",{class:"text-center text-h4 mb-4"},"Free parameters",-1))),xc={class:"title is-6 mb-2"},Cc={key:1,style:{"max-height":"650px",overflow:"auto"}},Ic={key:1,class:"text-h6 text-center"};const Dc=fe(lc,[["render",function(e,t,a,s,l,i){const o=$("v-btn"),r=$("v-card-actions"),n=$("v-card-title"),d=$i,u=Wt,c=Nt,m=Et,p=$("v-col"),h=Ft,y=$("v-row"),_=$("VDatePicker"),v=tn,b=xd,S=Qr,D=ft,L=ba,T=$("v-container"),A=$("v-card-text"),O=Cr,F=ft,U=$("v-dialog"),M=te("tooltip");return g(),k(U,{modelValue:e.dialogLead,"onUpdate:modelValue":t[32]||(t[32]=t=>e.dialogLead=t),persistent:"",class:"lead-dialog",style:{"max-width":"1440px"}},{default:w((()=>[x(F,{color:"#1E272C",style:{padding:"0px","overflow-x":"hidden","overflow-y":"auto"}},{default:w((()=>[x(n,{class:"justify-space-between",style:{display:"flex","align-items":"center"}},{default:w((()=>[V("span",oc,"Lead #"+P(a.item.id),1),x(r,null,{default:w((()=>[V("div",rc,[x(o,{color:"darken-1",text:"",onClick:i.disablePopupLead},{default:w((()=>[nc])),_:1},8,["onClick"])])])),_:1})])),_:1}),x(O,{size:"large",active:a.isLoaderActive},{default:w((()=>[x(A,{class:"no_pad"},{default:w((()=>[x(T,{fluid:"",style:{"padding-top":"0"}},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{cols:"12",style:{position:"relative"}},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{lg:"6",md:"6",sm:"6",cols:"12",style:{"text-align":"center"}},{default:w((()=>[x(d,{size:"xl",picture:"/images/avatars/svg/vuero-1.svg",style:{margin:"20px auto 40px"},alt:""}),x(m,null,{default:w((()=>[x(c,{style:{position:"relative"}},{default:w((()=>[x(u,{type:"text",modelValue:a.item.full_name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.item.full_name=e),class:"inputs_disabled",readonly:"true",style:{"text-align":"center"}},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[1]||(t[1]=e=>i.copyText(a.item.full_name))},dc)])),_:1})])),_:1})])),_:1}),x(p,{lg:"6",md:"6",sm:"6",cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Email")])),_:1}),x(c,{class:"block-copy-text relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.email,"onUpdate:modelValue":t[2]||(t[2]=e=>a.item.email=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[3]||(t[3]=e=>i.copyText(a.item.email))},uc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Campaign")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.offer_id,"onUpdate:modelValue":t[4]||(t[4]=e=>a.item.offer_id=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[5]||(t[5]=e=>i.copyText(a.item.offer_id))},cc)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(p,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("IP")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.ip,"onUpdate:modelValue":t[6]||(t[6]=e=>a.item.ip=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[7]||(t[7]=e=>i.copyText(a.item.ip))},mc)])),_:1})])),_:1}),"buyer"!=e.getRole?(g(),k(m,{key:0},{default:w((()=>[x(h,null,{default:w((()=>[C("User")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.user.name,"onUpdate:modelValue":t[8]||(t[8]=e=>a.item.user.name=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[9]||(t[9]=e=>i.copyText(a.item.user.name))},pc)])),_:1})])),_:1})):I("",!0),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(_,{modelValue:a.item.date,"onUpdate:modelValue":t[10]||(t[10]=e=>a.item.date=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e})=>[x(m,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(u,{value:e,class:"inputs_disabled",readonly:"true"},null,8,["value"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[11]||(t[11]=e=>i.copyText(a.item.date))},hc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Comment")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(v,{modelValue:a.item.comment,"onUpdate:modelValue":t[12]||(t[12]=e=>a.item.comment=e),rows:"3",readonly:!0,class:"inputs_disabled"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[13]||(t[13]=e=>i.copyText(a.item.comment))},gc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Broker comment")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(v,{modelValue:a.item.broker_comment,"onUpdate:modelValue":t[14]||(t[14]=e=>a.item.broker_comment=e),rows:"3",readonly:!0,class:"inputs_disabled"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[15]||(t[15]=e=>i.copyText(a.item.broker_comment))},fc)])),_:1})])),_:1})])),_:1}),x(p,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("URL")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.landing.url,"onUpdate:modelValue":t[16]||(t[16]=e=>a.item.landing.url=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[17]||(t[17]=e=>i.copyText(a.item.landing.url))},yc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Funnel")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.landing_name.name,"onUpdate:modelValue":t[18]||(t[18]=e=>a.item.landing_name.name=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[19]||(t[19]=e=>i.copyText(a.item.landing_name.name))},_c)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Status")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.status.name,"onUpdate:modelValue":t[20]||(t[20]=e=>a.item.status.name=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[21]||(t[21]=e=>i.copyText(a.item.status.name))},vc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Country")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.country.ISO_2,"onUpdate:modelValue":t[22]||(t[22]=e=>a.item.country.ISO_2=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[23]||(t[23]=e=>i.copyText(a.item.country.ISO_2))},bc)])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Source")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(u,{type:"text",modelValue:a.item.source.name,"onUpdate:modelValue":t[24]||(t[24]=e=>a.item.source.name=e),class:"inputs_disabled",readonly:"true"},null,8,["modelValue"]),V("button",{class:"copy-text",onClick:t[25]||(t[25]=e=>i.copyText(a.item.source.name))},Sc)])),_:1})])),_:1}),x(m,{class:"is-flex"},{default:w((()=>[x(c,null,{default:w((()=>[x(b,{modelValue:a.item.is_action,"onUpdate:modelValue":t[26]||(t[26]=e=>a.item.is_action=e),trueValue:"1",label:"Converison",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:!0},null,8,["modelValue"])])),_:1})])),_:1}),a.item.is_action?(g(),k(m,{key:0},{default:w((()=>[x(h,null,{default:w((()=>[C("Ftd Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(_,{modelValue:a.item.action_time,"onUpdate:modelValue":t[27]||(t[27]=e=>a.item.action_time=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e})=>[x(m,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(u,{value:e,class:"inputs_disabled",readonly:!0},null,8,["value"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[28]||(t[28]=e=>i.copyText(a.item.action_time))},kc)])),_:1})])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1}),x(p,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(L,{align:"centered",selected:"general",tabs:[{label:"General Info",value:"general"},{label:"Logs",value:"logs"}]},{tab:w((({activeValue:e})=>["general"===e?(g(),f("div",wc,[Vc,x(y,{class:"justify-space-between mt-1"},{default:w((()=>[x(m,null,{default:w((()=>[x(h,{class:"pl-2"},{default:w((()=>[C("Pay")])),_:1}),x(u,{type:"text",placeholder:"",modelValue:a.item.buy,"onUpdate:modelValue":t[29]||(t[29]=e=>a.item.buy=e),class:"disableLeadInputs",readonly:!0},null,8,["modelValue"])])),_:1})])),_:1}),a.item.is_error?(g(),k(m,{key:0},{default:w((()=>[x(h,null,{default:w((()=>[C("Error")])),_:1}),x(v,{modelValue:a.item.error,"onUpdate:modelValue":t[30]||(t[30]=e=>a.item.error=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0),a.item.decode_query_parameters&&!a.item.decode_query_parameters.status||a.item.decode_query_parameters&&"empty"!=a.item.decode_query_parameters.status||a.item.description?(g(),f(j,{key:1},[Pc,a.item.description?(g(),k(m,{key:0},{default:w((()=>[x(h,null,{default:w((()=>[C("Description")])),_:1}),x(v,{modelValue:a.item.description,"onUpdate:modelValue":t[31]||(t[31]=e=>a.item.description=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0),a.item.decode_query_parameters&&!a.item.decode_query_parameters.status||a.item.decode_query_parameters&&"empty"!=a.item.decode_query_parameters.status?(g(),k(y,{key:1},{default:w((()=>[(g(!0),f(j,null,K(a.item.decode_query_parameters,((e,t)=>(g(),k(p,{key:t,lg:"4",md:"4",cols:"6"},{default:w((()=>[x(D,{radius:"small",class:"text-center",onClick:t=>i.copyText(e),style:{"overflow-y":"visible"}},{default:w((()=>[V("h3",xc,P(t),1),Y(x(S,{color:"solid",label:e.substring(0,10)},null,8,["label"]),[[M,e,void 0,{bottom:!0}]])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):I("",!0)],64)):I("",!0)])):"logs"===e?(g(),f("div",Cc,[a.item.status_history.length>0?(g(!0),f(j,{key:0},K(a.item.status_history,((e,t)=>(g(),f("p",{class:"text-h6",key:t},[C(P(new Date(e.created_at).toLocaleString())+" - status changed to ",1),V("u",null,P(e.name),1)])))),128)):(g(),f("p",Ic,"The lead status has no changed"))])):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1})])),_:1},8,["modelValue"])}],["__scopeId","data-v-1c36ac91"]]),Lc={name:"Table",components:{LeadFilter:wd,DatePicker:io,Lead:sc,SimpleLeadPopup:Dc,CountryFlag:De},data(){return{isDropdownOpen:!1,headerFilterOffer:!1,headerFilterCountry:!1,headerDomainCountry:!1,headerFilterSource:!1,headerFilterBroker:!1,headerFilterLang:!1,headerFilterFunnel:!1,headerFilterStatus:!1,headerFilterFTD:!1,headerFilterUser:!1,headerFilterAuth:!1,headerFilterPaymentType:!1,is_autologinFilter:"",is_autologinFilterList:[{id:"yes",name:"Yes"},{id:"no",name:"No"},{id:"fraud",name:"Campaign check fraud"},{id:"fake",name:"Fake Autologin"}],depositStatus:"",depositStatusList:["Yes","No"],serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},isLoaderActive:!1,rowsPerPage:25,perPages:[25,50,100],dateTypes:[{name:"Send Date",value:"created_at"},{name:"Created Date",value:"sended_date"}],page:1,buttonLoading:!0,isActive:"all",loading:!0,filterValues:{search:"",lead_type:"all",period:"this_month",dateType:this.dateType},drawer:!1,emailModel:"",datePickersDate:[{name:"Today",from:(new Date).setHours(0,0,0,0),to:(new Date).setHours(23,59,59,59)},{name:"Yesterday",from:new Date(Date.now()-864e5).setHours(0,0,0,0),to:new Date(Date.now()-864e5).setHours(23,59,59,59)},{name:"This Week",from:xe().startOf("isoweek").toDate(),to:xe().endOf("isoweek").toDate()},{name:"Last Week",from:xe().subtract(1,"weeks").startOf("isoWeek").toDate(),to:xe().subtract(1,"weeks").endOf("isoWeek").toDate()},{name:"This Month",from:xe().startOf("month").toDate(),to:xe().endOf("month").toDate()},{name:"Last Month",from:xe().subtract(1,"month").startOf("month").toDate(),to:xe().subtract(1,"month").endOf("month").toDate()},{name:"This Year",from:xe().startOf("year").toDate(),to:xe().endOf("year").toDate()},{name:"Last Year",from:xe().subtract(1,"year").startOf("year").toDate(),to:xe().subtract(1,"year").endOf("year").toDate()}],dates1:["2023 07 29 00:00","2023 07 29 23:59"],format:"DD MM YYYY hh:mm",sameDateFormat:{from:"DD MM YYYY, hh:mm",to:"DD MM YYYY, hh:mm"},createdDateType:[{value:"today",name:"Today"},{value:"yesterday",name:"Yesterday"},{value:"this_week",name:"This Week"},{value:"last_week",name:"Last Week"},{value:"this_month",name:"This Month"},{value:"last_month",name:"Last Month"},{value:"this_year",name:"This year"},{value:"last_year",name:"Last year"},{value:"custom_date",name:"Custom Date"}],createdDateModel:"this_month",typeLeads:"all",showDropdownSelectedList:!1,multipleActionModal:!1,removeMassPopup:!1,leadsToInject:!1,myWidth:"",updateFieldName:"",itemsSelected:null,updateSelected:!1,updateModal:!1,massUpdate:{},emailOpenPopupRoles:["affiliate_manager","teamlead","buyer"],addToInject:[],removePopup:!1,isPersistent:!1,ipv4_regex:/^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$/}},props:["headers","leadFilters","enableSelected","leadsSettingsTabs"],mounted(){this.filterValues.period=this.leadsPeriod,this.filterValues.dateType=this.dateType,"admin"!=this.getRole&&"support"!=this.getRole||(this.itemsSelected=[]),document.addEventListener("click",(({target:e})=>{!document.querySelector(".vdpr-datepicker__calendar-dialog")||"none"==document.querySelector(".vdpr-datepicker__calendar-dialog").style.display||e.closest(".vdpr-datepicker__calendar-dialog")||e.closest(".select-label-text")||e.closest("#multiselect-option-custom_date")||document.querySelectorAll(".vdpr-datepicker__button-submit")[0].click()})),document.addEventListener("click",(({target:e})=>{document.querySelector(".vdpr-datepicker__calendar-dialog")&&"none"==document.querySelector(".vdpr-datepicker__calendar-dialog").style.display&&(e.closest(".select-label-text")&&"Custom Date"==e.closest(".select-label-text").textContent||e.closest("#multiselect-option-custom_date"))&&document.querySelectorAll(".leads-date-filter input")[0].click()})),this.getItems()},methods:{...Se(["getItemsPagination","getLeadCounts","getLeadStatusesSelect","getSourcesSelect","getLandingNamesSelect","getUsersSelect","getCountriesSelect","getOfferSelect","getInjectsSelect","getOfferLanguagesSelect"]),formatDate:e=>xe(e).format("YYYY-MM-DD HH:mm:ss"),openFilterPopup(e,t){if(this[t]=!this[t],e.target.hasOwnProperty("parentNode")){e.target.parentNode;let t=e.target.parentNode.getElementsByClassName("headers-main")[0];window.innerWidth-e.clientX<=360?(console.log(2),t.style.left="auto"):t.style.left="0px"}},lockStatuses(){let e=this.globalCallback(this.itemsSelected);this.$store.dispatch("setLockLeads",{ids:e}).then((e=>{this.getItems(this.page)}))},lockStatus(e){this.$store.dispatch("setLockLead",{leadId:e}).then((e=>{this.getItems(this.page)}))},setSelected(e){console.log(e)},chooseAllSelect(e,t,a){if(null!=e&&e.length===t.length)this.filterValues[a]=[];else{const e=t.map((e=>e.id));this.filterValues[a]=e}document.activeElement.blur(),this.getItems()},depositStatusFilter(){"Yes"===this.depositStatus?this.filterValues.is_action="1":"No"===this.depositStatus?this.filterValues.is_action="0":this.filterValues.is_action=null,this.getItems(1)},is_autologinFilters(){"yes"===this.is_autologinFilter?this.filterValues.is_autologin="yes":"no"===this.is_autologinFilter?this.filterValues.is_autologin="no":"fraud"===this.is_autologinFilter?this.filterValues.is_autologin="fraud":"fake"===this.is_autologinFilter?this.filterValues.is_autologin="fake":this.filterValues.is_autologin=null,this.getItems(1)},getPaymentTypesFilter(){let e=this.filterValues;this.$store.dispatch("getPaymentTypesFilter",{filtersValues:e}).then((()=>{this.loading=!1}))},getWebmasterFilters(){let e=this.filterValues;this.$store.dispatch("getWebmasterFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getStatusFilters(){let e=this.filterValues;this.$store.dispatch("getStatusFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getBrokerFilters(){let e=this.filterValues;this.$store.dispatch("getBrokerFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getLandingNameFilters(){let e=this.filterValues;this.$store.dispatch("getLandingNameFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getSourceFilters(){let e=this.filterValues;this.$store.dispatch("getSourceFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLandingFilters(){let e=this.filterValues;this.$store.dispatch("getLandingFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getCountryFilters(){let e=this.filterValues;this.$store.dispatch("getCountryFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLanguageFilters(){let e=this.filterValues;this.$store.dispatch("getLanguageFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){}}]});return()=>s.destroy()},checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.emailModel,this.getItems(1)}),500),openSettings(){this.$parent.settingsOpen=!0},setAsRemovedCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.delete_item_id;this.$store.dispatch("setAsRemovedLead",{leadId:e}).finally((()=>{this.getItems(),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},deleteCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.delete_item_id;this.$store.dispatch("deleteLead",{leadId:e}).finally((()=>{this.getItems(),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},openRemoveLeadPopup(e){this.delete_item_id=e,this.removePopup=!0},selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1)},changeDate(e){this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1)},updatePaginate(e){this.page=e,this.getItems(this.page)},getLeadsByType(e="all",t=!0){this.typeLeads=e,this.filterValues.lead_type=e,this.isActive=e,this.page=1,"admin"!=this.getRole&&"support"!=this.getRole||(this.itemsSelected=[]),this.getItems(1,t)},getLeadCountsByType(){let e=this.filterValues;e.lead_type=null,this.$store.dispatch("getLeadCounts",{filtersValues:e}).then((()=>{})).finally((()=>{this.buttonLoading=!1}))},getItems(e=1,t=!0){let a=this.filterValues;a.lead_type=this.typeLeads;let s=this.rowsPerPage;re.start(),this.$store.dispatch("getLeadsItemsPagination",{path:"leads",page:e,rowsPerPage:s,filtersValues:a}).then((()=>{this.loading=!0})).finally((()=>{re.done(),this.loading=!1})),1==localStorage.show_navbar_statistic&&this.$store.dispatch("getHeaderStats",{path:"header/statistics",filterValues:a}),t&&this.getLeadCountsByType()},openFilters(){this.drawer=!this.drawer},openUpdateModal(e){"price"==e&&(this.updateFieldName="price"),"status"==e&&(this.getLeadStatusesSelect(),this.updateFieldName="status_id"),"funnel"==e&&(this.getLandingNamesSelect(),this.updateFieldName="landing_name_id"),"user"==e&&(this.getUsersSelect(),this.updateFieldName="user_id"),"source"==e&&(this.getSourcesSelect(),this.updateFieldName="source_id"),"country"==e&&(this.getCountriesSelect(),this.updateFieldName="country_id"),"offer"==e&&(this.getOfferSelect(),this.updateFieldName="offer_id"),"language"==e&&(this.getOfferLanguagesSelect(),this.updateFieldName="language_id"),"delete"==e&&(this.updateFieldName="delete"),this.updateSelected=e,this.updateModal=!0},saveMassUpdate(){let e={field_name:this.updateFieldName,value:this.massUpdate,ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("updateMassLeads",{data:e}).then((e=>{this.updateModal=!1,this.massUpdate={},this.getItems(),this.itemsSelected=[],this.showDropdownSelectedList=!1}))},setAsRemovedSelectedLeads(){if(!confirm("Are you sure?"))return;let e={ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("setAsRemovedLeads",{data:e}).finally((()=>{this.getItems(),this.removeMassPopup=!1,this.updateModal=!1,this.massUpdate={},this.itemsSelected=[],this.showDropdownSelectedList=!1,this.$store.commit("disableDialogLead")}))},restoreLeads(){if(!confirm("Are you sure?"))return;let e={ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("restoreRemovedLeads",{data:e}).finally((()=>{this.getItems(),this.removeMassPopup=!1,this.updateModal=!1,this.massUpdate={},this.itemsSelected=[],this.showDropdownSelectedList=!1,this.$store.commit("disableDialogLead")}))},deleteSelectedLeads(){if(!confirm("Are you sure?"))return;let e={ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("deleteLeads",{data:e}).finally((()=>{this.getItems(),this.removeMassPopup=!1,this.updateModal=!1,this.massUpdate={},this.itemsSelected=[],this.showDropdownSelectedList=!1,this.$store.commit("disableDialogLead")}))},addLeadsToInject(){console.log(this.addToInject);let e={ids:this.globalCallback(this.itemsSelected),inject_id:this.addToInject};this.$store.dispatch("addLeadsToInject",{data:e}).finally((()=>{this.itemsSelected=[],this.showDropdownSelectedList=!1,this.addToInject=[],this.leadsToInject=!1}))},copyText(e){navigator.clipboard.writeText(e)}},watch:{"filterValues.period":function(e,t){this.$store.dispatch("updateLeadsPeriod",e)},"filterValues.dateType":function(e,t){console.log("newVal "+e),this.$store.dispatch("updateDateType",e)},"filterValues.offer_ids":function(e,t){this.$refs.leadFilter.filterValues.offer_ids=e},"filterValues.country_ids":function(e,t){this.$refs.leadFilter.filterValues.country_ids=e},"filterValues.landing_ids":function(e,t){this.$refs.leadFilter.filterValues.landing_ids=e},"filterValues.source_ids":function(e,t){this.$refs.leadFilter.filterValues.source_ids=e},"filterValues.broker_ids":function(e,t){this.$refs.leadFilter.filterValues.broker_ids=e},"filterValues.language_ids":function(e,t){this.$refs.leadFilter.filterValues.language_ids=e},"filterValues.landing_name_ids":function(e,t){this.$refs.leadFilter.filterValues.landing_name_ids=e},"filterValues.lead_statuses_ids":function(e,t){this.$refs.leadFilter.filterValues.lead_statuses_ids=e},depositStatus:function(e,t){this.$refs.leadFilter.depositStatus=e},"filterValues.web_master_ids":function(e,t){this.$refs.leadFilter.filterValues.web_master_ids=e},is_autologinFilter:function(e,t){this.$refs.leadFilter.is_autologinFilter=e},itemsSelected:{handler(e,t){console.log(e),e.length?(this.multipleActionModal=!0,this.myWidth=this.$refs.leadsTable.offsetWidth,console.log("dwqdwq")):(this.showDropdownSelectedList=!1,this.multipleActionModal=!1)},deep:!0},rowsPerPage(e){this.serverOptions.rowsPerPage=e,this.page=1},emailModel(){this.checkSearchStr()},leadsSettingsTabs(e){}},computed:{...be(["paymentTypesFilters","webmasterFilters","statusFilters","landingNameFilters","languageFilters","sourceFilters","landingFilters","countryFilters","brokerFilters","offerFilters","leadStatuses","landingNamesSelect","sourcesSelect","usersSelect","countriesSelect","offerSelect","injectsSelect","currentLead","getRole","leadCounts","leadsItemsPagination","leadsTotalItemsPagination","leadsCurrentPageItemsPagination","leadsTotalPagesItemsPagination","dynamicNavbarStatistic","leadsPeriod","dateType","languagesSelect"])}},$c={class:"v-flex flex-pagination top-pagination pagination is-rounded"},Tc={style:{display:"flex","align-items":"center"}},Ac={class:"buttons"},Oc={class:"multiselect-single-label"},Fc={class:"select-label-text"},Uc={class:"select-label-text"},Mc={class:"pagination_wrap"},Ec={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},Bc={key:0},zc={key:1},jc={key:0,class:"flex-start status-button choose_filter mb-2"},Rc={class:"table-container",ref:"leadsTable"},Nc=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),Hc=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),Wc={class:"headers-main"},Yc={key:0},Gc={key:1},qc=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),Jc={class:"headers-main"},Kc={key:0},Xc={key:1},Zc=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),Qc={class:"headers-main"},em={key:0},tm={key:1},am=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),sm={class:"headers-main"},lm={key:0},im={key:1},om=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),rm={class:"headers-main"},nm={key:0},dm={key:1},um=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),cm={class:"headers-main"},mm={key:0},pm={key:1},hm=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),gm={class:"headers-main"},fm={key:0},ym={key:1},_m=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),vm={class:"headers-main"},bm={key:0},Sm={key:1},km=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),wm={class:"headers-main"},Vm=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),Pm={class:"headers-main"},xm={key:0},Cm={key:1},Im=V("span",{style:{display:"block"},class:"ml-1 multiselect-caret","aria-hidden":"true"},null,-1),Dm={class:"headers-main",ref:"headerFilterAuthRef"},Lm={style:{width:"250px","text-align":"left"}},$m={key:0,style:{color:"var(--danger)"}},Tm={key:1},Am={key:0,style:{color:"var(--danger)"}},Om={key:1},Fm=["onClick"],Um={style:{width:"250px","max-height":"200px",overflow:"auto",margin:"10px"}},Mm={style:{"text-align":"left"}},Em={style:{"white-space":"pre-wrap","margin-top":"5px","margin-bottom":"5px",color:"var(--light-text)","font-family":"var(--font)","font-weight":"300","font-size":"14px"}},Bm={style:{"text-align":"right","padding-right":"15px","padding-top":"5px",color:"var(--light-text-dark-10)","font-size":"0.8rem"}},zm={style:{width:"250px","max-height":"200px",overflow:"auto",margin:"10px"}},jm={style:{"text-align":"left"}},Rm={style:{"white-space":"pre-wrap","margin-top":"5px","margin-bottom":"5px",color:"var(--light-text)","font-family":"var(--font)","font-weight":"300","font-size":"14px"}},Nm={style:{"text-align":"right","padding-right":"15px","padding-top":"5px",color:"var(--light-text-dark-10)","font-size":"0.8rem"}},Hm=["onClick"],Wm={key:1},Ym={key:0,style:{display:"flex","align-items":"center"}},Gm={class:"tags"},qm={key:0},Jm={key:1},Km={class:"flex",style:{display:"flex","align-items":"center"}},Xm=V("span",null,"Fake Autologin",-1),Zm=[V("div",null,[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true",style:{color:"red"}})],-1)],Qm=[V("div",null,[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true",style:{color:"orange"}})],-1)],ep=V("span",null,"Fake Autologin",-1),tp={key:1},ap=[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"},null,-1)],sp={key:2},lp=[V("i",{class:"iconify","data-icon":"feather:user-x","aria-hidden":"true"},null,-1)],ip={key:3},op=[V("i",{class:"iconify","data-icon":"feather:minus","aria-hidden":"true"},null,-1)],rp={key:4,class:"ml-2"},np={key:0,class:"lnir lnir-spinner-10","aria-hidden":"true",style:{color:"red"}},dp={key:1,class:"lnir lnir-spinner-10","aria-hidden":"true",style:{color:"green"}},up={key:2,class:"lnir lnir-spinner-11","aria-hidden":"true",style:{color:"orange"}},cp={key:3,class:"lnir lnir-spinner-2","aria-hidden":"true",style:{color:"red"}},mp=V("br",null,null,-1),pp=V("br",null,null,-1),hp=V("br",null,null,-1),gp={key:0},fp=V("br",null,null,-1),yp=V("br",null,null,-1),_p={key:1},vp=V("br",null,null,-1),bp={key:2},Sp=V("br",null,null,-1),kp={key:3},wp=V("br",null,null,-1),Vp={key:4},Pp=V("br",null,null,-1),xp={key:5},Cp=V("br",null,null,-1),Ip={key:6},Dp=V("br",null,null,-1),Lp=V("br",null,null,-1),$p={key:7},Tp=V("br",null,null,-1),Ap={key:8},Op=V("br",null,null,-1),Fp={key:0,style:{width:"400px","word-wrap":"break-word"}},Up={style:{display:"flex","align-items":"center","justify-content":"center"}},Mp={style:{position:"relative"}},Ep=["innerHTML"],Bp=["onDblclick"],zp={class:"modal-form"},jp={key:0},Rp={key:1},Np={key:2},Hp={key:3},Wp={key:4},Yp={key:5},Gp={key:6},qp={key:7},Jp={key:8},Kp={class:"selected"},Xp={class:"selected-right-button"},Zp={key:5,class:"selected-popup-edit"},Qp={class:"list"},eh=V("h1",null,"Choose action",-1),th=V("h1",null,"Choose action",-1);const ah=fe(Lc,[["render",function(e,t,a,s,l,i){const o=xi,r=yt,n=Nt,d=Et,u=$("Multiselect"),c=$("DatePicker"),m=$("LeadFilter"),p=nr,h=$("v-btn"),y=$("v-selects"),v=bt,b=Qr,S=$("country-flag"),D=fa,L=$("v-tooltip"),T=xr,A=$("EasyDataTable"),O=Ft,F=Wt,E=Hi,B=$("Lead"),z=$("SimpleLeadPopup"),R=$("v-card-title"),N=$("v-col"),H=$("v-card-text"),W=ft,q=$("v-dialog"),J=te("tooltip");return g(),f(j,null,[x(r,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(o,{icon:"feather:refresh-cw",color:"primary",onClick:t[0]||(t[0]=e=>{l.page=1,this.getItems()})}),x(o,{icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters())}),x(o,{icon:"feather:settings",color:"primary",onClick:i.openSettings},null,8,["onClick"])])),_:1}),V("div",$c,[V("div",Tc,[x(d,null,{default:w((()=>[x(n,{icon:"feather:search"},{default:w((()=>["admin"==e.getRole?Y((g(),f("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>l.emailModel=e),class:"input custom-text-filter",placeholder:"Email or ID or Phone"},null,512)),[[G,l.emailModel]]):Y((g(),f("input",{key:1,"onUpdate:modelValue":t[3]||(t[3]=e=>l.emailModel=e),class:"input custom-text-filter",placeholder:"Email or ID"},null,512)),[[G,l.emailModel]])])),_:1})])),_:1})]),V("div",Ac,[x(d,{class:"mb-0"},{default:w((()=>[l.filterValues.dateType?(g(),k(u,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.dateType,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filterValues.dateType=e),options:l.dateTypes,placeholder:"Date Type",onSelect:t[5]||(t[5]=e=>i.getItems(1)),canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",Oc,[V("span",Fc,P(e.name),1)])])),option:w((({option:e})=>[V("span",Uc,P(e.name),1)])),_:1},8,["modelValue","options"])):I("",!0)])),_:1}),x(c,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{class:""},{default:w((()=>[x(n,null,{default:w((()=>[x(u,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[6]||(t[6]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[7]||(t[7]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),x(m,{drawer:l.drawer,ref:"leadFilter",filters:a.leadFilters},null,8,["drawer","filters"]),V("div",Mc,[V("div",Ec,[C(" Showing "),1==l.page?(g(),f("span",Bc,P(l.page),1)):(g(),f("span",zc,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.leadsTotalItemsPagination)+" entries ",1)]),e.leadsTotalPagesItemsPagination>1?(g(),k(p,{key:0,style:{},"current-page":l.page,"onUpdate:currentPage":[t[8]||(t[8]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),a.leadsSettingsTabs?(g(),f("div",jc,[(g(!0),f(j,null,K(a.leadsSettingsTabs,(t=>(g(),f(j,{key:t.name},[t.checkbox?(g(),k(h,{key:0,loading:l.buttonLoading,class:_([[{active:l.isActive==t.name}],"mt-1 mr-1"]),onClick:e=>i.getLeadsByType(t.name,!1)},{default:w((()=>[C(P(t.title)+" - "+P(e.leadCounts[t.name]),1)])),_:2},1032,["loading","class","onClick"])):I("",!0)],64)))),128))])):I("",!0),V("div",Rc,[x(A,{headers:a.headers,items:e.leadsItemsPagination??[],loading:l.loading,"buttons-pagination":!1,"border-color":!1,"items-selected":l.itemsSelected,"onUpdate:itemsSelected":t[65]||(t[65]=e=>l.itemsSelected=e),"server-options":l.serverOptions,"onUpdate:serverOptions":t[66]||(t[66]=e=>l.serverOptions=e),class:"leads-table"},{"empty-message":w((()=>[Nc])),"header-offer":w((a=>[V("span",{onClick:t[9]||(t[9]=e=>i.openFilterPopup(e,"headerFilterOffer")),style:{display:"flex",cursor:"pointer"}},[C(" Offer "),Hc]),Y(V("div",Wc,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[11]||(t[11]=e=>l.filterValues.offer_ids=e),t[12]||(t[12]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getOfferFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.offer_ids||l.filterValues.offer_ids.length!=e.offerFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[10]||(t[10]=t=>i.chooseAllSelect(l.filterValues.offer_ids,e.offerFilters,"offer_ids"))},[null==l.filterValues.offer_ids||l.filterValues.offer_ids.length!=e.offerFilters.length?(g(),f("span",Yc,"Choose All")):(g(),f("span",Gc,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[13]||(t[13]=e=>l.headerFilterOffer=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterOffer]])])),"header-country":w((a=>[V("span",{onClick:t[14]||(t[14]=e=>i.openFilterPopup(e,"headerFilterCountry")),style:{display:"flex",cursor:"pointer"}},[C(" Geo "),qc]),Y(V("div",Jc,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[16]||(t[16]=e=>l.filterValues.country_ids=e),t[18]||(t[18]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[17]||(t[17]=e=>i.getItems()),"onSearch:focus":i.getCountryFilters,"append-to-body":"",deselectFromDropdown:!0,ref:"countryTableFilter",class:"country_ids"},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.country_ids||l.filterValues.country_ids.length!=e.countryFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[15]||(t[15]=t=>i.chooseAllSelect(l.filterValues.country_ids,e.countryFilters,"country_ids"))},[null==l.filterValues.country_ids||l.filterValues.country_ids.length!=e.countryFilters.length?(g(),f("span",Kc,"Choose All")):(g(),f("span",Xc,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[19]||(t[19]=e=>l.headerFilterCountry=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterCountry]])])),"header-landing":w((a=>[V("span",{onClick:t[20]||(t[20]=e=>i.openFilterPopup(e,"headerDomainCountry")),style:{display:"flex",cursor:"pointer"}},[C(" Domain "),Zc]),Y(V("div",Qc,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.landing_ids,"onUpdate:modelValue":[t[22]||(t[22]=e=>l.filterValues.landing_ids=e),t[23]||(t[23]=e=>i.getItems())],reduce:e=>e.id,label:"url",options:e.landingFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingFilters,"append-to-body":"",deselectFromDropdown:!0,class:"landing_ids"},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.landing_ids||l.filterValues.landing_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[21]||(t[21]=t=>i.chooseAllSelect(l.filterValues.landing_ids,e.landingFilters,"landing_ids"))},[null==l.filterValues.landing_ids||l.filterValues.landing_ids.length!=e.landingFilters.length?(g(),f("span",em,"Choose All")):(g(),f("span",tm,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[24]||(t[24]=e=>l.headerDomainCountry=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerDomainCountry]])])),"header-source":w((a=>[V("span",{onClick:t[25]||(t[25]=e=>i.openFilterPopup(e,"headerFilterSource")),style:{display:"flex",cursor:"pointer"}},[C(" Source "),am]),Y(V("div",sm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.source_ids,"onUpdate:modelValue":[t[27]||(t[27]=e=>l.filterValues.source_ids=e),t[29]||(t[29]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.sourceFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[28]||(t[28]=e=>i.getItems()),"onSearch:focus":i.getSourceFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.source_ids||l.filterValues.source_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[26]||(t[26]=t=>i.chooseAllSelect(l.filterValues.source_ids,e.sourceFilters,"source_ids"))},[null==l.filterValues.source_ids||l.filterValues.source_ids.length!=e.sourceFilters.length?(g(),f("span",lm,"Choose All")):(g(),f("span",im,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[30]||(t[30]=e=>l.headerFilterSource=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterSource]])])),"header-broker":w((a=>[V("span",{onClick:t[31]||(t[31]=e=>i.openFilterPopup(e,"headerFilterBroker")),style:{display:"flex",cursor:"pointer"}},[C(" Broker "),om]),Y(V("div",rm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.broker_ids,"onUpdate:modelValue":[t[33]||(t[33]=e=>l.filterValues.broker_ids=e),t[35]||(t[35]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.brokerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[34]||(t[34]=e=>i.getItems()),"onSearch:focus":i.getBrokerFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.broker_ids||l.filterValues.broker_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[32]||(t[32]=t=>i.chooseAllSelect(l.filterValues.broker_ids,e.brokerFilters,"broker_ids"))},[null==l.filterValues.broker_ids||l.filterValues.broker_ids.length!=e.brokerFilters.length?(g(),f("span",nm,"Choose All")):(g(),f("span",dm,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[36]||(t[36]=e=>l.headerFilterBroker=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterBroker]])])),"header-language":w((a=>[V("span",{onClick:t[37]||(t[37]=e=>i.openFilterPopup(e,"headerFilterLang")),style:{display:"flex",cursor:"pointer"}},[C(" Lang "),um]),Y(V("div",cm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.language_ids,"onUpdate:modelValue":[t[39]||(t[39]=e=>l.filterValues.language_ids=e),t[40]||(t[40]=e=>i.getItems())],reduce:e=>e.id,label:"code",options:e.languageFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLanguageFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.language_ids||l.filterValues.language_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[38]||(t[38]=t=>i.chooseAllSelect(l.filterValues.language_ids,e.languageFilters,"language_ids"))},[null==l.filterValues.language_ids||l.filterValues.language_ids.length!=e.languageFilters.length?(g(),f("span",mm,"Choose All")):(g(),f("span",pm,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[41]||(t[41]=e=>l.headerFilterLang=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterLang]])])),"header-landing_name":w((a=>[V("span",{onClick:t[42]||(t[42]=e=>i.openFilterPopup(e,"headerFilterFunnel")),style:{display:"flex",cursor:"pointer"}},[C(" Funnel "),hm]),Y(V("div",gm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.landing_name_ids,"onUpdate:modelValue":[t[44]||(t[44]=e=>l.filterValues.landing_name_ids=e),t[45]||(t[45]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingNameFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.landing_name_ids||l.filterValues.landing_name_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[43]||(t[43]=t=>i.chooseAllSelect(l.filterValues.landing_name_ids,e.landingNameFilters,"landing_name_ids"))},[null==l.filterValues.landing_name_ids||l.filterValues.landing_name_ids.length!=e.landingNameFilters.length?(g(),f("span",fm,"Choose All")):(g(),f("span",ym,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[46]||(t[46]=e=>l.headerFilterFunnel=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterFunnel]])])),"header-status":w((a=>[V("span",{onClick:t[47]||(t[47]=e=>i.openFilterPopup(e,"headerFilterStatus")),style:{display:"flex",cursor:"pointer"}},[C(" Status "),_m]),Y(V("div",vm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.lead_statuses_ids,"onUpdate:modelValue":[t[49]||(t[49]=e=>l.filterValues.lead_statuses_ids=e),t[50]||(t[50]=e=>i.getItems())],reduce:t=>"web_master"==e.getRole?t.name:t.id,label:"name",options:e.statusFilters,multiple:"","push-tags":"",closeOnSelect:!1,"auto-resize":!0,"append-to-body":"","onSearch:focus":i.getStatusFilters,deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.lead_statuses_ids||l.filterValues.lead_statuses_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[48]||(t[48]=t=>i.chooseAllSelect(l.filterValues.lead_statuses_ids,e.statusFilters,"lead_statuses_ids"))},[null==l.filterValues.lead_statuses_ids||l.filterValues.lead_statuses_ids.length!=e.statusFilters.length?(g(),f("span",bm,"Choose All")):(g(),f("span",Sm,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[51]||(t[51]=e=>l.headerFilterStatus=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterStatus]])])),"header-is_action":w((e=>[V("span",{onClick:t[52]||(t[52]=e=>i.openFilterPopup(e,"headerFilterFTD")),style:{display:"flex",cursor:"pointer"}},[C(" FTD "),km]),Y(V("div",wm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.depositStatus,"onUpdate:modelValue":[t[53]||(t[53]=e=>l.depositStatus=e),t[54]||(t[54]=e=>i.depositStatusFilter())],options:l.depositStatusList,"push-tags":"","append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","options"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[55]||(t[55]=e=>l.headerFilterFTD=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterFTD]])])),"header-user":w((a=>[V("span",{onClick:t[56]||(t[56]=e=>i.openFilterPopup(e,"headerFilterUser")),style:{display:"flex",cursor:"pointer"}},[C(" User "),Vm]),Y(V("div",Pm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.filterValues.web_master_ids,"onUpdate:modelValue":[t[58]||(t[58]=e=>l.filterValues.web_master_ids=e),t[59]||(t[59]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.webmasterFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getWebmasterFilters,"append-to-body":"",deselectFromDropdown:!0},{"list-header":w((()=>[V("li",{role:"option",class:_(["vs__dropdown-option choose_all",null==l.filterValues.web_master_ids||l.filterValues.web_master_ids.length!=e.landingFilters.length?"choose-all-hover":"choose-none-hover"]),onClick:t[57]||(t[57]=t=>i.chooseAllSelect(l.filterValues.web_master_ids,e.webmasterFilters,"web_master_ids"))},[null==l.filterValues.web_master_ids||l.filterValues.web_master_ids.length!=e.webmasterFilters.length?(g(),f("span",xm,"Choose All")):(g(),f("span",Cm,"Choose None"))],2)])),_:1},8,["modelValue","reduce","options","onSearch:focus"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[60]||(t[60]=e=>l.headerFilterUser=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterUser]])])),"header-is_autologin":w((e=>[V("span",{onClick:t[61]||(t[61]=e=>i.openFilterPopup(e,"headerFilterAuth")),style:{display:"flex",cursor:"pointer"}},[C(" Auth "),Im]),Y(V("div",Dm,[x(d,null,{default:w((()=>[x(y,{modelValue:l.is_autologinFilter,"onUpdate:modelValue":[t[62]||(t[62]=e=>l.is_autologinFilter=e),t[63]||(t[63]=e=>i.is_autologinFilters())],options:l.is_autologinFilterList,reduce:e=>e.id,label:"name","append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","options","reduce"])])),_:1}),x(d,{style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(v,{style:{cursor:"pointer"},onClick:t[64]||(t[64]=e=>l.headerFilterAuth=!1),raised:""},{default:w((()=>[C("Close")])),_:1})])),_:1})],512),[[ae,l.headerFilterAuth]])])),"item-status_history":w((e=>[V("div",Lm,[(g(!0),f(j,null,K(e.status_history,(e=>(g(),f("div",null,P(e.created_at)+" - "+P(e.name),1)))),256))])])),"item-buy":w((t=>["admin"!=e.getRole&&"affiliate_manager"!=e.getRole||!t.offer||"New"==t.status||1!=t.status_type_id||0!=t.buy?(g(),f("span",Tm,P(t.buy),1)):(g(),f("span",$m,P(t.buy),1))])),"item-sale":w((t=>["admin"!=e.getRole&&"affiliate_manager"!=e.getRole||!t.offer||"New"==t.status||1!=t.status_type_id||0!=t.sale?(g(),f("span",Om,P(t.sale),1)):(g(),f("span",Am,P(t.sale),1))])),"item-phone":w((e=>[V("span",{style:{cursor:"pointer"},onClick:t=>i.getCurrentLead(e)},P(e.phone),9,Fm)])),"item-comment":w((e=>[V("div",Um,[(g(!0),f(j,null,K(e.comments,(e=>(g(),f("div",Mm,[V("div",Em,P(e.comment),1),V("div",Bm,P(i.formatDate(e.created_at)),1)])))),256))])])),"item-comments":w((e=>[V("div",zm,[(g(!0),f(j,null,K(e.comments,(e=>(g(),f("div",jm,[V("div",Rm,P(e.comment),1),V("div",Nm,P(i.formatDate(e.created_at)),1)])))),256))])])),"item-email":w((t=>[l.emailOpenPopupRoles.includes(e.getRole)?(g(),f("span",{key:0,style:{cursor:"pointer"},onClick:e=>i.getCurrentLead(t)},P(t.email),9,Hm)):(g(),f("span",Wm,P(t.email),1))])),"item-offer":w((e=>[V("span",null,P(e.offer),1)])),"item-is_action":w((e=>[e.is_action?(g(),k(b,{key:0,color:"purple",rounded:""},{default:w((()=>[C("Yes")])),_:1})):(g(),k(b,{key:1,color:"solid",rounded:""},{default:w((()=>[C("No")])),_:1}))])),"item-country":w((e=>[e.country?(g(),f("div",Ym,[x(S,{style:{"box-shadow":"0px 3px 1px -2px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)), 0px 2px 2px 0px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)), 0px 1px 5px 0px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12))",margin:"0px","margin-top":"-2px",opacity:"0.9"},country:e.country,size:"normal"},null,8,["country"]),V("span",null,P(e.country),1)])):I("",!0)])),"item-broker_comment":w((e=>[V("div",Gm,[V("div",null,P(e.broker_comment),1)])])),"item-query_parameters":w((e=>[e.query_parameters?Y((g(),k(b,{key:0,color:"solid",label:e.query_parameters.substring(0,10),onClick:t=>{i.copyText(e.query_parameters)},style:{"border-radius":"10px",padding:"12px","font-size":"12px"}},null,8,["label","onClick"])),[[J,e.query_parameters.substring(0,75)+"..."]]):I("",!0)])),"item-autologin_ip":w((e=>[0!=e.invalid_ip?(g(),f("span",qm,P(e.invalid_ip),1)):0==e.invalid_ip&&1==e.is_autologin?(g(),f("span",Jm,"Same")):I("",!0)])),"item-is_autologin":w((e=>[V("div",Km,[1==e.is_autologin&&0!=e.invalid_ip?(g(),f(j,{key:0},[e.frod&&2==e.frod.use_js_auth?(g(),k(L,{key:0,text:"Tooltip",bottom:""},{activator:w((({props:e})=>[V("div",U(M(e)),[V("div",null,[x(D,{icon:"lucide:activity",style:{color:"red","margin-top":"4px"}})])],16)])),default:w((()=>[Xm])),_:1})):l.ipv4_regex.test(e.ip)&&l.ipv4_regex.test(e.invalid_ip)?(g(),k(L,{key:1,text:"Tooltip",bottom:""},{activator:w((({props:e})=>[V("div",U(M(e)),Zm,16)])),default:w((()=>[V("span",null,P(e.invalid_ip),1)])),_:2},1024)):(g(),k(L,{key:2,text:"Tooltip",bottom:""},{activator:w((({props:e})=>[V("div",U(M(e)),Qm,16)])),default:w((()=>[V("span",null,P(e.invalid_ip),1)])),_:2},1024))],64)):1==e.is_autologin&&0==e.invalid_ip?(g(),f(j,{key:1},[e.frod&&2==e.frod.use_js_auth?(g(),k(L,{key:0,text:"Tooltip",bottom:""},{activator:w((({props:e})=>[V("div",U(M(e)),[V("div",null,[x(D,{icon:"lucide:activity",style:{color:"red","margin-top":"4px"}})])],16)])),default:w((()=>[ep])),_:1})):(g(),f("div",tp,ap))],64)):1==e.autologin_count?(g(),f("div",sp,lp)):(g(),f("div",ip,op)),e.frod?(g(),f("div",rp,[x(L,{text:"Tooltip",bottom:""},{activator:w((({props:t})=>[V("div",U(M(t)),[V("div",null,[e.frod&&2==e.frod.use_js_auth?(g(),f("i",np)):0==e.frod.risc?(g(),f("i",dp)):2==e.frod.risc?(g(),f("i",up)):3==e.frod.risc||4==e.frod.risc||5==e.frod.risc?(g(),f("i",cp)):I("",!0)])],16)])),default:w((()=>[V("span",null,[V("span",null,"Device: "+P(e.frod.device),1),mp,V("span",null,"Platform: "+P(e.frod.platform),1),pp,V("span",null,"Browser: "+P(e.frod.browser),1),C(),hp,e.frod.provider?(g(),f("span",gp,[C("Provider: "+P(e.frod.provider)+" ",1),fp])):I("",!0),V("span",null,"Server lang: "+P(e.frod.php_langs),1),yp,e.frod.languages?(g(),f("span",_p,[C("Languages: "+P(e.frod.languages)+" ",1),vp])):I("",!0),e.frod.ram?(g(),f("span",bp,[C("RAM: "+P(e.frod.ram)+" ",1),Sp])):I("",!0),e.frod.connection?(g(),f("span",kp,[C("Connection: "+P(e.frod.connection)+" ",1),wp])):I("",!0),e.frod.gpu?(g(),f("span",Vp,[C("GPU: "+P(e.frod.gpu)+" ",1),Pp])):I("",!0),e.frod.screenRes?(g(),f("span",xp,[C("Screen Res: "+P(e.frod.screenRes)+" ",1),Cp])):I("",!0),e.frod.finger?(g(),f("span",Ip,[C("Fingerprint: "+P(e.frod.finger)+" ",1),Dp])):I("",!0),V("span",null,"Proxy: "+P(1==e.frod.proxy?"Yes":"No"),1),Lp,4==e.frod.risc?(g(),f("span",$p,[C("Invalid IP: Yes "),Tp])):I("",!0),5==e.frod.risc?(g(),f("span",Ap,[C("User Agents: This user has the same user agents today"),Op])):I("",!0)])])),_:2},1024)])):I("",!0)])])),"item-user_agent":w((({frod:e})=>[e&&e.user_agent?(g(),f("div",Fp,P(e.user_agent),1)):I("",!0)])),"item-status":w((({status:e,is_lock:t,id:a,type_id:s,is_frod_status:l,status_history:o,status_type_id:r})=>[V("div",Up,[V("div",Mp,["New"==e?(g(),k(b,{key:0,color:"info",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):"No send"==e?(g(),k(b,{key:1,color:"solid",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):"Error"==e||"error"==e?(g(),k(b,{key:2,color:"danger",onDblclick:e=>i.lockStatus(a),style:{cursor:"pointer",background:"#c4184e"},rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1032,["onDblclick"])):2==s||4==s?(g(),k(b,{key:3,style:{background:"#39c3ff",color:"white"},rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):e&&1==r?(g(),k(b,{key:4,color:"primary",style:{cursor:"pointer"},onDblclick:e=>i.lockStatus(a),rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1032,["onDblclick"])):e&&3==r?(g(),k(b,{key:5,class:"black_listed",onDblclick:e=>i.lockStatus(a),rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1032,["onDblclick"])):e&&2==r?(g(),k(b,{key:6,color:"danger",style:{cursor:"pointer"},onDblclick:e=>i.lockStatus(a),rounded:""},{default:w((()=>[C(P(e)+" ",1),1==l?(g(),k(L,{key:0,text:"Tooltip",bottom:""},{activator:w((({props:e})=>[V("span",U(M(e)),[x(D,{class:"status-icon",icon:"lucide:alert-circle"})],16)])),default:w((()=>[(g(!0),f(j,null,K(o,(e=>(g(),f("span",{innerHTML:e.created_at+" - "+e.name+"<br>"},null,8,Ep)))),256))])),_:2},1024)):I("",!0)])),_:2},1032,["onDblclick"])):I("",!0),t?(g(),f("i",{key:7,onDblclick:e=>i.lockStatus(a),class:"is_lock lnir lnir-lock-alt","aria-hidden":"true"},null,40,Bp)):I("",!0)])])])),"item-action":w((e=>[x(T,{onView:t=>i.getCurrentLead(e),onRemove:t=>i.openRemoveLeadPopup(e.id)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading","items-selected","server-options"])],512),x(E,{open:l.updateModal,title:"Mass Update",size:"medium",actions:"right",class:"select-table-model",noscroll:!0,onClose:t[76]||(t[76]=e=>l.updateModal=!1)},{content:w((()=>[V("form",zp,["status"==l.updateSelected?(g(),f("div",jp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Status")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.status_id,"onUpdate:modelValue":t[67]||(t[67]=e=>l.massUpdate.status_id=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"price"==l.updateSelected?(g(),f("div",Rp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Buy")])),_:1}),x(F,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:l.massUpdate.buy,"onUpdate:modelValue":t[68]||(t[68]=e=>l.massUpdate.buy=e)},null,8,["modelValue"])])),_:1}),x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Sale")])),_:1}),x(F,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:l.massUpdate.sale,"onUpdate:modelValue":t[69]||(t[69]=e=>l.massUpdate.sale=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"funnel"==l.updateSelected?(g(),f("div",Np,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Funnel")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.landing_name_id,"onUpdate:modelValue":t[70]||(t[70]=e=>l.massUpdate.landing_name_id=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"source"==l.updateSelected?(g(),f("div",Hp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Source")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.source_id,"onUpdate:modelValue":t[71]||(t[71]=e=>l.massUpdate.source_id=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"user"==l.updateSelected?(g(),f("div",Wp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("User")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.user_id,"onUpdate:modelValue":t[72]||(t[72]=e=>l.massUpdate.user_id=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"country"==l.updateSelected?(g(),f("div",Yp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Country")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.country_id,"onUpdate:modelValue":t[73]||(t[73]=e=>l.massUpdate.country_id=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"offer"==l.updateSelected?(g(),f("div",Gp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Offer")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.offer_id,"onUpdate:modelValue":t[74]||(t[74]=e=>l.massUpdate.offer_id=e),reduce:e=>e.id,label:"name",options:e.offerSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"language"==l.updateSelected?(g(),f("div",qp,[x(d,null,{default:w((()=>[x(O,null,{default:w((()=>[C("Language")])),_:1}),x(n,null,{default:w((()=>[x(y,{modelValue:l.massUpdate.language_id,"onUpdate:modelValue":t[75]||(t[75]=e=>l.massUpdate.language_id=e),reduce:e=>e.id,label:"code",options:e.languagesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0),"date"==l.updateSelected?(g(),f("div",Jp)):I("",!0)])])),action:w((()=>[x(v,{color:"primary",onClick:i.saveMassUpdate,raised:""},{default:w((()=>[C("Save")])),_:1},8,["onClick"])])),_:1},8,["open"]),e.leadsTotalPagesItemsPagination>1?(g(),k(p,{key:1,"current-page":l.page,"onUpdate:currentPage":[t[77]||(t[77]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0),e.currentLead&&"admin"==e.getRole||"support"==e.getRole||"affiliate_manager"==e.getRole?(g(),k(B,{key:2,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0),!e.currentLead||"teamlead"!=e.getRole&&"buyer"!=e.getRole?I("",!0):(g(),k(z,{key:3,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])),l.multipleActionModal?(g(),f("div",{key:4,class:"table-selected-popup",style:se({width:l.myWidth+"px"})},[V("div",Kp,"Selected Items "+P(l.itemsSelected.length),1),V("div",Xp,[x(v,{color:"secondary",class:"mr-2",elevated:"",onClick:i.lockStatuses},{default:w((()=>[C("Lock Statuses")])),_:1},8,["onClick"]),"removed"==l.isActive?(g(),k(v,{key:0,color:"info",class:"mr-2",elevated:"",onClick:t[78]||(t[78]=e=>i.restoreLeads())},{default:w((()=>[C(" Restore Leads ")])),_:1})):I("",!0),"removed"!=l.isActive?(g(),k(v,{key:1,color:"primary",class:"mr-2",elevated:"",onClick:t[79]||(t[79]=e=>{this.leadsToInject=!0,this.getInjectsSelect()})},{default:w((()=>[C(" Add to Inject ")])),_:1})):I("",!0),"removed"!=l.isActive?(g(),k(v,{key:2,color:"danger",class:"mr-2",elevated:"",onClick:t[80]||(t[80]=e=>this.removeMassPopup=!0)},{default:w((()=>[C(" Delete Leads ")])),_:1})):I("",!0),x(v,{color:"primary",elevated:"",onClick:t[81]||(t[81]=e=>l.showDropdownSelectedList=!l.showDropdownSelectedList)},{default:w((()=>[C(" Mass Edit ")])),_:1})])],4)):I("",!0),l.showDropdownSelectedList?(g(),f("div",Zp,[V("div",Qp,[V("div",{onClick:t[82]||(t[82]=e=>i.openUpdateModal("status"))},"Update Status"),V("div",{onClick:t[83]||(t[83]=e=>i.openUpdateModal("price"))},"Update Price"),V("div",{onClick:t[84]||(t[84]=e=>i.openUpdateModal("funnel"))},"Update Funnel"),V("div",{onClick:t[85]||(t[85]=e=>i.openUpdateModal("source"))},"Update Source"),V("div",{onClick:t[86]||(t[86]=e=>i.openUpdateModal("user"))},"Update User"),V("div",{onClick:t[87]||(t[87]=e=>i.openUpdateModal("country"))},"Update Country"),V("div",{onClick:t[88]||(t[88]=e=>i.openUpdateModal("offer"))},"Update Campaign"),V("div",{onClick:t[89]||(t[89]=e=>i.openUpdateModal("language"))},"Update Language")])])):I("",!0),x(q,{"max-width":"500px",modelValue:l.removePopup,"onUpdate:modelValue":t[92]||(t[92]=e=>l.removePopup=e),persistent:l.isPersistent},{default:w((()=>[x(W,{color:"#1E272C"},{default:w((()=>[x(R,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[eh])),_:1}),x(H,{style:{"text-align":"center"}},{default:w((()=>[x(N,{cols:"12"},{default:w((()=>[x(r,{style:{"justify-content":"center"}},{default:w((()=>[x(v,{icon:"feather:delete",onClick:t[90]||(t[90]=e=>i.deleteCurrentLead())},{default:w((()=>[C(" Delete ")])),_:1}),x(v,{color:"primary",icon:"feather:x",onClick:t[91]||(t[91]=e=>this.removePopup=0),elevated:""},{default:w((()=>[C(" Cancel ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","persistent"]),x(q,{"max-width":"500px",modelValue:l.removeMassPopup,"onUpdate:modelValue":t[95]||(t[95]=e=>l.removeMassPopup=e),persistent:l.isPersistent},{default:w((()=>[x(W,{color:"#1E272C"},{default:w((()=>[x(R,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[th])),_:1}),x(H,{style:{"text-align":"center"}},{default:w((()=>[x(N,{cols:"12"},{default:w((()=>[x(r,{style:{"justify-content":"center"}},{default:w((()=>[x(v,{icon:"feather:delete",onClick:t[93]||(t[93]=e=>i.deleteSelectedLeads())},{default:w((()=>[C(" Delete ")])),_:1}),x(v,{color:"primary",icon:"feather:x",onClick:t[94]||(t[94]=e=>this.removeMassPopup=0),elevated:""},{default:w((()=>[C(" Cancel ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","persistent"]),x(E,{open:l.leadsToInject,title:"Choose Inject",size:"small",actions:"right",class:"select-table-model",noscroll:!0,onClose:t[98]||(t[98]=e=>l.leadsToInject=!1)},{content:w((()=>[x(N,{cols:"12"},{default:w((()=>[x(d,null,{default:w((()=>[x(n,null,{default:w((()=>[x(y,{style:{margin:"0 auto",width:"250px"},modelValue:l.addToInject,"onUpdate:modelValue":t[96]||(t[96]=e=>l.addToInject=e),reduce:e=>e.id,label:"name",options:e.injectsSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),action:w((()=>[x(v,{color:"primary",class:"mr-2",elevated:"",onClick:t[97]||(t[97]=e=>i.addLeadsToInject())},{default:w((()=>[C(" Add to Inject ")])),_:1})])),_:1},8,["open"])],64)}]]),sh={name:"LeadSettings",props:["smallFormOpen","leadsSettingsData","leadsSettingsDataUtms","leadsSettingsTabs"],components:{draggable:Ve},data(){return{localLeadsSettingsData:this.leadsSettingsData,localLeadsSettingsDataUtms:this.leadsSettingsDataUtms,localLeadsSettingsTabs:this.leadsSettingsTabs,leadSettingsHeader:[{bold:!0,text:"Name",value:"name",icon:""}],selectedSettings:p([]),mainFieldSelect:!1,searchField:""}},mounted(){this.setLeadsHeader()},methods:{checkMove(e){console.log(e.draggedContext.element.name)},onChecked(e,t){let a=this.selectedSettings.findIndex((t=>t.name===e.name));-1==a?this.selectedSettings.push(e):this.selectedSettings.splice(a,1)},setLeadSettingsData(e){let t=[],a=[],s=!1;for(let i in this.fieldsLeadsTable.send){s=!1;for(let t in e)if(this.fieldsLeadsTable.send[i].id==e[t].id){s=!0;break}s&&t.push(this.fieldsLeadsTable.send[i])}for(let i in e){s=!1;for(let t in this.fieldsLeadsTable.send)if(this.fieldsLeadsTable.send[t].id==e[i].id){s=!0;break}s?(e[i].checkbox=!0,this.selectedSettings.push(e[i])):a.push(e[i])}let l=[];for(let i in t)l.push(t[i]);for(let i in a)l.push(a[i]);return l},setLeadsHeader(){if(this.fieldsLeadsTable.send){this.leadsHeader=[{bold:!0,text:"ID",value:"id",icon:""}];for(let a in this.fieldsLeadsTable.send)this.fieldsLeadsTable.send[a].name?this.leadsHeader.push({bold:!0,text:this.fieldsLeadsTable.send[a].name,value:this.fieldsLeadsTable.send[a].id,align:"center",icon:""}):this.leadsHeader.push({bold:!0,text:this.fieldsLeadsTable.send[a].text,value:this.fieldsLeadsTable.send[a].value,align:"center",icon:""});"admin"!=this.getRole&&"support"!=this.getRole||this.leadsHeader.push({bold:!0,text:"Action",value:"action",align:"center",icon:""});let e=this.setLeadSettingsData(this.localLeadsSettingsData);this.localLeadsSettingsData=e,console.log("this.localLeadsSettingsDataUtms"),console.log(this.localLeadsSettingsDataUtms),console.log(this.leadsSettingsDataUtms);let t=this.setLeadSettingsData(this.localLeadsSettingsDataUtms);this.localLeadsSettingsDataUtms=t,this.$emit("update:leadsStetingsDataUtms",t),this.$emit("update:leadsSettingsData",e),this.$emit("update:leadsHeader",this.leadsHeader)}},setLeadsTabs(){this.leadsPageTabs&&this.$emit("update:leadsSettingsTabs",this.leadsPageTabs)},generateFields(e){let t=[];for(let a in e)!e[a].checkbox||1!=e[a].checkbox&&"true"!=e[a].checkbox||t.push(e[a]);return t},saveFields(){let e={send:[],hold:[],invalid:[],blackList:[],duplicate:[],errorLeads:[],leadsSettingsTabs:[]};if(e.send=this.generateFields(this.localLeadsSettingsData),this.leadsSettingsDataUtms){let t=this.generateFields(this.localLeadsSettingsDataUtms);for(let a in t)e.send.push(t[a])}if(this.localLeadsSettingsTabs){this.localLeadsSettingsTabs.sort(((e,t)=>t.checkbox-e.checkbox));let t=this.localLeadsSettingsTabs;for(let a in t)e.leadsSettingsTabs.push(t[a])}this.$store.dispatch("updateLeadFields",{data:e}).then((()=>{this.setLeadsHeader(),this.setLeadsTabs(),this.$parent.$refs.table.getItems()}))},closePopup(){this.$emit("update:settingsOpen",!1)},allMainFieldsAction(){for(let e in this.localLeadsSettingsData){let t=this.selectedSettings.findIndex((t=>t.name===this.leadsSettingsData[e].name));this.mainFieldSelect?(this.selectedSettings.splice(t,1),this.localLeadsSettingsData[e].checkbox=!1):(this.selectedSettings.push(this.leadsSettingsData[e]),this.localLeadsSettingsData[e].checkbox=!0)}}},computed:{...be(["getRole","getUserSettings","fieldsLeadsTable","leadsPageTabs"])},watch:{leadsSettingsTabs(e){this.localLeadsSettingsTabs=e}}},lh=V("h2",{class:"subtitle"},"Leads Page Tabs",-1),ih=V("td",{style:{width:"10%",cursor:"pointer"}},[V("i",{class:"fa fa-align-justify handle drag-handle"})],-1),oh={style:{width:"10%"}},rh={class:"easy-checkbox",style:{"--fdaf7e9e":"#42b883"}},nh=["id","onUpdate:modelValue","onClick"],dh=["for"],uh={style:{"text-align":"start"}},ch={class:"flex justify-space-between"},mh={class:"modal-form"},ph={class:"d-flex"},hh=V("p",{class:"text-h6",style:{"margin-left":"20px"}},"Main fields",-1),gh={key:0},fh=V("td",{style:{width:"10%",cursor:"pointer"}},[V("i",{class:"fa fa-align-justify handle drag-handle"})],-1),yh={style:{width:"10%"}},_h={class:"easy-checkbox",style:{"--fdaf7e9e":"#42b883"}},vh=["id","onUpdate:modelValue","onClick"],bh=["for"],Sh={style:{"text-align":"start"}},kh=V("p",{class:"text-h6"},"Utm fields",-1),wh={key:0},Vh=V("td",{style:{width:"10%",cursor:"pointer"}},[V("i",{class:"fa fa-align-justify handle drag-handle"})],-1),Ph={style:{width:"10%"}},xh={class:"easy-checkbox",style:{"--fdaf7e9e":"#42b883"}},Ch=["id","onUpdate:modelValue","onClick"],Ih=["for"],Dh={style:{"text-align":"start"}};const Lh=fe(sh,[["render",function(e,t,a,s,l,i){const o=$("v-col"),r=$("v-row"),n=$("draggable"),d=$("EasyDataTable"),u=Nt,c=Et,m=bt,p=Hi;return g(),k(p,{open:a.smallFormOpen,title:"Settings",size:"big",actions:"right",onClose:i.closePopup},{content:w((()=>[x(r,{class:"lead_settings_modal"},{default:w((()=>[a.leadsSettingsTabs?(g(),k(o,{key:0,cols:"3",style:{"border-right":"1px solid grey"}},{default:w((()=>[x(r,null,{default:w((()=>[x(o,{class:"mt-5"},{default:w((()=>[lh])),_:1})])),_:1}),x(r,{class:"lead_settings"},{default:w((()=>[x(o,null,{default:w((()=>[x(d,{class:"settings-lead-table","items-selected":l.selectedSettings,"onUpdate:itemsSelected":t[3]||(t[3]=e=>l.selectedSettings=e),headers:l.leadSettingsHeader,items:a.leadsSettingsTabs,"buttons-pagination":!1,"border-color":!1,"search-value":l.searchField},{body:w((a=>[x(n,{tag:"tbody",class:"table vue3-easy-data-table__body vue3-easy-data-table__body tr[data-v-4d5f5020]",modelValue:l.localLeadsSettingsTabs,"onUpdate:modelValue":t[0]||(t[0]=e=>l.localLeadsSettingsTabs=e),onStart:t[1]||(t[1]=t=>e.drag=!0),onEnd:t[2]||(t[2]=t=>e.drag=!1),"item-key":"id",group:"people",handle:".drag-handle"},{item:w((({element:e,index:t})=>[V("tr",null,[ih,V("td",oh,[V("div",rh,[Y(V("input",{type:"checkbox",id:"checbox-"+e.name,class:"main-fields","onUpdate:modelValue":e=>l.localLeadsSettingsTabs[t].checkbox=e,onClick:t=>i.onChecked(e,l.selectedSettings)},null,8,nh),[[Q,l.localLeadsSettingsTabs[t].checkbox]]),V("label",{for:"checbox-"+e.name},null,8,dh)])]),V("td",uh,[V("div",ch,[V("span",null,P(e.title),1)])])])])),_:1},8,["modelValue"])])),_:1},8,["items-selected","headers","items","search-value"])])),_:1})])),_:1})])),_:1})):I("",!0),x(o,null,{default:w((()=>[V("form",mh,[x(r,null,{default:w((()=>[x(o,{style:{"text-align":"center"}},{default:w((()=>[x(c,null,{default:w((()=>[x(u,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.searchField=e),type:"text",class:"input custom-text-filter",placeholder:"Search a field..."},null,512),[[G,l.searchField]])])),_:1})])),_:1})])),_:1})])),_:1}),x(r,{class:"lead_settings"},{default:w((()=>[x(o,null,{default:w((()=>[V("div",ph,[Y(V("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>l.mainFieldSelect=e),onClick:t[6]||(t[6]=e=>i.allMainFieldsAction())},null,512),[[Q,l.mainFieldSelect]]),hh]),a.leadsSettingsData?(g(),k(d,{key:0,class:"settings-lead-table","items-selected":l.selectedSettings,"onUpdate:itemsSelected":t[10]||(t[10]=e=>l.selectedSettings=e),headers:l.leadSettingsHeader,items:a.leadsSettingsData,"buttons-pagination":!1,"border-color":!1,"search-value":l.searchField},{body:w((a=>[x(n,{tag:"tbody",class:"table vue3-easy-data-table__body vue3-easy-data-table__body tr[data-v-4d5f5020]",modelValue:l.localLeadsSettingsData,"onUpdate:modelValue":t[7]||(t[7]=e=>l.localLeadsSettingsData=e),onStart:t[8]||(t[8]=t=>e.drag=!0),onEnd:t[9]||(t[9]=t=>e.drag=!1),"item-key":"id",group:"people",handle:".drag-handle"},{item:w((({element:e,index:t})=>[!l.searchField||l.searchField&&e.name.toLowerCase().includes(l.searchField.toLowerCase())?(g(),f("tr",gh,[fh,V("td",yh,[V("div",_h,[Y(V("input",{type:"checkbox",id:"checbox-"+e.name,class:"main-fields","onUpdate:modelValue":e=>l.localLeadsSettingsData[t].checkbox=e,onClick:t=>i.onChecked(e,l.selectedSettings)},null,8,vh),[[Q,l.localLeadsSettingsData[t].checkbox]]),V("label",{for:"checbox-"+e.name},null,8,bh)])]),V("td",Sh,[V("div",null,P(e.name),1)])])):I("",!0)])),_:1},8,["modelValue"])])),_:1},8,["items-selected","headers","items","search-value"])):I("",!0)])),_:1}),a.leadsSettingsDataUtms&&a.leadsSettingsDataUtms.length?(g(),k(o,{key:0},{default:w((()=>[kh,x(d,{class:"settings-lead-table","items-selected":l.selectedSettings,"onUpdate:itemsSelected":t[14]||(t[14]=e=>l.selectedSettings=e),headers:l.leadSettingsHeader,items:a.leadsSettingsDataUtms,"buttons-pagination":!1,"border-color":!1,"search-value":l.searchField},{body:w((a=>[x(n,{tag:"tbody",class:"table vue3-easy-data-table__body vue3-easy-data-table__body tr[data-v-4d5f5020]",modelValue:l.localLeadsSettingsDataUtms,"onUpdate:modelValue":t[11]||(t[11]=e=>l.localLeadsSettingsDataUtms=e),onStart:t[12]||(t[12]=t=>e.drag=!0),onEnd:t[13]||(t[13]=t=>e.drag=!1),"item-key":"id",group:"people",handle:".drag-handle"},{item:w((({element:e,index:t})=>[!l.searchField||l.searchField&&e.name.toLowerCase().includes(l.searchField.toLowerCase())?(g(),f("tr",wh,[Vh,V("td",Ph,[V("div",xh,[Y(V("input",{type:"checkbox",id:"checbox-"+e.name,"onUpdate:modelValue":e=>l.localLeadsSettingsDataUtms[t].checkbox=e,onClick:t=>i.onChecked(e,l.selectedSettings)},null,8,Ch),[[Q,l.localLeadsSettingsDataUtms[t].checkbox]]),V("label",{for:"checbox-"+e.name},null,8,Ih)])]),V("td",Dh,[V("div",null,P(e.name),1)])])):I("",!0)])),_:1},8,["modelValue"])])),_:1},8,["items-selected","headers","items","search-value"])])),_:1})):I("",!0)])),_:1})])])),_:1})])),_:1})])),action:w((()=>[x(m,{color:"primary",onClick:i.saveFields,raised:""},{default:w((()=>[C("Save")])),_:1},8,["onClick"])])),_:1},8,["open","onClose"])}]]);const $h=fe({name:"Leads",components:{Table:ah,LeadSettings:Lh},setup(){Xr().setPageTitle("Leads")},data:()=>({settingsOpen:!1,leadFilters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"cities",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"device",type:"input",label:"Languages"},{id:"platform",type:"input",label:"Languages"},{id:"browser",type:"input",label:"Languages"},{id:"webmasters",type:"input",label:"Phone"},{id:"partners",type:"input",label:"Partners"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"phone",type:"input",label:"Phone"},{id:"emailOrID",type:"input",label:"Email or ID"},{id:"statuses",type:"input",label:"Phone"},{id:"urls",type:"input",label:"Phone"},{id:"ftd",type:"input",label:"Phone"},{id:"real_ftd",type:"input",label:"Created Date"},{id:"keitaro_id",type:"input",label:"Sub ID"},{id:"valid",type:"input",label:"Phone"},{id:"payment_type_id",type:"input",label:"Payment type"},{id:"sale",type:"input",label:"Sale"},{id:"is_autologin",type:"input",label:"Autologin"},{id:"comments",type:"input",label:"Comment"},{id:"search_by_query_parameters",type:"input",label:"Search by query parameters"},{id:"utm",type:"input",label:"Phone"},{id:"fraud",type:"input",label:"Fraud"},{id:"export",type:"input",label:"Export"}],leadsSettingsTabs:[{title:"All",name:"everything",checkbox:!1},{title:"Sent / Hold",name:"all",checkbox:!0},{title:"Sent",name:"send",checkbox:!0},{title:"Hold",name:"hold",checkbox:!0},{title:"Valid",name:"valid",checkbox:!1},{title:"Invalid",name:"invalid",checkbox:!0},{title:"Duplicate",name:"duplicate",checkbox:!0},{title:"Dupl Broker",name:"duplicate_b",checkbox:!1},{title:"FTD",name:"ftd",checkbox:!1},{title:"Error",name:"error",checkbox:!0},{title:"Removed",name:"removed",checkbox:!0},{title:"Imported",name:"imported",checkbox:!1}],leadsSettingsData:[{name:"Offer",id:"offer"},{name:"Phone",id:"phone"},{name:"Email",id:"email"},{name:"Name",id:"full_name"},{name:"GEO",id:"country"},{name:"City",id:"city"},{name:"Domain",id:"landing"},{name:"Source",id:"source"},{name:"Broker",id:"broker"},{name:"Broker Comment",id:"broker_comment"},{name:"Lang",id:"language"},{name:"Funnel",id:"landing_name"},{name:"Status",id:"status"},{name:"Status History",id:"status_history"},{name:"FTD",id:"is_action"},{name:"Real FTD",id:"ftd_date"},{name:"User",id:"user"},{name:"UTM",id:"query_parameters"},{name:"Created Date",id:"date"},{name:"Date Send",id:"sended_date"},{name:"Date FTD",id:"action_time"},{name:"Auth",id:"is_autologin"},{name:"Autologin IP",id:"autologin_ip"},{name:"Sub Id",id:"keitaro_id"},{name:"Payment Type",id:"payment_type"},{name:"Buy",id:"buy"},{name:"Sale",id:"sale"},{name:"Comment",id:"comment"},{name:"User Agent",id:"user_agent"},{name:"Real User Agent",id:"frod.userAgent_js"},{name:"Device",id:"frod.device"},{name:"Provider",id:"frod.provider"},{name:"Browser",id:"frod.browser"},{name:"Platform",id:"frod.platform"},{name:"Device Languages",id:"frod.languages"},{name:"RAM",id:"frod.ram"},{name:"Connection",id:"frod.connection"},{name:"GPU",id:"frod.gpu"},{name:"Screen Resolution",id:"frod.screenRes"},{name:"Fingerprint",id:"frod.finger"}],leadsSettingsDataUtms:[],leadsHeader:[{bold:!0,text:"ID",value:"id",icon:""},{bold:!0,text:"Offer",value:"offer",align:"center",icon:""},{bold:!0,text:"Phone",value:"phone",align:"center",icon:""},{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Domain",value:"landing",align:"center",icon:""},{bord:!0,text:"Broker",value:"broker",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"Status",value:"status",align:"center",icon:""},{bold:!0,text:"FTD",value:"is_action",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"UTM",value:"query_parameters",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Date Send",value:"sended_date",align:"center",icon:""},{bold:!0,text:"Auth",value:"is_autologin",align:"center",icon:""},{bold:!0,text:"Action",value:"action",align:"center",icon:""}]}),mounted(){s({title:this.$route.meta.title}),this.leadsPageTabs&&this.leadsPageTabs.length&&(this.leadsPageTabs.length!=this.leadsSettingsTabs.length&&this.leadsPageTabs.push(this.leadsSettingsTabs[0]),this.leadsSettingsTabs=this.leadsPageTabs),this.getUtmFields()},methods:{updateLeadsSettingsData(e){this.leadsSettingsData=e},updateLeadsSettingsDataUtms(e){this.leadsSettingsDataUtms=e},updateLeadsSettingsTabs(e){this.leadsSettingsTabs=e},updateLeadsHeader(e){this.leadsHeader=e},updateSettingsOpen(){this.settingsOpen=!1},getUtmFields(){this.$store.dispatch("getUtmFields").then((e=>{if(e.data.data&&e.data.data.length)for(let t=0;t<e.data.data.length;t++)this.leadsSettingsDataUtms.push(e.data.data[t])}))}},computed:{...be(["leadsPageTabs"])}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("LeadSettings");return g(),f(j,null,[x(o,{leadFilters:l.leadFilters,headers:l.leadsHeader,leadsSettingsTabs:l.leadsSettingsTabs,ref:"table"},null,8,["leadFilters","headers","leadsSettingsTabs"]),x(r,{smallFormOpen:l.settingsOpen,leadsSettingsData:l.leadsSettingsData,leadsSettingsDataUtms:l.leadsSettingsDataUtms,leadsSettingsTabs:l.leadsSettingsTabs,"onUpdate:leadsSettingsData":i.updateLeadsSettingsData,"onUpdate:leadsStetingsDataUtms":i.updateLeadsSettingsDataUtms,"onUpdate:leadsHeader":i.updateLeadsHeader,"onUpdate:settingsOpen":i.updateSettingsOpen,"onUpdate:leadsSettingsTabs":i.updateLeadsSettingsTabs},null,8,["smallFormOpen","leadsSettingsData","leadsSettingsDataUtms","leadsSettingsTabs","onUpdate:leadsSettingsData","onUpdate:leadsStetingsDataUtms","onUpdate:leadsHeader","onUpdate:settingsOpen","onUpdate:leadsSettingsTabs"])],64)}]]),Th={name:"DepositApprove",components:{"lead-popup":sc,"lead-filter":wd,draggable:Ve,DatePicker:io},data:()=>({multipleActionModal:!1,itemsSelected:[],drag:!1,buttonLoading:!0,serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},selectedSettings:p([]),items:{},rowsPerPage:25,perPages:[25,50,100],emailModel:"",myWidth:"",drawer:!1,loading:!0,selected:!1,leadsHeader:[{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"Phone",value:"phone",align:"center",icon:""},{bold:!0,text:"Offer",value:"offer",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Action",value:"action",align:"center",icon:""}],leadsApprovedHeader:[{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"Phone",value:"phone",align:"center",icon:""},{bold:!0,text:"Offer",value:"offer",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""}],filterValues:{period:"this_month",search:"",is_approve_deposit:p(0)},page:1,isLoaderActive:!1,isActive:"unapproved"}),provide:function(){return{getItems:this.getItems}},mounted(){s({title:this.$route.meta.title}),this.leadCounts.allCount&&(this.buttonLoading=!1),this.getItems(),this.getDepositsApproveCounts()},methods:{...Se(["getItemsPagination"]),selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1),this.getDepositsApproveCounts()},changeDate(e){this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1),this.getDepositsApproveCounts()},checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.emailModel,this.getItems(1)}),500),onChecked(e,t){let a=this.selectedSettings.findIndex((t=>t.name===e.name));-1==a?this.selectedSettings.push(e):this.selectedSettings.splice(a,1)},openFilters(){this.drawer=!this.drawer},deleteItem(e){confirm("Вы точно хотите удалить лид?")&&this.$store.dispatch("deleteLead",e).then((()=>alert("Успешно!"))).catch((()=>this.$store.commit("disableOverlay"))).finally((()=>{this.getItems(this.page)}))},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},getItems(e=1){let t=this.filterValues,a=this.rowsPerPage;re.start(),this.$store.dispatch("getLeadsItemsPagination",{path:"deposits-approve",page:e,rowsPerPage:a,filtersValues:t}).then((()=>{this.loading=!0})).finally((()=>{re.done(),this.loading=!1}))},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},approveDeposit(e){confirm("Вы точно хотите отобразить депозит?")&&this.$store.dispatch("confirmLeadDeposit",e.id).finally((()=>{this.getItems(1),this.getDepositsApproveCounts()}))},approveSelectedLeads(){let e={ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("approveLeads",{data:e}).then((()=>{this.itemsSelected=[],this.getItems(),this.getDepositsApproveCounts()}))},getLeadsByType(e="unapproved"){this.filterValues.is_approve_deposit="unapproved"==e?0:1,this.isActive=e,this.getItems()},getDepositsApproveCounts(){let e=this.filterValues;this.buttonLoading=!0,this.$store.dispatch("getDepositsApproveCounts",{filtersValues:e}).finally((()=>{this.buttonLoading=!1}))}},watch:{itemsSelected:{handler(e,t){e.length?(this.multipleActionModal=!0,this.myWidth=this.$refs.leadsTable.offsetWidth):(this.showDropdownSelectedList=!1,this.multipleActionModal=!1)},deep:!0},rowsPerPage(e){this.serverOptions.rowsPerPage=e,this.page=1},page(){this.getItems(this.page)},emailModel(){this.checkSearchStr()}},computed:{...be(["getUserSettings","leadCounts","currentLead","leadsItemsPagination","leadsTotalItemsPagination","leadsCurrentPageItemsPagination","leadsTotalPagesItemsPagination","depositsApproveCounts"])}},Ah={class:"v-flex flex-pagination top-pagination pagination is-rounded"},Oh={class:"buttons"},Fh={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},Uh={key:0},Mh={key:1},Eh={class:"flex-start status-button choose_filter mb-2"},Bh={class:"table-container",ref:"leadsTable"},zh=["onClick"],jh=["onClick"],Rh=[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"},null,-1)],Nh={class:"selected"},Hh={class:"selected-right-button"};const Wh=fe(Th,[["render",function(e,t,a,s,l,i){const o=xi,r=yt,n=Nt,d=Et,u=nr,c=$("DatePicker"),m=$("Multiselect"),p=$("lead-filter"),h=$("v-btn"),y=$("EasyDataTable"),v=$("lead-popup"),b=bt;return g(),f(j,null,[x(r,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(o,{style:{margin:"0","margin-right":"5px"},icon:"feather:refresh-cw",color:"primary",onClick:t[0]||(t[0]=e=>{l.page=1})}),x(o,{style:{margin:"0","margin-right":"5px"},icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters())})])),_:1}),V("div",Ah,[x(d,null,{default:w((()=>[x(n,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.emailModel=e),class:"input custom-text-filter",placeholder:"Email or ID"},null,512),[[G,l.emailModel]])])),_:1})])),_:1}),e.leadsTotalPagesItemsPagination>1?(g(),k(u,{key:0,style:{margin:"0 !important"},"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),V("div",Oh,[x(c,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{class:"h-hidden-mobile"},{default:w((()=>[x(n,null,{default:w((()=>[x(m,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[4]||(t[4]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[5]||(t[5]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),l.drawer?(g(),k(p,{key:0,drawer:l.drawer,ref:"leadFilter",filters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"phone",type:"input",label:"Phone"}],is_approve_deposit:l.filterValues.is_approve_deposit},null,8,["drawer","is_approve_deposit"])):I("",!0),V("div",Fh,[C(" Showing "),1==l.page?(g(),f("span",Uh,P(l.page),1)):(g(),f("span",Mh,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.leadsTotalItemsPagination)+" entries ",1)]),V("div",Eh,[x(h,{loading:l.buttonLoading,class:_([[{active:"unapproved"==l.isActive}],"mt-1 mr-1"]),onClick:t[6]||(t[6]=e=>i.getLeadsByType("unapproved"))},{default:w((()=>[C(" Unapproved - "+P(e.depositsApproveCounts.unapproved??0),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:"approved"==l.isActive}],"mt-1 mr-1"]),onClick:t[7]||(t[7]=e=>i.getLeadsByType("approved"))},{default:w((()=>[C(" Approved - "+P(e.depositsApproveCounts.approved??0),1)])),_:1},8,["loading","class"])]),V("div",Bh,[x(y,{headers:"unapproved"==l.isActive?l.leadsHeader:l.leadsApprovedHeader,items:e.leadsItemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"server-options":l.serverOptions,"onUpdate:serverOptions":t[8]||(t[8]=e=>l.serverOptions=e),"items-selected":l.itemsSelected,"onUpdate:itemsSelected":t[9]||(t[9]=e=>l.itemsSelected=e)},{"item-phone":w((e=>[V("span",{style:{cursor:"pointer"},onClick:t=>i.getCurrentLead(e)},P(e.phone),9,zh)])),"item-offer":w((e=>[V("span",null,P(e.offer),1)])),"item-action":w((e=>[V("span",{style:{cursor:"pointer"},onClick:t=>i.approveDeposit(e)},Rh,8,jh)])),_:1},8,["headers","items","loading","server-options","items-selected"])],512),e.leadsTotalPagesItemsPagination>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":t[10]||(t[10]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),e.currentLead?(g(),k(v,{key:2,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0),l.multipleActionModal?(g(),f("div",{key:3,class:"table-selected-popup",style:se({width:l.myWidth+"px"})},[V("div",Nh,"Selected Items "+P(l.itemsSelected.length),1),V("div",Hh,[x(b,{color:"primary",class:"mr-2",elevated:"",onClick:t[11]||(t[11]=e=>{this.approveSelectedLeads()})},{default:w((()=>[C(" Approve ")])),_:1})])],4)):I("",!0)],64)}]]),Yh={name:"LeadsImports",components:{DatePicker:io},data:()=>({headers:[{bold:!0,text:"ID",value:"id",icon:""},{bold:!0,text:"Name",value:"name",align:"center",icon:""},{bold:!0,text:"Status",value:"status",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{text:"Actions",sortable:!1,value:"action",width:20}],serverOptions:{page:1,rowsPerPage:25,sortBy:"id",sortType:"desc"},rowsPerPage:25,perPages:[25,50,100],page:1,loading:!0,filterValues:{period:"this_month"}}),mounted(){s({title:this.$route.meta.title}),this.getItems()},methods:{selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start=i,this.filterValues.date_end=o,this.getItems(1)},changeDate(e){this.filterValues.period=e,this.filterValues.date_start=null,this.filterValues.date_end=null,this.getItems(1)},updatePaginate(e){this.page=e,this.getItems(this.page)},getItems(e=1){let t=this.filterValues,a=this.rowsPerPage;re.start(),this.$store.dispatch("getItemsPagination",{path:"leads-import",page:e,rowsPerPage:a,filtersValues:t}).then((()=>{this.loading=!0})).finally((()=>{re.done(),this.loading=!1}))},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteLeadsImport",e).then((()=>{alert("Successfully!"),this.getItems(this.page)}))}},watch:{rowsPerPage(e){this.serverOptions.rowsPerPage=e,this.page=1}},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalItemsPagination","totalPagesItemsPagination","rowsPerPagePagination","getRole"])}},Gh={class:"list-flex-toolbar flex-list-v1"},qh={class:"v-flex flex-pagination top-pagination pagination is-rounded justify-end"},Jh={class:"buttons"},Kh={class:"pagination_wrap"},Xh={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},Zh={key:0},Qh={key:1},eg={class:"table-container",ref:"leadsTable"};const tg=fe(Yh,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=$("Multiselect"),d=Nt,u=Et,c=nr,m=xr,p=$("EasyDataTable");return g(),f(j,null,[V("div",Gh,[x(r,null,{default:w((()=>[x(o,{to:"/"+e.getRole.replace("_","-")+"/leads-imports/add",color:"primary",icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Import ")])),_:1},8,["to"])])),_:1})]),V("div",qh,[V("div",Jh,[x(u,null,{default:w((()=>[x(d,null,{default:w((()=>[x(n,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[0]||(t[0]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[1]||(t[1]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),V("div",Kh,[V("div",Xh,[C(" Showing "),1==l.page?(g(),f("span",Zh,P(l.page),1)):(g(),f("span",Qh,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(c,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[2]||(t[2]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),V("div",eg,[x(p,{headers:l.headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,class:"leads-table"},{"item-action":w((({id:t,status:a})=>["Completed"!=a&&"Process"!=a&&"Loading"!=a?(g(),k(m,{key:0,onView:a=>this.$router.push(`/${e.getRole.replace("_","-")}/leads-imports/`+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])):I("",!0)])),_:1},8,["headers","items","loading"])],512),e.totalPagesItemsPagination>1?(g(),k(c,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[3]||(t[3]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)],64)}]]),ag={name:"LeadsImport",data:()=>({rowsPerPage:1,perPages:[25,50,100],page:1,loading:!0,importLoadingColumns:[],importStatusColumns:[{id:"email",name:"Email",choose:null},{id:"status_id",name:"Status",choose:null},{id:"offer_id",name:"Offer",choose:null}],importTypeColumns:[{id:"email",name:"Email",choose:null},{id:"comment",name:"Comment",choose:null},{id:"offer_id",name:"Offer",choose:null}],importColumns:[{id:"email",name:"Email",choose:null},{id:"phone",name:"Phone",choose:null},{id:"full_name",name:"Full Name",choose:null},{id:"ip",name:"Ip",choose:null},{id:"landing_id",name:"Link",choose:null},{id:"country_id",name:"Country",choose:null},{id:"source_id",name:"Source",choose:null},{id:"user_id",name:"User",choose:null},{id:"landing_name_id",name:"Funnel",choose:null}],openImportPopup:!1,stepFile:2,fileValue:{}}),mounted(){s({title:this.$route.meta.title}),this.getItem(),this.getSelectByID()},methods:{...Se(["getLandingNamesSelect","getUsersSelect","getSourcesSelect","getCountriesSelect","getLandingSelect","getOfferSelect"]),updatePaginate(e){this.page=e,this.getItem(this.page)},getItem(e=1){console.log("page"),console.log(e),this.$store.dispatch("getLeadsImport",{id:this.$route.params.id,page:e}).then((e=>{})).finally((()=>{if(3==this.leadsImport.type?this.importColumns=[{id:"email",name:"Email",choose:null},{id:"phone",name:"Phone",choose:null},{id:"full_name",name:"Full Name",choose:null},{id:"ip",name:"Ip",choose:null},{id:"landing_id",name:"Link",choose:null},{id:"country_id",name:"Country",choose:null},{id:"source_id",name:"Source",choose:null},{id:"user_id",name:"User",choose:null},{id:"landing_name_id",name:"Funnel",choose:null}]:1==this.leadsImport.type?this.importColumns=[{id:"email",name:"Email",choose:null},{id:"status_id",name:"Status",choose:null},{id:"offer_id",name:"Offer",choose:null},{id:"is_action",name:"FTD",choose:null},{id:"external_id",name:"External ID",choose:null}]:2==this.leadsImport.type&&(this.importColumns=[{id:"email",name:"Email",choose:null},{id:"comment",name:"Comment",choose:null},{id:"offer_id",name:"Offer",choose:null}]),!this.importLoadingColumns.length){for(let e in this.leadsImport.data.headers)this.importLoadingColumns.push({id:this.leadsImport.data.headers[e],name:this.leadsImport.data.headers[e]});console.log(this.importLoadingColumns)}this.loading=!1}))},loadAndDisplayExcel(e){fetch(e).then((e=>{e.text()})).then((e=>{console.log(e)})).catch((e=>console.error(e)))},importLeads(){this.$refs.leadsImport.importTable((e=>{console.log("file",e)}))},saveEditedFile(){console.log(this.leadsImport.data.columns),this.$store.dispatch("saveEditedLeadsImportFile",{data:this.leadsImport.data.columns,id:this.leadsImport.data.id,page:this.page}).then((e=>console.log(e)))},cancelLeadsImport(){this.openImportPopup=!this.openImportPopup},uploadFile(e){if(console.log(e.target.files[0]),this.file=e.target.files?e.target.files[0]:null,this.file){const e=new FileReader;e.onload=e=>{const t=e.target.result,a=Le(t,{type:"binary"}),s=a.SheetNames[0],l=a.Sheets[s],i=$e.sheet_to_json(l,{header:1});this.importLoadingColumns=i[0],console.log(i[0])},e.readAsBinaryString(this.file)}},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},getSelectByID(){this.getLandingNamesSelect(),this.getUsersSelect(),this.getSourcesSelect(),this.getCountriesSelect(),this.getLandingSelect(),this.getOfferSelect()},loadFileHeaders(){this.loading=!0,1==this.stepFile?this.stepFile=2:2==this.stepFile?(console.log(this.importLoadingColumns),this.stepFile=3):3==this.stepFile&&this.$store.dispatch("startImport",{columns:this.importColumns,id:this.leadsImport.data.id}).then((e=>{this.$router.push(`/${this.getRole.replace("_","-")}/leads-imports/`),console.log(e)}))}},computed:{...be(["leadsImport","landingNamesSelect","usersSelect","sourcesSelect","brokersSelect","countriesSelect","landingSelect","offerSelect","getRole"])}},sg={class:"list-flex-toolbar flex-list-v1"},lg={key:0},ig={class:"table-container"},og={class:"form-outer"},rg={class:"form-header stuck-header"},ng={class:"form-header-inner"},dg=V("div",{class:"left"},[V("h3",null,"Import")],-1),ug={class:"right"},cg={class:"buttons"},mg={class:"form-body"},pg={class:"form-fieldset"},hg={key:0},gg={key:0},fg={class:"columns is-multiline"},yg={class:"column is-4"},_g={key:1},vg={class:"columns is-multiline"},bg={class:"column is-4"},Sg={key:1},kg={key:0},wg={class:"columns is-multiline"},Vg={class:"column is-4"},Pg={key:1},xg={class:"columns is-multiline"},Cg={class:"column is-4"},Ig={key:2},Dg={key:0},Lg={class:"columns is-multiline"},$g={class:"column is-4"},Tg={key:1},Ag={class:"columns is-multiline"},Og={class:"column is-4"};const Fg=fe(ag,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=$("vue-excel-column"),d=$("vue-excel-editor"),u=nr,c=Ft,m=$("v-selects"),p=Et,h=xd,y=Cr,_=$("v-dialog");return g(),f(j,null,[V("div",sg,[e.leadsImport&&e.leadsImport.data?(g(),f("h3",lg,P(e.leadsImport.data.name),1)):I("",!0),x(r,null,{default:w((()=>[x(o,{onClick:t[0]||(t[0]=e=>l.openImportPopup=!0)},{default:w((()=>[C("Import File")])),_:1}),x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[1]||(t[1]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Back ")])),_:1}),x(o,{onClick:t[2]||(t[2]=e=>i.saveEditedFile()),color:"primary",icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Save file ")])),_:1})])),_:1})]),V("div",ig,[e.leadsImport&&e.leadsImport.data?(g(),k(d,{key:0,modelValue:e.leadsImport.data.columns,"onUpdate:modelValue":t[3]||(t[3]=t=>e.leadsImport.data.columns=t),ref:"leadsImport","filter-row":""},{default:w((()=>[(g(!0),f(j,null,K(e.leadsImport.data.headers,((t,a)=>(g(),k(n,{autoFillWidth:!0,field:e.leadsImport.data.headers[a],label:e.leadsImport.data.headers[a],type:"string"},null,8,["field","label"])))),256))])),_:1},8,["modelValue"])):I("",!0),this.leadsImport&&this.leadsImport.total_pages>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":[t[4]||(t[4]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":this.leadsImport.total_pages,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(_,{class:"lead-dialog",modelValue:l.openImportPopup,"onUpdate:modelValue":t[7]||(t[7]=e=>l.openImportPopup=e),persistent:"","no-click-animation":"",style:{"max-width":"1440px"}},{default:w((()=>[x(y,{size:"large",active:e.isLoaderActive},{default:w((()=>[V("form",{class:"form-layout",onSubmit:t[6]||(t[6]=B(((...e)=>i.loadFileHeaders&&i.loadFileHeaders(...e)),["prevent"]))},[V("div",og,[V("div",rg,[V("div",ng,[dg,V("div",ug,[V("div",cg,[x(o,{icon:"lnir lnir-close rem-100",onClick:t[5]||(t[5]=e=>l.openImportPopup=!1),light:"","dark-outlined":""},{default:w((()=>[C(" Close ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Next ")])),_:1})])])])]),V("div",mg,[V("div",pg,[3==this.leadsImport.type?(g(),f("div",hg,[2==l.stepFile?(g(),f("div",gg,[V("div",fg,[(g(!0),f(j,null,K(l.importColumns,(e=>(g(),f("div",yg,[x(p,null,{default:w((()=>[x(c,null,{default:w((()=>[C(P(e.name),1)])),_:2},1024),x(m,{modelValue:e.choose,"onUpdate:modelValue":t=>e.choose=t,label:"name",options:l.importLoadingColumns,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)])))),256))])])):I("",!0),3==l.stepFile?(g(),f("div",_g,[V("div",vg,[(g(!0),f(j,null,K(l.importColumns,(t=>(g(),f("div",bg,[null==t.choose&&"phone"!=t.id&&"email"!=t.id&&"full_name"!=t.id?(g(),k(p,{key:0},{default:w((()=>["ip"!=t.id?(g(),k(c,{key:0},{default:w((()=>[C(P(t.name),1)])),_:2},1024)):I("",!0),"ip"==t.id?(g(),k(h,{key:1,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,trueValue:"auto",label:"Auto Generate IP",color:"primary",style:{"padding-left":"0","margin-top":"15px"}},null,8,["modelValue","onUpdate:modelValue"])):I("",!0),"landing_name_id"==t.id?(g(),k(m,{key:2,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.landingNamesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"landing_id"==t.id?(g(),k(m,{key:3,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"url",options:e.landingSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"country_id"==t.id?(g(),k(m,{key:4,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"ISO_2",options:e.countriesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"source_id"==t.id?(g(),k(m,{key:5,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.sourcesSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0),"user_id"==t.id?(g(),k(m,{key:6,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.usersSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0)])),_:2},1024)):I("",!0)])))),256))])])):I("",!0)])):2==this.leadsImport.type?(g(),f("div",Sg,[2==l.stepFile?(g(),f("div",kg,[V("div",wg,[(g(!0),f(j,null,K(l.importColumns,(e=>(g(),f("div",Vg,[x(p,null,{default:w((()=>[x(c,null,{default:w((()=>[C(P(e.name),1)])),_:2},1024),x(m,{modelValue:e.choose,"onUpdate:modelValue":t=>e.choose=t,label:"name",options:l.importLoadingColumns,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)])))),256))])])):I("",!0),3==l.stepFile?(g(),f("div",Pg,[V("div",xg,[(g(!0),f(j,null,K(l.importColumns,(t=>(g(),f("div",Cg,[null==t.choose&&"ip"!=t.id&&"phone"!=t.id&&"email"!=t.id&&"full_name"!=t.id?(g(),k(p,{key:0},{default:w((()=>[x(c,null,{default:w((()=>[C(P(t.name),1)])),_:2},1024),"offer_id"==t.id?(g(),k(m,{key:0,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.offerSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0)])),_:2},1024)):I("",!0)])))),256))])])):I("",!0)])):1==this.leadsImport.type?(g(),f("div",Ig,[2==l.stepFile?(g(),f("div",Dg,[V("div",Lg,[(g(!0),f(j,null,K(l.importColumns,(e=>(g(),f("div",$g,[x(p,null,{default:w((()=>[x(c,null,{default:w((()=>[C(P(e.name),1)])),_:2},1024),x(m,{modelValue:e.choose,"onUpdate:modelValue":t=>e.choose=t,label:"name",options:l.importLoadingColumns,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)])))),256))])])):I("",!0),3==l.stepFile?(g(),f("div",Tg,[V("div",Ag,[(g(!0),f(j,null,K(l.importColumns,(t=>(g(),f("div",Og,[null==t.choose&&"external_id"!=t.id&&"ip"!=t.id&&"phone"!=t.id&&"email"!=t.id&&"full_name"!=t.id&&"status_id"!=t.id&&"is_action"!=t.id?(g(),k(p,{key:0},{default:w((()=>[x(c,null,{default:w((()=>[C(P(t.name),1)])),_:2},1024),"offer_id"==t.id?(g(),k(m,{key:0,modelValue:t.select,"onUpdate:modelValue":e=>t.select=e,label:"name",options:e.offerSelect,"push-tags":"",closeOnSelect:!0,"append-to-body":""},null,8,["modelValue","onUpdate:modelValue","options"])):I("",!0)])),_:2},1024)):I("",!0)])))),256))])])):I("",!0)])):I("",!0)])])])],32)])),_:1},8,["active"])])),_:1},8,["modelValue"])],64)}]]),Ug={name:"LeadsImportNew",data:()=>({rowsPerPage:25,perPages:[25,50,100],newLeadsImport:{type:1},uploadFiles:{},fileValue:{}}),mounted(){s({title:this.$route.meta.title})},methods:{uploadFile(e){this.file=e.target.files[0],this.fileValue=this.$refs.fileInput;var t=new FileReader;t.onload=e=>{this.newLeadsImport.filename=e.target.result},t.readAsDataURL(this.file)},createItem(){let e=this.file,t=this.newLeadsImport.name;this.newLeadsImport.filename&&this.newLeadsImport.filename.length&&t.length?this.$store.dispatch("createLeadsImport",{file:e,name:t,type:this.newLeadsImport.type}).then((e=>{console.log(e)})).finally((()=>{this.$router.push(`/${this.getRole.replace("_","-")}/leads-imports/`)})):this.$store.commit("setAlert",{message:"All fields are required",type:"error"})}},computed:{...be(["getRole"])},watch:{loadedFiles(e){this.uploadFiles=e}}},Mg={class:"form-outer"},Eg={class:"form-header stuck-header"},Bg={class:"form-header-inner"},zg=V("div",{class:"left"},[V("h3",null,"New Leads Import")],-1),jg={class:"right"},Rg={class:"buttons"},Ng={class:"form-body"},Hg={class:"form-fieldset"},Wg={class:"columns is-multiline",style:{"max-width":"450px",margin:"0 auto"}},Yg={class:"column is-12"},Gg={class:"column is-12"},qg={class:"file has-name is-right"},Jg={class:"file-label w-100"},Kg=V("span",{class:"file-cta"},[V("span",{class:"file-icon"},[V("i",{class:"fas fa-cloud-upload-alt"})]),V("span",{class:"file-label"}," Choose a file… ")],-1),Xg={class:"file-name light-text w-100",style:{"max-width":"unset"}};const Zg=fe(Ug,[["render",function(e,t,a,s,l,i){const o=bt,r=Ft,n=Wt,d=Nt,u=Et,c=$("v-selects");return g(),f("form",{class:"form-layout max-width",onSubmit:t[4]||(t[4]=B((e=>i.createItem()),["prevent"]))},[V("div",Mg,[V("div",Eg,[V("div",Bg,[zg,V("div",jg,[V("div",Rg,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[0]||(t[0]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Create ")])),_:1})])])])]),V("div",Ng,[V("div",Hg,[V("div",Wg,[V("div",Yg,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Name *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:l.newLeadsImport.name,"onUpdate:modelValue":t[1]||(t[1]=e=>l.newLeadsImport.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Type")])),_:1}),x(c,{width:"210px",modelValue:l.newLeadsImport.type,"onUpdate:modelValue":t[2]||(t[2]=e=>l.newLeadsImport.type=e),reduce:e=>e.id,label:"name",options:[{id:1,name:"Statuses"},{id:2,name:"Broker Comment"},{id:3,name:"Leads"}],"push-tags":""},null,8,["modelValue","reduce"])])),_:1})]),V("div",Gg,[x(u,{grouped:""},{default:w((()=>[x(d,{class:"w-100"},{default:w((()=>[V("div",qg,[V("label",Jg,[V("input",{class:"file-input",type:"file",onChange:t[3]||(t[3]=(...e)=>i.uploadFile&&i.uploadFile(...e)),ref:"fileInput",name:"resume"},null,544),Kg,V("span",Xg,P(l.fileValue.value),1)])])])),_:1})])),_:1})])])])])])],32)}]]),Qg={name:"Lead",components:{},data:()=>({item:{},autoGenerate:!1,update:!1}),watch:{autoGenerate(e){e?(this.update=!1,this.item=this.fakerLead,this.update=!0,this.fakerLead.first_name||this.getFakerLead().then((e=>{this.item=e.data.data}))):(this.item={},this.getFakerLead())}},computed:{...be(["countriesSelect","sourcesSelect","landingNamesSelect","usersSelect","landingSelect","fakerLead","offerSelectAccess","offersForSend"])},mounted(){this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getLandingSelect(),this.getFakerLead(),this.getUsersSelect(["web_master","buyer","teamlead"])},setup(){const e=p(""),t=p(""),a=p(""),s=p(new Date),{y:l}=i();return{companySize:e,businessType:t,productToDemo:a,date:s,isStuck:u((()=>l.value>30))}},methods:{...Se(["getCountriesSelect","getSourcesSelect","getLandingNamesSelect","getLandingSelect","getFakerLead","getUsersSelect","getOfferByData"]),getOffers(){console.log(this.item);let e=this.countriesSelect[this.countriesSelect.findIndex((e=>e.ISO_2===this.item.country))].id,t=this.landingNamesSelect[this.landingNamesSelect.findIndex((e=>e.name===this.item.landing_name))].id,a=this.sourcesSelect[this.sourcesSelect.findIndex((e=>e.name===this.item.source))].id;this.$store.dispatch("getOfferByData",{source_id:a,landing_name_id:t,country_id:e}).then((e=>{console.log(e)})).finally()},updateCountry(){let e=this.item.country;this.getFakerLead(e).then((e=>{this.item.ip=e.data.data.ip}))},getIndex(e,t){return this[e].findIndex((e=>e.id===t))},onSubmit(){let e=this.item;e.full_name=e.first_name+" "+e.last_name,this.$store.dispatch("createNewLead",this.item).then((()=>{})).finally()}}},ef={class:"users_form_wrap"},tf={class:"form-outer"},af={class:"form-header-inner"},sf=V("div",{class:"left"},[V("h3",null,"Add Lead")],-1),lf={class:"right"},of={class:"buttons"},rf={class:"form-body"},nf={class:"form-fieldset"},df={class:"columns is-multiline"},uf={class:"column is-6"},cf={class:"column is-6"},mf={class:"column is-6"},pf={class:"column is-6"},hf={class:"column is-6"},gf={class:"column is-6"},ff={class:"column is-6"},yf={class:"column is-6"},_f={class:"column is-6"},vf={class:"column is-6"},bf={class:"column is-6"},Sf={key:0,class:"column is-6"};const kf=fe(Qg,[["render",function(e,t,a,s,l,i){const o=xd,r=Nt,n=Et,d=bt,u=Ft,c=Wt,m=$("v-selects"),p=tn;return g(),f("div",ef,[V("form",{class:"form-layout",onSubmit:t[15]||(t[15]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"])),autocomplete:"off"},[V("div",tf,[V("div",{class:_([[s.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",af,[sf,V("div",lf,[V("div",of,[V("div",null,[x(n,{class:"is-flex"},{default:w((()=>[x(r,null,{default:w((()=>[x(o,{trueValue:"1",label:"Generate Auto",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",modelValue:l.autoGenerate,"onUpdate:modelValue":t[0]||(t[0]=e=>l.autoGenerate=e)},null,8,["modelValue"])])),_:1})])),_:1})]),x(d,{icon:"lnir lnir-arrow-left rem-100",onClick:t[1]||(t[1]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(d,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Add ")])),_:1})])])])],2),V("div",rf,[V("div",nf,[V("div",df,[V("div",uf,[x(n,null,{default:w((()=>[x(u,null,{default:w((()=>[C("First Name")])),_:1}),x(r,{icon:"feather:user"},{default:w((()=>[x(c,{type:"text",placeholder:"",autocomplete:"no-fill",modelValue:l.item.first_name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.item.first_name=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",cf,[x(n,null,{default:w((()=>[x(u,null,{default:w((()=>[C("Last Name")])),_:1}),x(r,{icon:"feather:user"},{default:w((()=>[x(c,{type:"text",placeholder:"",autocomplete:"no-fill",modelValue:l.item.last_name,"onUpdate:modelValue":t[3]||(t[3]=e=>l.item.last_name=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",mf,[x(n,null,{default:w((()=>[x(u,null,{default:w((()=>[C("Email")])),_:1}),x(r,{icon:"feather:mail"},{default:w((()=>[x(c,{type:"text",placeholder:"",autocomplete:"off",modelValue:l.item.email,"onUpdate:modelValue":t[4]||(t[4]=e=>l.item.email=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",pf,[x(n,null,{default:w((()=>[x(u,null,{default:w((()=>[C("Phone")])),_:1}),x(r,{icon:"feather:phone"},{default:w((()=>[x(c,{type:"text",placeholder:"",autocomplete:"no-fill",modelValue:l.item.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>l.item.phone=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",hf,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Country")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{placeholdaer:"Funnels",modelValue:l.item.country,"onUpdate:modelValue":[t[6]||(t[6]=e=>l.item.country=e),i.updateCountry],reduce:e=>e.ISO_2,label:"ISO_2",options:e.countriesSelect,closeOnSelect:!0},null,8,["modelValue","reduce","options","onUpdate:modelValue"])])),_:1})])),_:1})]),V("div",gf,[x(n,null,{default:w((()=>[x(u,null,{default:w((()=>[C("IP")])),_:1}),x(r,null,{default:w((()=>[x(c,{type:"text",placeholder:"",autocomplete:"no-fill",modelValue:l.item.ip,"onUpdate:modelValue":t[7]||(t[7]=e=>l.item.ip=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",ff,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Link")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{placeholdaer:"Funnels",modelValue:l.item.landing,"onUpdate:modelValue":t[8]||(t[8]=e=>l.item.landing=e),reduce:e=>e.url,label:"url",options:e.landingSelect,closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",yf,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Funnel")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{placeholdaer:"Funnels",modelValue:l.item.landing_name,"onUpdate:modelValue":t[9]||(t[9]=e=>l.item.landing_name=e),reduce:e=>e.name,label:"name",options:e.landingNamesSelect,closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",_f,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Source")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{placeholdaer:"Funnels",modelValue:l.item.source,"onUpdate:modelValue":t[10]||(t[10]=e=>l.item.source=e),reduce:e=>e.name,label:"name",options:e.sourcesSelect,closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",vf,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("User")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{placeholdaer:"Funnels",modelValue:l.item.user_id,"onUpdate:modelValue":t[11]||(t[11]=e=>l.item.user_id=e),reduce:e=>e.id,label:"name",options:e.usersSelect,closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",bf,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Description")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(p,{modelValue:l.item.description,"onUpdate:modelValue":t[12]||(t[12]=e=>l.item.description=e),rows:"10"},null,8,["modelValue"])])),_:1})])),_:1})]),l.item.landing_name&&l.item.source&&l.item.country?(g(),f("div",Sf,[x(n,{class:""},{default:w((()=>[x(u,null,{default:w((()=>[C("Offer")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(m,{modelValue:l.item.camp_id,"onUpdate:modelValue":t[13]||(t[13]=e=>l.item.camp_id=e),reduce:e=>e.id,label:"name",options:e.offersForSend,closeOnSelect:!0,"onSearch:focus":t[14]||(t[14]=e=>i.getOffers())},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])):I("",!0)])])])])],32)])}]]),wf={name:"AdminBrokers",data:()=>({createDialog:!1,loading:!0,searchModel:"",item:{name:"",description:"",user_ids:"",manager_percent:""},offerHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Managers",sortable:!1,value:"managers"},{text:"Manager percent",sortable:!1,value:"manager_percent"},{text:"Actions",sortable:!1,value:"action"}],filterValues:{},rowsPerPage:25,placement:"top",page:1}),provide:function(){return{getItems:this.getItems}},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getUsersSelect(["affiliate_manager"])},methods:{...Se(["getItemsPagination","getUsersSelect"]),checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.searchModel,this.getItems(1)}),500),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},deleteItem(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deletePartner",e).then((()=>{this.loading=!1,alert("Successfully!")})).catch((()=>this.loading=!1)))},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1,this.item={}},create(){let e=this.item;this.$store.dispatch("createPartner",e).then((()=>{this.createDialog=!1,this.item={},this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},test(){},getItems(e=1){this.loading=!0;let t=this.filterValues;this.$store.dispatch("getItemsPagination",{path:"partners",filtersValues:t,page:e}).then((()=>this.loading=!1))}},watch:{page(){this.getItems(this.page)},searchModel(){this.checkSearchStr()}},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","currentPartner","getRole"])}},Vf={class:"list-flex-toolbar flex-list-v1"},Pf={key:0},xf={key:1},Cf=V("span",{class:"headline"},"Create Broker",-1);const If=fe(wf,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=$("v-selects"),v=$("v-form"),b=$("v-col"),S=$("v-row"),D=$("v-container"),L=$("v-card-text"),T=$("v-spacer"),A=$("v-btn"),O=$("v-card-actions"),F=ft,U=$("v-dialog");return g(),f(j,null,[V("div",Vf,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Broker ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.offerHeader,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-managers":w((e=>[e.managers&&e.managers.length>1?(g(),f("div",Pf,P(e.managers.map((e=>e.name)).join(", ")),1)):e.managers&&1==e.managers.length?(g(),f("div",xf,P(e.managers[0].name),1)):I("",!0)])),"item-action":w((({id:t})=>[x(u,{onView:a=>this.$router.push(`/${e.getRole}/brokers/`+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(U,{modelValue:l.createDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>l.createDialog=e),persistent:"","max-width":"500px","no-click-animation":""},{default:w((()=>[x(F,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[Cf])),_:1}),x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(S,null,{default:w((()=>[x(b,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(v,{ref:"form"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.item.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.item.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Managers")])),_:1}),x(o,null,{default:w((()=>[x(_,{modelValue:l.item.managers,"onUpdate:modelValue":t[3]||(t[3]=e=>l.item.managers=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"append-to-body":"",multiple:"","push-tags":"","close-onSelect":!1,"calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Manager Percent")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.item.manager_percent,"onUpdate:modelValue":t[4]||(t[4]=e=>l.item.manager_percent=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(O,null,{default:w((()=>[x(T),x(A,{color:"#009688",text:"",dark:"",onClick:t[5]||(t[5]=e=>i.createClose())},{default:w((()=>[C("Cancel")])),_:1}),x(A,{color:"#009688",text:"",onClick:t[6]||(t[6]=e=>i.create())},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),Df=m({__name:"VTags",props:{addons:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("div",{class:_(["tags",[t.addons&&"has-addons"]])},[y(e.$slots,"default")],2))}}),Lf={name:"LeadsCampaigns",components:{},data:()=>({datesModel:{start:"",end:""},datesDepModel:{start:"",end:""},loading:!1,filterValues:{},verifyFilter:"",verifyFilterList:["Valid","Invalid"],depositStatus:"",depositStatusList:["Yes","No"],emailModel:"",phoneModel:""}),props:{filters:Array,drawer:Boolean},computed:{...be(["offerFilters","countryFilters","landingNameFilters","partnerFilters","integrationFilters"])},mounted(){},methods:{changeWidth(e){console.log(e)},test(){console.log(32)},getItems(){this.$parent.filterValues=this.filterValues,this.$parent.getItems()},getPartnerFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getPartnerFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getCountryFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOffersCountryFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getIntegrationFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getIntegrationFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getLandingNameFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferLandingNameFilters",{filtersValues:e}).then((()=>{this.loading=!1}))}}},$f={class:"columns is-multiline"},Tf={key:0,class:"column is-3"},Af={key:0,class:"column is-3"},Of={key:0,class:"column is-3"},Ff={key:0,class:"column is-3"},Uf={key:0,class:"column is-3"};const Mf=fe(Lf,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=Nt,u=$("v-list"),c=$("v-col");return a.drawer?(g(),k(c,{key:0,cols:"12 my-3",style:{padding:"0"}},{default:w((()=>[x(u,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",$f,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["campaigns"==a.id?(g(),f("div",Tf,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(r,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.offer_ids=e),t[1]||(t[1]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getOfferFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0)],64)))),128)),(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["funnels"==a.id?(g(),f("div",Af,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,{modelValue:l.filterValues.landing_ids,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.filterValues.landing_ids=e),t[3]||(t[3]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingNameFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0)],64)))),128)),(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["brokers"==a.id?(g(),f("div",Of,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Broker")])),_:1}),x(r,{modelValue:l.filterValues.partner_ids,"onUpdate:modelValue":[t[4]||(t[4]=e=>l.filterValues.partner_ids=e),t[5]||(t[5]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.partnerFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getPartnerFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0)],64)))),128)),(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["countries"==a.id?(g(),f("div",Ff,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Countries")])),_:1}),x(r,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[6]||(t[6]=e=>l.filterValues.country_ids=e),t[7]||(t[7]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getCountryFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0)],64)))),128)),(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["integrations"==a.id?(g(),f("div",Uf,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Integrations")])),_:1}),x(d,null,{default:w((()=>[x(r,{modelValue:l.filterValues.integration_ids,"onUpdate:modelValue":[t[8]||(t[8]=e=>l.filterValues.integration_ids=e),t[9]||(t[9]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.integrationFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getIntegrationFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]),Ef=V("div",{class:"slider"},null,-1),Bf=V("i",{"aria-hidden":"true"},null,-1),zf={key:2,class:"text"},jf=m({__name:"VSwitchBlock",props:{modelValue:{default:!1},label:{default:void 0},color:{default:void 0},thin:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=p(a.modelValue),l=le();return W((()=>a.modelValue),(()=>{s.value=a.modelValue})),(e,i)=>{const o=Wt,r=Ft;return g(),f("div",{class:_([a.label&&"switch-block",a.thin&&a.label&&"thin-switch-block"])},[a.thin?(g(),k(r,{key:0,raw:"",class:_(["thin-switch",[a.color&&`is-${a.color}`]]),tabindex:"0",onKeydown:i[1]||(i[1]=E(B((()=>t("update:modelValue",!a.modelValue)),["prevent"]),["space"]))},{default:w((()=>[x(o,R({modelValue:v(s),"onUpdate:modelValue":i[0]||(i[0]=e=>q(s)?s.value=e:null),type:"checkbox"},v(l)),null,16,["modelValue"]),Ef])),_:1},8,["class"])):(g(),k(r,{key:1,raw:"",class:_(["form-switch",[a.color&&`is-${a.color}`]])},{default:w((()=>[x(o,R({raw:"",checked:a.modelValue,type:"checkbox",class:"is-switch"},e.$attrs,{onChange:i[2]||(i[2]=e=>t("update:modelValue",!a.modelValue))}),null,16,["checked"]),Bf])),_:1},8,["class"])),a.label?(g(),f("div",zf,[x(r,{raw:""},{default:w((()=>[V("span",null,P(a.label),1)])),_:1})])):I("",!0)],2)}}}),Rf={name:"CampaignPopup",props:{item:Object,isLoaderActive:Boolean,action:String},components:{},data:()=>({paymentType:[{id:1,name:"CPL"},{id:2,name:"CPA"},{id:3,name:"CPA + CRG"}],isSendLoaderActive:!1,statuses:[{id:0,name:"Pending"},{id:1,name:"Active"},{id:2,name:"Rejected"}]}),computed:{...be(["path","dialogCampaign","integrationsSelect","partnersSelect","countriesSelect","sourcesSelect","landingNamesSelect","usersSelect"])},mounted(){},watch:{dialogCampaign(e){e&&(this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect())}},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getLandingNamesSelect"]),create(){let e=this.globalCallback(this.item.countries),t=this.globalCallback(this.item.sources),a=this.globalCallback(this.item.landing_names),s=this.item.payment_type_id,l=this.item.pay_percent,i=this.item.weight;this.isSendLoaderActive=!0,this.$store.dispatch("createOffer",{item:this.item,countries:e,sources:t,landings:a,payment_type_id:s,pay_percent:l,weight:i}).then((e=>{this.$store.commit("disableDialogCampaignPopup"),this.disabled=!0,this.edit=!1,this.$router.push(`/${this.path}/campaigns/${e.data.data.id}`)})).finally((()=>this.isSendLoaderActive=!1))},save(){let e=this.globalCallback(this.item.countries),t=this.globalCallback(this.item.sources),a=this.globalCallback(this.item.landing_names),s=this.item.payment_type_id,l=this.item.pay_percent,i=this.item.weight;this.loading=!0,this.$store.dispatch("updateOffer",{offerId:this.item.id,countries:e,sources:t,landings:a,payment_type_id:s,pay_percent:l,weight:i,is_active:this.item.is_active}).finally((()=>{this.$store.commit("disableDialogCampaignPopup")}))},onSubmit(){"edit"==this.action?this.save():this.create()},disableCampaignPopup(){this.$store.commit("disableDialogCampaignPopup"),this.isSendLoaderActive=!1}}},Nf=e=>(N("data-v-0af9c3b5"),e=e(),H(),e),Hf={class:"form-outer"},Wf={class:"form-header stuck-header"},Yf={class:"form-header-inner"},Gf={class:"left"},qf={key:0},Jf={key:1},Kf={key:2},Xf={class:"right"},Zf={class:"buttons"},Qf={class:"form-body"},ey={class:"form-fieldset"},ty={class:"columns is-multiline"},ay={class:"column is-4"},sy={class:"column is-4"},ly={class:"column is-4"},iy={class:"column is-4"},oy={class:"column is-4"},ry={class:"h3-tooltip"},ny=[Nf((()=>V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)))],dy={class:"column is-4"},uy={class:"column is-4",position:"relative"},cy={class:"column is-4"},my={class:"column is-4"},py={class:"column is-4"},hy={class:"column is-4"},gy={class:"column is-4"},fy={class:"form-fieldset"},yy=Nf((()=>V("div",{class:"fieldset-heading"},[V("h4",null,"Payments")],-1))),_y={class:"column is-4"};const vy=fe(Rf,[["render",function(e,t,a,s,l,i){const o=bt,r=Ft,n=Wt,d=Nt,u=Et,c=$("v-selects"),m=Qr,p=$("v-tooltip"),h=jf,y=Cr,_=$("v-dialog");return g(),k(_,{modelValue:e.dialogCampaign,"onUpdate:modelValue":t[15]||(t[15]=t=>e.dialogCampaign=t),persistent:"",class:"lead-dialog",style:{"max-width":"1440px"}},{default:w((()=>[x(y,{size:"large",active:a.isLoaderActive},{default:w((()=>[V("form",{class:"form-layout",onSubmit:t[14]||(t[14]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[V("div",Hf,[V("div",Wf,[V("div",Yf,[V("div",Gf,["create"==a.action?(g(),f("h3",qf,"Create Campaign")):"edit"==a.action?(g(),f("h3",Jf,"Edit Campaign")):(g(),f("h3",Kf,"Duplicate Campaign"))]),V("div",Xf,[V("div",Zf,[x(o,{icon:"lnir lnir-close rem-100",onClick:t[0]||(t[0]=e=>i.disableCampaignPopup()),light:"","dark-outlined":""},{default:w((()=>[C(" Close ")])),_:1}),"edit"==a.action?(g(),k(o,{key:0,type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})):(g(),k(o,{key:1,type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Create ")])),_:1}))])])])]),V("div",Qf,[V("div",ey,[V("div",ty,[V("div",ay,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Name")])),_:1}),x(d,{icon:"feather:user"},{default:w((()=>[x(n,{type:"text",modelValue:a.item.name,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.name=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",sy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Partner")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.partner_id,"onUpdate:modelValue":t[2]||(t[2]=e=>a.item.partner_id=e),reduce:e=>e.id,label:"name",options:e.partnersSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",ly,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Integration")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.integration_id,"onUpdate:modelValue":t[3]||(t[3]=e=>a.item.integration_id=e),reduce:e=>e.id,label:"name",options:e.integrationsSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",iy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Funnels")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.landing_names,"onUpdate:modelValue":t[4]||(t[4]=e=>a.item.landing_names=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",oy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Countries")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.countries,"onUpdate:modelValue":t[5]||(t[5]=e=>a.item.countries=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,multiple:"","push-tags":"",closeOnSelect:!1},{option:w((e=>[V("h3",ry,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(p,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),ny,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(m,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",dy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Sources")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.sources,"onUpdate:modelValue":t[6]||(t[6]=e=>a.item.sources=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",uy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Status")])),_:1}),x(d,{class:"relative"},{default:w((()=>[x(c,{modelValue:a.item.is_active,"onUpdate:modelValue":t[7]||(t[7]=e=>a.item.is_active=e),reduce:e=>e.id,label:"name",options:l.statuses,clearable:!1},{"open-indicator":w((({attributes:e})=>[V("span",R({class:"multiselect-caret"},e),null,16)])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",cy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Daily Cap")])),_:1}),x(d,null,{default:w((()=>[x(n,{modelValue:a.item.daily_cap,"onUpdate:modelValue":t[8]||(t[8]=e=>a.item.daily_cap=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",my,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Total Cap")])),_:1}),x(d,null,{default:w((()=>[x(n,{modelValue:a.item.total_cap,"onUpdate:modelValue":t[9]||(t[9]=e=>a.item.total_cap=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",py,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Weight Cap")])),_:1}),x(d,null,{default:w((()=>[x(n,{modelValue:a.item.weight,"onUpdate:modelValue":t[10]||(t[10]=e=>a.item.weight=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",hy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Time Cap")])),_:1}),x(d,null,{default:w((()=>[x(h,{modelValue:a.item.custom_cap,"onUpdate:modelValue":t[11]||(t[11]=e=>a.item.custom_cap=e),label:"Сap control"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",gy,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Black List percent")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:a.item.black_list_percent,"onUpdate:modelValue":t[12]||(t[12]=e=>a.item.black_list_percent=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("div",fy,[yy,V("div",_y,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Payment type")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:a.item.payment_type_id,"onUpdate:modelValue":t[13]||(t[13]=e=>a.item.payment_type_id=e),reduce:e=>e.id,label:"name",options:l.paymentType,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])])])])],32)])),_:1},8,["active"])])),_:1},8,["modelValue"])}],["__scopeId","data-v-0af9c3b5"]]),by={name:"CampaignTable",components:{"filter-popup":Mf,CampaignPopup:vy},data:()=>({searchModel:"",optionsReactive:d({}),placement:"top",loading:!0,selected:!1,drawer:!1,statuses:[{id:0,name:"Pending"},{id:1,name:"Active"},{id:2,name:"Rejected"}],filterValues:{search:"",campaigns_type:1},rowsPerPage:25,perPages:[25,50,100],page:1,createDialog:!1,buttonLoading:!0,isLoaderActive:!1,isActive:1,campaigns_type:1,actionCampaign:"create",newCampaign:{},editCampaign:null}),props:["headers","filters"],provide:function(){return{getItems:this.getItems}},mounted(){this.getItems()},methods:{...Se(["getItemsPagination","getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getLandingNamesSelect"]),openFilters(){this.drawer=!this.drawer},withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},changeStatus(e,t){this.disabled=!0,this.editCampaign=null,this.$store.dispatch("offerActivityToggle",{item:e,value:t}).then((()=>{this.disabled=!1;for(var a=0;a<this.itemsPagination.length;a++)if(this.itemsPagination[a].id==e.id){this.itemsPagination[a].is_active=t;break}this.getItems(this.page)})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&("affiliate-manager"!=this.path?this.$store.dispatch("deleteOffer",e).then((()=>{alert("Successfully!"),this.getItems(this.page)})):alert("You have no such permission!"))},checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.searchModel,this.getItems(1)}),500),getItems(e=1){let t=this.filterValues,a=this.rowsPerPage;t.campaigns_type=this.campaigns_type,this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"offers",page:e,rowsPerPage:a,filtersValues:t}).then((()=>{this.loading=!1,this.getCampaignsCountsByType()}))},getCampaignsByType(e=1){"all"==e?(this.campaigns_type=null,this.filterValues.campaigns_type=null):(this.campaigns_type=e,this.filterValues.campaigns_type=e),this.isActive=e,this.page=1,this.getItems(1)},getCampaignsCountsByType(){let e=this.filterValues;e.campaigns_type=null,this.$store.dispatch("getCampaignsCounts",{filtersValues:e}).finally((()=>{this.buttonLoading=!1}))},openCampaignPopup(e,t=null){"duplicate"==e&&t?(this.actionCampaign="duplicate",this.getCurrentCampaign(t)):(this.actionCampaign="create",this.newCampaign={},this.$store.commit("enableDialogCampaignPopup"))},getCurrentCampaign(e){this.$store.dispatch("getCurrentCampaign",e).then((()=>{this.newCampaign=this.currentCampaign,this.isLoaderActive=!0,this.$store.commit("enableDialogCampaignPopup")})).finally((()=>{this.isLoaderActive=!1}))},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},editInput(e){for(var t=0;t<e.countries.length;t++)e.countries[t].ISO_2=e.countries[t].name;this.editCampaign=e},updateCampaign(){this.$store.commit("setEditedOffer",this.editCampaign);let e=this.globalCallback(this.editCampaign.countries),t=this.globalCallback(this.editCampaign.sources),a=this.globalCallback(this.editCampaign.landing_names),s=this.editCampaign.payment_type_id,l=this.editCampaign.pay_percent,i=this.editCampaign.weight;this.loading=!0,this.$store.dispatch("updateOffer",{offerId:this.editCampaign.id,countries:e,sources:t,landings:a,payment_type_id:s,pay_percent:l,weight:i}).then((()=>{this.getItems(this.page)})).finally((()=>{this.loading=!1,this.editCampaign=null}))}},watch:{page(){this.getItems(this.page)},searchModel(){this.checkSearchStr()}},computed:{...be(["path","newItem","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","integrationsSelect","partnersSelect","countriesSelect","sourcesSelect","landingNamesSelect","campaignsCounts","currentCampaign","offerEdited"])}},Sy={class:"list-flex-toolbar flex-list-v1"},ky={class:"v-flex flex-pagination top-pagination pagination is-rounded mb-0",style:{"justify-content":"space-between","align-items":"center"}},wy={class:"buttons mb-0"},Vy={class:"my-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Py={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)"}},xy={key:0},Cy={key:1},Iy={class:"flex-start status-button choose_filter mb-2"},Dy=["onDblclick"],Ly=["onDblclick"],$y=["onDblclick"],Ty={key:0,class:"table-cap",style:{"font-size":"10px"}},Ay={key:0},Oy=V("b",null,"Mon",-1),Fy={key:1},Uy=V("b",null,"Mon",-1),My={key:2},Ey=V("b",null,"Tue",-1),By={key:3},zy=V("b",null,"Tue",-1),jy={key:4},Ry=V("b",null,"Wed",-1),Ny={key:5},Hy=V("b",null,"Wed",-1),Wy={key:6},Yy=V("b",null,"Thu",-1),Gy={key:7},qy=V("b",null,"Thu",-1),Jy={key:8},Ky=V("b",null,"Fri",-1),Xy={key:9},Zy=V("b",null,"Fri",-1),Qy={key:10},e_=V("b",null,"Sat",-1),t_={key:11},a_=V("b",null,"Sat",-1),s_={key:12},l_=V("b",null,"Sun",-1),i_={key:13},o_=V("b",null,"Sun",-1),r_={key:1},n_={class:"h3-tooltip"},d_=[V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)],u_={key:1},c_={key:0},m_={key:1},p_={key:0},h_={key:0},g_={key:1},f_={key:0},y_={key:1},__=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),v_={class:"my-3",style:{display:"flex","justify-content":"space-between","align-items":"center"}},b_={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)"}},S_={key:0},k_={key:1};const w_=fe(by,[["render",function(e,t,a,s,l,i){const o=bt,r=xi,n=yt,d=Nt,u=Et,c=$("Multiselect"),m=$("filter-popup"),p=nr,h=$("v-btn"),y=Wt,v=$("v-selects"),b=Qr,S=$("v-tooltip"),D=Df,L=xr,T=$("EasyDataTable"),A=$("CampaignPopup"),O=te("tooltip");return g(),f("div",null,[V("div",Sy,[x(n,{class:_({is_edit_table:l.editCampaign})},{default:w((()=>[l.editCampaign?(g(),k(o,{key:0,class:"sticky-top-4 r-170",color:"danger",icon:"feather:x",elevated:"",onClick:t[0]||(t[0]=e=>l.editCampaign=null)},{default:w((()=>[C(" Cancel ")])),_:1})):I("",!0),l.editCampaign?(g(),k(o,{key:1,class:"sticky-top-4 r-70",color:"primary",icon:"feather:check",elevated:"",onClick:t[1]||(t[1]=e=>i.updateCampaign())},{default:w((()=>[C(" Save ")])),_:1})):I("",!0),x(o,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[2]||(t[2]=e=>i.openCampaignPopup("create"))},{default:w((()=>[C(" Add Campaigns ")])),_:1}),x(r,{icon:"feather:filter",color:"primary",onClick:t[3]||(t[3]=e=>i.openFilters()),style:{"margin-bottom":"0"}})])),_:1},8,["class"])]),V("div",ky,[x(u,{class:"mb-0"},{default:w((()=>[x(d,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),V("div",wy,[x(u,{class:"h-hidden-mobile"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[5]||(t[5]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[6]||(t[6]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),x(m,{drawer:l.drawer,filters:a.filters},null,8,["drawer","filters"]),V("div",Vy,[V("div",Py,[C(" Showing "),1==l.page?(g(),f("span",xy,P(l.page),1)):(g(),f("span",Cy,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(p,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[7]||(t[7]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),V("div",Iy,[x(h,{loading:l.buttonLoading,class:_([[{active:"all"==l.isActive}],"mt-1 mr-1"]),onClick:t[8]||(t[8]=e=>i.getCampaignsByType("all"))},{default:w((()=>[C(" All - "+P(e.campaignsCounts.allCount),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:1==l.isActive}],"mt-1 mr-1"]),onClick:t[9]||(t[9]=e=>i.getCampaignsByType(1))},{default:w((()=>[C(" Active - "+P(e.campaignsCounts.activeCount),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:"custom_cap"==l.isActive}],"mt-1 mr-1"]),onClick:t[10]||(t[10]=e=>i.getCampaignsByType("custom_cap"))},{default:w((()=>[C(" Cap Control - "+P(e.campaignsCounts.capControlCount),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:0==l.isActive}],"mt-1 mr-1"]),onClick:t[11]||(t[11]=e=>i.getCampaignsByType(0))},{default:w((()=>[C(" Pending - "+P(e.campaignsCounts.pendingCount),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:2==l.isActive}],"mt-1 mr-1"]),onClick:t[12]||(t[12]=e=>i.getCampaignsByType(2))},{default:w((()=>[C(" Rejected - "+P(e.campaignsCounts.rejectedCount),1)])),_:1},8,["loading","class"])]),x(T,{headers:a.headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,class:"campaign-table"},{"item-daily_cap":w((e=>[Y((g(),f("div",null,[l.editCampaign&&l.editCampaign.id==e.id?(g(),k(u,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[x(y,{type:"text",modelValue:l.editCampaign.daily_cap,"onUpdate:modelValue":t[13]||(t[13]=e=>l.editCampaign.daily_cap=e)},null,8,["modelValue"])])),_:1})])),_:1})):(g(),f("div",{key:1,onDblclick:t=>i.editInput(e),class:"cursor-pointer"},P(e.daily_cap),41,Dy))])),[[O,"Double click to edit"]])])),"item-weight":w((e=>[Y((g(),f("div",null,[l.editCampaign&&l.editCampaign.id==e.id?(g(),k(u,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[x(y,{type:"text",modelValue:l.editCampaign.weight,"onUpdate:modelValue":t[14]||(t[14]=e=>l.editCampaign.weight=e)},null,8,["modelValue"])])),_:1})])),_:1})):(g(),f("div",{key:1,onDblclick:t=>i.editInput(e),class:"cursor-pointer"},P(e.weight),41,Ly))])),[[O,"Double click to edit"]])])),"item-custom_cap":w((e=>[V("div",{onDblclick:t=>i.editInput(e),class:"cursor-pointer"},[1==e.custom_cap?(g(),f("div",Ty,[e.is_mon?(g(),f("div",Ay,[Oy,C(" "+P(e.mon_start_cap)+" - "+P(e.mon_end_cap),1)])):(g(),f("div",Fy,[Uy,C(" - ")])),e.is_tue?(g(),f("div",My,[Ey,C(" "+P(e.tue_start_cap)+" - "+P(e.tue_end_cap),1)])):(g(),f("div",By,[zy,C(" - ")])),e.is_wed?(g(),f("div",jy,[Ry,C(" "+P(e.wed_start_cap)+" - "+P(e.wed_end_cap),1)])):(g(),f("div",Ny,[Hy,C(" - ")])),e.is_thu?(g(),f("div",Wy,[Yy,C(" "+P(e.thu_start_cap)+" - "+P(e.thu_end_cap),1)])):(g(),f("div",Gy,[qy,C(" - ")])),e.is_fri?(g(),f("div",Jy,[Ky,C(" "+P(e.fri_start_cap)+" - "+P(e.fri_end_cap),1)])):(g(),f("div",Xy,[Zy,C(" - ")])),e.is_sat?(g(),f("div",Qy,[e_,C(" "+P(e.sat_start_cap)+" - "+P(e.sat_end_cap),1)])):(g(),f("div",t_,[a_,C(" - ")])),e.is_sun?(g(),f("div",s_,[l_,C(" "+P(e.sun_start_cap)+" - "+P(e.sun_end_cap),1)])):(g(),f("div",i_,[o_,C(" - ")]))])):(g(),f("div",r_," - "))],40,$y)])),"item-is_active":w((e=>[x(u,null,{default:w((()=>[x(d,null,{default:w((()=>[x(v,{class:"campaign-change-status",style:{width:"130px"},modelValue:e.is_active,"onUpdate:modelValue":[t=>e.is_active=t,t=>i.changeStatus(e,e.is_active)],reduce:e=>e.id,label:"name",options:l.statuses,"append-to-body":"",clearable:!1},{"open-indicator":w((({attributes:e})=>[V("span",R({class:"multiselect-caret"},e),null,16)])),_:2},1032,["modelValue","onUpdate:modelValue","reduce","options"])])),_:2},1024)])),_:2},1024)])),"item-countries":w((a=>[l.editCampaign&&l.editCampaign.id==a.id?(g(),k(u,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[x(v,{modelValue:l.editCampaign.countries,"onUpdate:modelValue":t[15]||(t[15]=e=>l.editCampaign.countries=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"onSearch:focus":e.getCountriesSelect,multiple:"",closeOnSelect:!1,"append-to-body":""},{option:w((e=>[V("h3",n_,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(S,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),d_,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(b,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:2},1032,["modelValue","reduce","options","onSearch:focus"])])),_:2},1024)])),_:2},1024)):Y((g(),f("div",u_,[null!=a.countries?(g(),k(D,{key:0,onDblclick:e=>i.editInput(a)},{default:w((()=>[a.countries.length>1?(g(),f("div",c_,[(g(!0),f(j,null,K(a.countries,((e,t)=>(g(),k(b,{key:t,label:e.name},null,8,["label"])))),128))])):(g(),k(b,{key:1,label:a.countries[0].name},null,8,["label"]))])),_:2},1032,["onDblclick"])):I("",!0)])),[[O,"Double click to edit"]])])),"item-sources":w((a=>[l.editCampaign&&l.editCampaign.id==a.id?(g(),k(u,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[x(v,{modelValue:l.editCampaign.sources,"onUpdate:modelValue":t[16]||(t[16]=e=>l.editCampaign.sources=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,multiple:"",closeOnSelect:!1,"onSearch:focus":e.getSourcesSelect,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])),_:1})):Y((g(),f("div",m_,[null!=a.sources?(g(),k(D,{key:0,onDblclick:e=>i.editInput(a)},{default:w((()=>[a.sources.length>1?(g(),f("div",p_,[(g(!0),f(j,null,K(a.sources,((e,t)=>(g(),k(b,{key:t,label:e.name},null,8,["label"])))),128))])):(g(),k(b,{key:1,label:a.sources[0].name},null,8,["label"]))])),_:2},1032,["onDblclick"])):I("",!0)])),[[O,"Double click to edit"]])])),"item-integration":w((({integration:e})=>[e?(g(),f("span",h_,P(e.name),1)):I("",!0)])),"item-landing_names":w((a=>[l.editCampaign&&l.editCampaign.id==a.id?(g(),k(u,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[x(v,{modelValue:l.editCampaign.landing_names,"onUpdate:modelValue":t[17]||(t[17]=e=>l.editCampaign.landing_names=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,"onSearch:focus":e.getLandingNamesSelect,multiple:"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])),_:1})):Y((g(),f("div",g_,[null!=a.landing_names?(g(),k(D,{key:0,onDblclick:e=>i.editInput(a),class:"cursor-pointer"},{default:w((()=>[a.landing_names.length>1?(g(),f("div",f_,[(g(!0),f(j,null,K(a.landing_names,((e,t)=>(g(),k(b,{key:t,label:e.name},null,8,["label"])))),128))])):(g(),f("div",y_,[a.landing_names[0]?(g(),k(b,{key:0,label:a.landing_names[0].name},null,8,["label"])):I("",!0)]))])),_:2},1032,["onDblclick"])):I("",!0)])),[[O,"Double click to edit"]])])),"item-action":w((({id:t})=>[x(L,{onView:a=>this.$router.push("/"+e.path+"/campaigns/"+t),showDuplicate:!0,onDuplicate:e=>i.openCampaignPopup("duplicate",t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onDuplicate","onRemove"])])),"empty-message":w((()=>[__])),_:1},8,["headers","items","loading"]),V("div",v_,[V("div",b_,[C(" Showing "),1==l.page?(g(),f("span",S_,P(l.page),1)):(g(),f("span",k_,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(p,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[18]||(t[18]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),l.newCampaign?(g(),k(A,{key:0,isLoaderActive:l.isLoaderActive,item:l.newCampaign,action:l.actionCampaign},null,8,["isLoaderActive","item","action"])):I("",!0)])}]]),V_={name:"Campaigns",components:{CampaignTable:w_},setup(){Xr().setPageTitle("Campaigns")},data:()=>({offerHeader:[{text:"ID",sortable:!1,value:"id",width:20},{text:"Name",sortable:!1,value:"name",width:100},{text:"Daily Cap",sortable:!1,value:"daily_cap",width:20},{text:"Weight",sortable:!1,value:"weight",width:20},{text:"Time Cap",sortable:!1,value:"custom_cap",width:140},{text:"Broker",sortable:!1,value:"partner.name",width:20},{text:"Integration",sortable:!1,value:"integration",width:20},{text:"Funnel",sortable:!1,value:"landing_names",width:200},{text:"Geo",sortable:!1,value:"countries",width:150},{text:"Sources",sortable:!1,value:"sources",width:150},{text:"Status",sortable:!1,value:"is_active",width:20},{text:"Created At",sortable:!1,value:"date",width:20},{text:"Actions",sortable:!1,value:"action",width:20}],offerFilters:[{id:"campaigns"},{id:"funnels"},{id:"brokers"},{id:"integrations"},{id:"countries"}]}),mounted(){s({title:this.$route.meta.title})}},P_=V("div",{class:"campaign_page d-none"},null,-1);const x_=fe(V_,[["render",function(e,t,a,s,l,i){const o=$("CampaignTable");return g(),f(j,null,[P_,x(o,{headers:l.offerHeader,filters:l.offerFilters},null,8,["headers","filters"])],64)}]]),C_={class:"section-placeholder"},I_={class:"placeholder-content"},D_={class:"dark-inverted"},L_={key:0},$_=m({__name:"VPlaceholderSection",props:{title:{},subtitle:{default:void 0}},setup(e){const t=e;return(e,a)=>(g(),f("div",C_,[V("div",I_,[y(e.$slots,"image"),V("h3",D_,P(t.title),1),t.subtitle?(g(),f("p",L_,P(t.subtitle),1)):I("",!0),y(e.$slots,"action")])]))}}),T_=["src"],A_=["data-icon"],O_=m({__name:"VIconWrap",props:{icon:{default:void 0},picture:{default:void 0},color:{default:void 0},size:{default:void 0},dark:{default:"3"},hasLargeIcon:{type:Boolean},hasBackground:{type:Boolean},placeholder:{type:Boolean},darkPrimary:{type:Boolean},darkCardBordered:{type:Boolean}},setup(e){const t=e,a=u((()=>t.icon&&-1!==t.icon.indexOf(":")));return(e,s)=>(g(),f("div",{class:_(["icon-wrap",[t.color&&!t.hasBackground&&`has-text-${t.color}`,t.color&&t.hasBackground&&`has-background-${t.color}`,t.color&&"white"!==t.color&&t.hasBackground&&"has-text-white",t.color&&"white"===t.color&&t.hasBackground&&"has-text-black",t.size&&`is-${t.size}`,t.dark&&!t.hasBackground&&`is-dark-bg-${t.dark}`,t.darkPrimary&&"is-dark-primary",t.darkCardBordered&&"is-dark-card-bordered",t.hasLargeIcon&&"has-large-icon",t.picture&&"has-img",t.placeholder&&"is-placeholder"]])},[t.picture?(g(),f("img",{key:0,src:t.picture,alt:"",onErrorOnce:s[0]||(s[0]=e=>v(Ci)(32))},null,40,T_)):v(a)?(g(),f("i",{key:1,"aria-hidden":"true",class:"iconify","data-icon":t.icon},null,8,A_)):t.icon?(g(),f("i",{key:2,"aria-hidden":"true",class:_(t.icon)},null,2)):I("",!0),y(e.$slots,"after")],2))}}),F_={name:"User",props:{item:Object},data:()=>({disableLeadInputs:!0,text:"",user:"",color:"",serverErrors:{},popupResend:!1,offerAccess:null,date:new Date,timezone:""}),computed:{...be(["dialogUserBalance","usersSelect","partnersSelect"]),ipErrors(){const e=[];return this.$v.item.ip.$dirty?(!this.$v.item.ip.required&&e.push("Укажите ip"),e):e},dateErrors(){const e=[];return this.$v.item.date.$dirty?(!this.$v.item.date.required&&e.push("Укажите дату"),e):e},phoneErrors(){const e=[];return this.$v.item.phone.$dirty?(!this.$v.item.phone.required&&e.push("Укажите телефон"),!this.$v.item.phone.minLength&&e.push("Не менее 8 символов"),!this.$v.item.phone.maxLength&&e.push("Не более 17 символов"),!this.$v.item.phone.serverFailed&&this.hasServerError("phone")&&e.push(this.serverErrors.phone[0]),e):e},emailErrors(){const e=[];return this.$v.item.email.$dirty?(!this.$v.item.email.email&&e.push("Некорректный email"),!this.$v.item.email.required&&e.push("Укажите email"),!this.$v.item.email.minLength&&e.push("Не менее 3 символов"),!this.$v.item.email.maxLength&&e.push("Не более 50 символов"),!this.$v.item.email.serverFailed&&this.hasServerError("email")&&e.push(this.serverErrors.email[0]),e):e},nameErrors(){const e=[];return this.$v.item.full_name.$dirty?(!this.$v.item.full_name.required&&e.push("Укажите название"),!this.$v.item.full_name.minLength&&e.push("Не менее 3 символов"),!this.$v.item.full_name.maxLength&&e.push("Не более 50 символов"),e):(console.log(e),e)},landingErrors(){const e=[];return this.$v.item.landing.$dirty?(!this.$v.item.landing.required&&e.push("Укажите url"),e):e},userErrors(){const e=[];return this.$v.item.user.$dirty?(!this.$v.item.user.required&&e.push("Укажите юзера"),e):e},landingNameErrors(){const e=[];return this.$v.item.landing_name.$dirty?(!this.$v.item.landing_name.required&&e.push("Укажите Лендинг"),e):e},countryErrors(){const e=[];return this.$v.item.country.$dirty?(!this.$v.item.country.required&&e.push("Укажите Страну"),e):e},offerErrors(){const e=[];return this.$v.item.offer.$dirty?(!this.$v.item.offer.required&&e.push("Укажите Офер"),e):e},statusErrors(){const e=[];return this.$v.item.status.$dirty?(!this.$v.item.status.required&&e.push("Укажите Статус"),e):e}},mounted(){this.getPartnersSelect()},methods:{...Se(["getUsersSelect","getPartnersSelect"]),closeBalance(){this.$store.commit("disableDialogUserBalance")},saveBalance(e){this.$store.dispatch("updateUserBalance",{id:this.item.id,balance:this.item.newBalance,type:e}).then((e=>{this.$store.commit("disableDialogUserBalance")}))},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},disablePopupLead(){this.$store.commit("disableDialogUser")},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},saveUser(){},updateUser(){let e=this.item.id,t=this.globalCallback(this.item.partners),a=this.globalCallback(this.item.users);this.$store.dispatch("updateUser",{userId:e,data:{userId:this.item.id,email:this.item.email,users:a,manager_id:this.item.manager_id,percent:this.item.percent,show_no_send_leads:this.item.show_no_send_leads,create_postback_url:this.item.create_postback_url,deposit_postback_url:this.item.deposit_postback_url,partners:t}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors})).finally((()=>{this.$parent.getItems()}))}}},U_=V("span",{class:"headline"},"Изменить баланс",-1),M_={style:{display:"block","font-weight":"600"}},E_={style:{display:"block",width:"100%"}};const B_={name:"UserTable",components:{"user-balance":fe(F_,[["render",function(e,t,a,s,l,i){const o=$("v-card-title"),r=Ft,n=Wt,d=Nt,u=Et,c=$("v-form"),m=$("v-row"),p=$("v-container"),h=$("v-card-text"),f=$("v-spacer"),y=$("v-btn"),_=$("v-card-actions"),v=ft,b=$("v-dialog");return g(),k(b,{modelValue:e.dialogUserBalance,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialogUserBalance=t),persistent:"","max-width":"500px"},{default:w((()=>[x(v,{color:"#1E272C"},{default:w((()=>[x(o,null,{default:w((()=>[U_])),_:1}),x(h,null,{default:w((()=>[x(p,null,{default:w((()=>[x(m,null,{default:w((()=>[V("span",M_,"Текущий баланс: "+P(a.item.balance),1),V("div",E_,[x(c,{ref:"form"},{default:w((()=>[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Введите баланс для снятие или пополнения")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.newBalance,"onUpdate:modelValue":t[0]||(t[0]=e=>a.item.newBalance=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512)])])),_:1})])),_:1})])),_:1}),x(_,null,{default:w((()=>[x(f),x(y,{color:"#009688",text:"",dark:"",onClick:i.closeBalance},{default:w((()=>[C("Отменить")])),_:1},8,["onClick"]),x(y,{color:"#009688",text:"",dark:"",onClick:t[1]||(t[1]=e=>i.saveBalance("credit"))},{default:w((()=>[C("Пополнить")])),_:1}),x(y,{color:"#009688",text:"",dark:"",onClick:t[2]||(t[2]=e=>i.saveBalance("debit"))},{default:w((()=>[C("Cнять")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]])},data:()=>({passwordFieldType:"password",newToken:{},openTokenModal:!1,buttonLoading:!0,isActive:{id:0,name:"all",pretty_name:"All"},source:"",searchModel:"",login:"",email:"",password:"",roles:"",createDialog:!1,optionsReactive:d({}),loading:!0,selected:!1,filterValues:{},rowsPerPage:25,perPages:[25,50,100],page:1}),props:["headers"],provide:function(){return{getItems:this.getItems}},mounted(){this.getItems(),this.getRolesSelect()},methods:{...Se(["getItemsPagination","getRolesSelect"]),togglePasswordVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},generatePassword(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+~`|}{[]:;?><,./-=";let t="";for(let a=0;a<12;a++){t+=e[Math.floor(91*Math.random())]}console.log(t),this.password=t},generateToken(e){this.openTokenModal=!0,this.newToken=e},updateUserToken(){let e=this.newToken;this.$store.dispatch("generateNewToken",e).then((e=>{setTimeout((()=>{navigator.clipboard.writeText(e.data.data),this.openTokenModal=!1}),0)}))},async copyText(e){await navigator.clipboard.writeText(e).then((()=>{console.log("Текст успешно скопирован в буфер обмена")})).catch((e=>{console.error("Не удалось скопировать текст в буфер обмена:",e)}))},checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.searchModel,this.getItems(1)}),500),getCurrentUserBalance(e){this.$store.dispatch("getCurrentUserBalance",e).then((()=>{this.$store.commit("enableDialogUserBalance")}))},savePassword(e){let t=prompt("Enter a new password:","");t&&(t.length<8?alert("The password must contain at least 8 characters"):this.$store.dispatch("resetUserPassword",{userId:e,password:t}).then((()=>{alert("Successfully!")})))},deleteItem(e){confirm("Are you sure you want to delete this user?")&&(this.loading=!0,this.$store.dispatch("deleteUser",e).then((()=>{alert("Successfully!")})).finally((()=>this.loading=!1)))},create(){let e={name:this.login,email:this.email,password:this.password,role_id:this.roles,source:this.source};this.$store.dispatch("createUser",e).then((()=>{this.createDialog=!1,this.login="",this.email="",this.password="",this.role_id="",this.source=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems()},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},getUsersByRole(){this.filterValues.role_id=this.isActive,this.page=1,this.getItems(1)},getUserRolesCounts(){let e=this.filterValues;e.role_id=null,this.$store.dispatch("getUserRolesCounts",{filtersValues:e}).finally((()=>{this.buttonLoading=!1}))},getItems(e=1){let t=this.filterValues;t.role_id=this.isActive;let a=this.rowsPerPage;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"users",filtersValues:t,rowsPerPage:a,page:e}).then((()=>this.loading=!1)),"admin"!=this.getRole&&"support"!=this.getRole||this.getUserRolesCounts()}},watch:{page(){this.getItems(this.page)},searchModel(){this.checkSearchStr()}},computed:{...be(["getRole","getCrmSettings","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","currentPartner","rolesSelect","currentUserBalance","userRolesCounts"])}},z_={class:"list-flex-toolbar flex-list-v1"},j_={key:0,class:"user-component v-flex flex-pagination top-pagination pagination is-rounded"},R_={style:{display:"flex","align-items":"center"}},N_={class:"buttons"},H_={class:"buttons mb-0"},W_={class:"pagination_wrap"},Y_={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},G_={key:0},q_={key:1},J_={class:"pagination_wrap"},K_={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},X_={key:0},Z_={key:1},Q_={class:"modal-form"};const ev=fe(B_,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Nt,d=Et,u=$("v-selects"),c=$("Multiselect"),m=nr,p=O_,h=xr,y=Zo,v=$("EasyDataTable"),b=$("user-balance"),S=$_,D=Hi,L=Ft,T=Wt;return g(),f(j,null,[V("div",z_,[e.totalItemsPagination>=0&&e.getCrmSettings.crmMaxUsers>e.totalItemsPagination?(g(),k(r,{key:0},{default:w((()=>[x(o,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[0]||(t[0]=e=>i.createOpen())},{default:w((()=>[C("Add User")])),_:1})])),_:1})):I("",!0)]),e.rolesSelect?(g(),f("div",j_,[V("div",R_,[x(d,null,{default:w((()=>[x(n,{icon:"feather:search"},{default:w((()=>[Y(V("input",{style:{"min-width":"221px"},"onUpdate:modelValue":t[1]||(t[1]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1})]),V("div",N_,["admin"==e.getRole||"support"==e.getRole?(g(),k(d,{key:0,class:"mb-0"},{default:w((()=>[x(u,{class:"default-select",style:{"min-width":"180px"},modelValue:l.isActive,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.isActive=e),t[3]||(t[3]=e=>i.getUsersByRole())],reduce:e=>e.id,label:"pretty_name",options:e.userRolesCounts,clearable:!1},{"open-indicator":w((({attributes:e})=>[V("span",R({class:"multiselect-caret"},e),null,16)])),_:1},8,["modelValue","reduce","options"])])),_:1})):I("",!0),V("div",H_,[x(d,{class:"h-hidden-mobile"},{default:w((()=>[x(n,null,{default:w((()=>[x(c,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[4]||(t[4]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[5]||(t[5]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])])])):I("",!0),V("div",W_,[V("div",Y_,[C(" Showing "),1==l.page?(g(),f("span",G_,P(l.page),1)):(g(),f("span",q_,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[6]||(t[6]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)]),x(v,{headers:a.headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((({id:t,role:a})=>[x(y,{"column-gap":"3px",style:{"align-items":"center","justify-content":"center"}},{default:w((()=>["admin"==e.getRole||"affiliate_manager"==e.getRole?(g(),f(j,{key:0},[a&&"web_master"==a.name?(g(),k(p,{key:0,style:{cursor:"pointer"},icon:"fas fa-universal-access",onClick:e=>i.generateToken(t),size:"small",dark:"1"},null,8,["onClick"])):I("",!0),x(p,{style:{cursor:"pointer"},icon:"fas fa-user-lock",onClick:e=>i.savePassword(t),size:"small",dark:"1"},null,8,["onClick"]),"admin"==e.getRole?(g(),k(h,{key:1,onView:e=>this.$router.push("/admin/users/"+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])):"affiliate_manager"==e.getRole?(g(),k(h,{key:2,onView:e=>this.$router.push("/affiliate-manager/users/"+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])):I("",!0)],64)):"support"==e.getRole?(g(),f(j,{key:1},["web_master"==a.name?(g(),k(p,{key:0,style:{cursor:"pointer"},icon:"fas fa-universal-access",onClick:e=>i.generateToken(t),size:"small",dark:"1"},null,8,["onClick"])):I("",!0),!a||"admin"!=a.name&&"support"!=a.name&&"affiliate_manager"!=a.name?a&&"admin"!=a.name?(g(),f(j,{key:2},[x(p,{icon:"fas fa-user-lock",onClick:e=>i.savePassword(t),size:"small",dark:"1"},null,8,["onClick"]),x(h,{onView:e=>this.$router.push("/support/users/"+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])],64)):I("",!0):(g(),k(h,{key:1,onView:e=>this.$router.push("/support/users/"+t),"show-remove":!1},null,8,["onView"]))],64)):I("",!0)])),_:2},1024)])),_:1},8,["headers","items","loading"]),V("div",J_,[V("div",K_,[C(" Showing "),1==l.page?(g(),f("span",X_,P(l.page),1)):(g(),f("span",Z_,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[7]||(t[7]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)]),x(b,{item:e.currentUserBalance},null,8,["item"]),x(D,{open:l.openTokenModal,actions:"center",onClose:t[8]||(t[8]=e=>l.openTokenModal=!1)},{content:w((()=>[x(S,{title:"Update User token",subtitle:"Are you sure you want to delete the old token and create a new?"})])),action:w((()=>[x(o,{color:"primary",raised:"",onClick:i.updateUserToken},{default:w((()=>[C(" Confirm ")])),_:1},8,["onClick"])])),_:1},8,["open"]),x(D,{is:"form",open:l.createDialog,title:"New User",size:"standard",actions:"right",onSubmit:t[16]||(t[16]=B((e=>l.createDialog=!1),["prevent"])),onClose:t[17]||(t[17]=e=>l.createDialog=!1)},{content:w((()=>[V("div",Q_,[x(d,null,{default:w((()=>[x(L,null,{default:w((()=>[C("Name *")])),_:1}),x(n,null,{default:w((()=>[x(T,{type:"text",modelValue:l.login,"onUpdate:modelValue":t[9]||(t[9]=e=>l.login=e),placeholder:"Name"},null,8,["modelValue"])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(L,null,{default:w((()=>[C("E-mail *")])),_:1}),x(n,null,{default:w((()=>[x(T,{type:"email",modelValue:l.email,"onUpdate:modelValue":t[10]||(t[10]=e=>l.email=e),placeholder:"Email"},null,8,["modelValue"])])),_:1})])),_:1}),x(d,{class:"password-icon-pos"},{default:w((()=>[x(L,null,{default:w((()=>[C("Password *")])),_:1}),x(n,null,{default:w((()=>[x(T,{type:l.passwordFieldType,modelValue:l.password,"onUpdate:modelValue":t[11]||(t[11]=e=>l.password=e),placeholder:"Password"},null,8,["type","modelValue"]),V("i",{class:_("password"===l.passwordFieldType?"fas fa-eye":"fas fa-eye-slash"),onClick:t[12]||(t[12]=(...e)=>i.togglePasswordVisibility&&i.togglePasswordVisibility(...e)),"aria-hidden":"true"},null,2),V("i",{class:"fas fa-keyboard",onClick:t[13]||(t[13]=(...e)=>i.generatePassword&&i.generatePassword(...e)),"aria-hidden":"true"})])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(L,null,{default:w((()=>[C("Role")])),_:1}),x(u,{modelValue:l.roles,"onUpdate:modelValue":t[14]||(t[14]=e=>l.roles=e),reduce:e=>e.id,label:"name",options:e.rolesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1}),l.roles&&"web_master"==e.rolesSelect[e.rolesSelect.findIndex((e=>e.id==l.roles))].name?(g(),k(d,{key:0},{default:w((()=>[x(L,null,{default:w((()=>[C("Source")])),_:1}),x(n,null,{default:w((()=>[x(T,{type:"text",modelValue:l.source,"onUpdate:modelValue":t[15]||(t[15]=e=>l.source=e),placeholder:"Source"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0)])])),action:w((()=>[x(o,{type:"submit",color:"primary",raised:"",onClick:i.create},{default:w((()=>[C(" Create ")])),_:1},8,["onClick"])])),_:1},8,["open"])],64)}]]);const tv=fe({name:"AdminUsers",components:{UserTable:ev},data:()=>({usersHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Email",sortable:!1,value:"email"},{text:"Role",sortable:!1,value:"role.name"},{text:"Actions",sortable:!1,value:"action"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("UserTable");return g(),k(o,{headers:l.usersHeader},null,8,["headers"])}]]),av="/images/avatars/svg/vuero-1.svg",sv="/images/icons/flags/united-states-of-america.svg",lv={name:"User",data:()=>({active_tab:"info",updateDialogModel:!1,selected:1,isUpdating:!1,notificationData:{cap:{weight:0,time_cap:0,last_time_lead:0}},item:{firstName:"",lastName:"",email:""}}),mounted(){s({title:this.$route.meta.title}),this.getCurrentUser(this.$route.params.id),this.getRolesSelect()},methods:{...Se(["getUsersSelect","getPartnersSelect","getRolesSelect"]),getNotificationData(){this.updateDialogModel=!0},onSubmit(){let e=this.currentUser.id;console.log(this.currentUser.permissions);let t=this.globalCallback(this.currentUser.partners),a=this.globalCallback(this.currentUser.users);this.currentUser.notificationData=this.notificationData;let s={};for(let l in this.currentUser.permissionServices)s[l]=this.globalCallback(this.currentUser.permissionServices[l]);console.log("permissionServices"),console.log(s),this.$store.dispatch("updateUser",{userId:e,data:{name:this.currentUser.firstName+" "+this.currentUser.lastName,userId:this.currentUser.id,email:this.currentUser.email,users:a,manager_id:this.currentUser.manager_id,percent:this.currentUser.percent,show_no_send_leads:this.currentUser.show_no_send_leads,partners:t,traffic:this.currentUser.traffic,role_id:this.currentUser.role_id,show_phone_status:this.currentUser.show_phone_status,telegram_chat:this.currentUser.telegram_chat,notification_ftd:this.currentUser.notification_ftd,notification_domain:this.currentUser.notification_domain,notification_campaign:this.currentUser.notification_campaign,notification_caps:this.currentUser.notification_caps,notificationData:this.notificationData,permissions:{read_funnels:this.currentUser.permissions.read_funnels,read_sources:this.currentUser.permissions.read_sources,read_offer:this.currentUser.permissions.read_offer,show_inject:this.currentUser.permissions.show_inject,show_import:this.currentUser.permissions.show_import,new_lead:this.currentUser.permissions.new_lead},permissionServices:s}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors})).finally((()=>{}))},getCurrentUser(e){this.$store.commit("enableOverlay"),this.$store.dispatch("getCurrentUser",e).then((()=>this.$store.commit("enableDialogUser"))).finally((()=>{this.currentUser.notificationData&&this.currentUser.notificationData.cap&&(this.notificationData.cap.weight=this.currentUser.notificationData.cap.weight??this.notificationData.cap.weight,this.notificationData.cap.time_cap=this.currentUser.notificationData.cap.time_cap??this.notificationData.cap.time_cap,this.notificationData.cap.last_time_lead=this.currentUser.notificationData.cap.last_time_lead??this.notificationData.cap.last_time_lead),this.currentUser.role&&"teamlead"==this.currentUser.role.name||"manager"==this.currentUser.role.name||"manager_p"==this.currentUser.role.name||"affiliate_manager"==this.currentUser.role.name?(this.getPartnersSelect(),"affiliate_manager"==this.currentUser.role.name?this.getUsersSelect(["web_master","buyer","teamlead"]):this.getUsersSelect(["web_master","buyer"])):"web_master"!=this.currentUser.role.name&&"buyer"!=this.currentUser.role.name||this.getUsersSelect(["manager","manager_p","affiliate_manager"])}))}},computed:{...be(["partnersSelect","usersSelect","currentUser","currentUserBalance","rolesSelect","getRole"])},setup(){const e=p(""),t=p(""),a=p(""),s=p(new Date),{y:l}=i();return{companySize:e,businessType:t,productToDemo:a,date:s,isStuck:u((()=>l.value>30))}}},iv={class:"users_form_wrap"},ov={class:"nav"},rv={class:"media-flex-center"},nv=V("div",{class:"v-avatar is-large"},[V("img",{class:"avatar",src:av,alt:""}),V("img",{class:"badge",src:sv,alt:""})],-1),dv={class:"flex-meta"},uv={key:0,class:"buttons"},cv=[V("i",{"aria-hidden":"true",class:"lnil lnil-user-alt"},null,-1),V("span",null,"Personal Info",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],mv=[V("i",{"aria-hidden":"true",class:"lnil lnil-cog"},null,-1),V("span",null,"User settings",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],pv=[V("i",{class:"lnil lnil-notification","aria-hidden":"true"},null,-1),V("span",null,"Notifications",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],hv=[V("i",{class:"lnil lnil-scan","aria-hidden":"true"},null,-1),V("span",null,"Permissions",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],gv={class:"form-outer"},fv={class:"form-header-inner"},yv={class:"left"},_v={class:"right"},vv={class:"buttons"},bv={class:"form-body"},Sv={key:0,class:"form-fieldset"},kv=V("div",{class:"fieldset-heading"},[V("h4",null,"Personal Info"),V("p",null,"This helps us to know you")],-1),wv={class:"columns is-multiline"},Vv={class:"column is-6"},Pv={class:"column is-6"},xv={class:"column is-6"},Cv={class:"column is-6"},Iv={key:1,class:"form-fieldset"},Dv=V("div",{class:"fieldset-heading"},[V("h4",null,"User settings")],-1),Lv={key:0,class:"columns is-multiline"},$v={class:"column is-6"},Tv={key:0,class:"column is-6"},Av={key:1,class:"column is-6"},Ov={key:1,class:"columns is-multiline"},Fv={key:0,class:"column is-6"},Uv={key:1,class:"column is-6"},Mv={key:2,class:"column is-6"},Ev={key:3,class:"column is-6"},Bv={key:4,class:"column is-6"},zv={key:2,class:"form-fieldset"},jv=V("div",{class:"fieldset-heading"},[V("h4",null,"Notifications")],-1),Rv={class:"columns is-multiline"},Nv={class:"column is-6"},Hv=V("div",{class:"fieldset-heading"},[V("h4",null,"Settings")],-1),Wv={class:"columns is-multiline"},Yv={class:"column is-8"},Gv={key:0,class:"column is-8"},qv={key:1,class:"column is-8"},Jv={key:2,class:"column is-8 is-flex align-items-center"},Kv=[V("i",{class:"iconify","data-icon":"feather:edit","aria-hidden":"true"},null,-1)],Xv={key:3,class:"form-fieldset"},Zv=V("div",{class:"fieldset-heading"},[V("h4",null,"Permissions")],-1),Qv={class:"columns is-multiline"},eb={key:0,class:"column is-6"},tb={class:"form-fieldset"},ab={class:"form-fieldset"},sb={class:"fieldset-heading"},lb=V("h4",null,"Services",-1),ib={key:1,class:"column is-6"},ob=V("span",{class:"headline"},"Cap Notification Fields",-1);const rb=fe(lv,[["render",function(e,t,a,s,l,i){const o=bt,r=Ft,n=Wt,d=Nt,u=Et,c=$("v-selects"),m=jf,p=xd,h=$("v-card-title"),y=$("v-col"),v=$("v-row"),b=$("v-container"),S=$("v-card-text"),D=$("v-spacer"),L=$("v-btn"),T=$("v-card-actions"),A=ft,O=$("v-dialog");return g(),f("div",iv,[V("div",ov,[V("div",rv,[nv,V("div",dv,[V("span",null,P(e.currentUser.firstName+" "+e.currentUser.lastName),1),V("span",null,P(e.currentUser.role.name),1)])]),null!=e.currentUser.role&&"admin"==e.currentUser.role.name||"support"==e.currentUser.role.name||"financier"==e.currentUser.role.name||"teamlead"==e.currentUser.role.name||"manager"==e.currentUser.role.name||"manager_p"==e.currentUser.role.name||"affiliate_manager"==e.currentUser.role.name||null!=e.currentUser.role&&"web_master"==e.currentUser.role.name||"buyer"==e.currentUser.role.name?(g(),f("div",uv,[V("a",{onClick:t[0]||(t[0]=B((e=>l.active_tab="info"),["prevent"])),href:"#",class:_({active:"info"===l.active_tab})},cv,2),"admin"!=e.currentUser.role.name&&"support"!=e.currentUser.role.name?(g(),f("a",{key:0,onClick:t[1]||(t[1]=B((e=>l.active_tab="settings"),["prevent"])),href:"#",class:_({active:"settings"===l.active_tab})},mv,2)):I("",!0),V("a",{onClick:t[2]||(t[2]=B((e=>l.active_tab="notifications"),["prevent"])),href:"#",class:_({active:"notifications"===l.active_tab})},pv,2),"buyer"==e.currentUser.role.name||"affiliate_manager"==e.currentUser.role.name?(g(),f("a",{key:1,onClick:t[3]||(t[3]=B((e=>l.active_tab="permissions"),["prevent"])),href:"#",class:_({active:"permissions"===l.active_tab})},hv,2)):I("",!0)])):I("",!0)]),V("form",{class:"form-layout",onSubmit:t[29]||(t[29]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[V("div",gv,[V("div",{class:_([[s.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",fv,[V("div",yv,[V("h3",null,"User #"+P(this.$route.params.id),1)]),V("div",_v,[V("div",vv,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[4]||(t[4]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])],2),V("div",bv,["info"==l.active_tab?(g(),f("div",Sv,[kv,V("div",wv,[V("div",Vv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("First Name")])),_:1}),x(d,{icon:"feather:user"},{default:w((()=>[x(n,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:e.currentUser.firstName,"onUpdate:modelValue":t[5]||(t[5]=t=>e.currentUser.firstName=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Pv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Last Name")])),_:1}),x(d,{icon:"feather:user"},{default:w((()=>[x(n,{type:"text",placeholder:"",autocomplete:"family-name",modelValue:e.currentUser.lastName,"onUpdate:modelValue":t[6]||(t[6]=t=>e.currentUser.lastName=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",xv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Email Address")])),_:1}),x(d,{icon:"feather:mail"},{default:w((()=>[x(n,{type:"email",placeholder:"",autocomplete:"email",inputmode:"email",modelValue:e.currentUser.email,"onUpdate:modelValue":t[7]||(t[7]=t=>e.currentUser.email=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Cv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Role")])),_:1}),x(c,{modelValue:e.currentUser.role_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.currentUser.role_id=t),reduce:e=>e.id,label:"name",options:e.rolesSelect},null,8,["modelValue","reduce","options"])])),_:1})])])])):I("",!0),(null!=e.currentUser.role&&"financier"==e.currentUser.role.name||"teamlead"==e.currentUser.role.name||"manager"==e.currentUser.role.name||"manager_p"==e.currentUser.role.name||"affiliate_manager"==e.currentUser.role.name||null!=e.currentUser.role&&"web_master"==e.currentUser.role.name||"buyer"==e.currentUser.role.name)&&"settings"==l.active_tab?(g(),f("div",Iv,[Dv,null!=e.currentUser.role&&"financier"==e.currentUser.role.name||"teamlead"==e.currentUser.role.name||"manager"==e.currentUser.role.name||"manager_p"==e.currentUser.role.name||"affiliate_manager"==e.currentUser.role.name?(g(),f("div",Lv,[V("div",$v,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Users")])),_:1}),x(c,{modelValue:e.currentUser.users,"onUpdate:modelValue":t[9]||(t[9]=t=>e.currentUser.users=t),reduce:e=>e.id,label:"name",options:e.usersSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})]),"teamlead"==e.currentUser.role.name||"affiliate_manager"==e.currentUser.role.name?(g(),f("div",Tv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Leads phone visibility")])),_:1}),x(c,{modelValue:e.currentUser.show_phone_status,"onUpdate:modelValue":t[10]||(t[10]=t=>e.currentUser.show_phone_status=t),reduce:e=>e.id,label:"name",options:[{id:0,name:"Hidden"},{id:1,name:"Show a part"},{id:2,name:"Show full phone"}],"push-tags":""},null,8,["modelValue","reduce"])])),_:1})])):I("",!0),"teamlead"!=e.currentUser.role.name?(g(),f("div",Av,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Partners")])),_:1}),x(c,{modelValue:e.currentUser.partners,"onUpdate:modelValue":t[11]||(t[11]=t=>e.currentUser.partners=t),reduce:e=>e.id,label:"name",options:e.partnersSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0)])):I("",!0),null!=e.currentUser.role&&"web_master"==e.currentUser.role.name||"buyer"==e.currentUser.role.name||"teamlead"==e.currentUser.role.name||"affiliate_manager"==this.currentUser.role.name?(g(),f("div",Ov,["web_master"==e.currentUser.role.name||"buyer"==e.currentUser.role.name?(g(),f("div",Fv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Manager")])),_:1}),x(c,{modelValue:e.currentUser.manager_id,"onUpdate:modelValue":t[12]||(t[12]=t=>e.currentUser.manager_id=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])):I("",!0),"web_master"==e.currentUser.role.name||"buyer"==e.currentUser.role.name?(g(),f("div",Uv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Percent Manager")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:e.currentUser.percent,"onUpdate:modelValue":t[13]||(t[13]=t=>e.currentUser.percent=t)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0),"buyer"==e.currentUser.role.name?(g(),f("div",Mv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Leads phone visibility")])),_:1}),x(c,{modelValue:e.currentUser.show_phone_status,"onUpdate:modelValue":t[14]||(t[14]=t=>e.currentUser.show_phone_status=t),reduce:e=>e.id,label:"name",options:[{id:0,name:"Hidden"},{id:1,name:"Show a part"},{id:2,name:"Show full phone"}],"push-tags":""},null,8,["modelValue","reduce"])])),_:1})])):I("",!0),this.currentUser.role&&"web_master"==this.currentUser.role.name||"buyer"==e.currentUser.role.name||"teamlead"==this.currentUser.role.name||"affiliate_manager"==this.currentUser.role.name?(g(),f("div",Ev,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Show Hold leads")])),_:1}),x(m,{color:"primary",modelValue:e.currentUser.show_no_send_leads,"onUpdate:modelValue":t[15]||(t[15]=t=>e.currentUser.show_no_send_leads=t),"checked-value":1,"unchecked-value":0,"model-value":e.currentUser.show_no_send_leads?1:0},null,8,["modelValue","model-value"])])),_:1})])):I("",!0),"affiliate_manager"!=this.currentUser.role.name?(g(),f("div",Bv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Traffic")])),_:1}),x(m,{color:"primary",modelValue:e.currentUser.traffic,"onUpdate:modelValue":t[16]||(t[16]=t=>e.currentUser.traffic=t),"checked-value":1,"unchecked-value":0,"model-value":e.currentUser.traffic?1:0},null,8,["modelValue","model-value"])])),_:1})])):I("",!0)])):I("",!0)])):I("",!0),"notifications"==l.active_tab?(g(),f("div",zv,[jv,V("div",Rv,[V("div",Nv,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Telegram User ID")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:e.currentUser.telegram_chat,"onUpdate:modelValue":t[17]||(t[17]=t=>e.currentUser.telegram_chat=t)},null,8,["modelValue"])])),_:1})])),_:1})])]),Hv,V("div",Wv,[V("div",Yv,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:e.currentUser.notification_ftd,"onUpdate:modelValue":t[18]||(t[18]=t=>e.currentUser.notification_ftd=t),trueValue:"1",label:"FTD",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})]),null==e.currentUser.role||"affiliate_manager"!=e.currentUser.role.name&&"admin"!=e.currentUser.role.name&&"support"!=e.currentUser.role.name?I("",!0):(g(),f("div",Gv,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:e.currentUser.notification_campaign,"onUpdate:modelValue":t[19]||(t[19]=t=>e.currentUser.notification_campaign=t),trueValue:"1",label:"Campaigns",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),null==e.currentUser.role||"teamlead"!=e.currentUser.role.name&&"buyer"!=e.currentUser.role.name?I("",!0):(g(),f("div",qv,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:e.currentUser.notification_domain,"onUpdate:modelValue":t[20]||(t[20]=t=>e.currentUser.notification_domain=t),trueValue:"1",label:"Domains",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),null==e.currentUser.role||"admin"!=e.currentUser.role.name&&"affiliate_manager"!=e.currentUser.role.name?I("",!0):(g(),f("div",Jv,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:e.currentUser.notification_caps,"onUpdate:modelValue":t[21]||(t[21]=t=>e.currentUser.notification_caps=t),trueValue:"1",label:"Caps",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),V("div",{class:"cursor-pointer",style:{"margin-bottom":"10px","margin-left":"-8px",padding:"4px"},onClick:t[22]||(t[22]=e=>i.getNotificationData())},Kv)]))])])):I("",!0),"permissions"==l.active_tab?(g(),f("div",Xv,[Zv,V("div",Qv,["buyer"==e.currentUser.role.name?(g(),f("div",eb,[V("div",tb,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Funnels")])),_:1}),x(d,null,{default:w((()=>[e.currentUser?(g(),k(c,{key:0,modelValue:e.currentUser.permissions.read_funnels,"onUpdate:modelValue":t[23]||(t[23]=t=>e.currentUser.permissions.read_funnels=t),reduce:e=>e.id,label:"name",options:[{id:"show_by_leads",name:"Show by leads"},{id:"show_all",name:"Show All"}]},null,8,["modelValue","reduce"])):I("",!0)])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Sources")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:e.currentUser.permissions.read_sources,"onUpdate:modelValue":t[24]||(t[24]=t=>e.currentUser.permissions.read_sources=t),reduce:e=>e.id,label:"name",options:[{id:"show_by_leads",name:"Show by leads"},{id:"show_all",name:"Show All"}]},null,8,["modelValue","reduce"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Campaigns")])),_:1}),x(d,null,{default:w((()=>[e.currentUser?(g(),k(c,{key:0,modelValue:e.currentUser.permissions.read_offer,"onUpdate:modelValue":t[25]||(t[25]=t=>e.currentUser.permissions.read_offer=t),reduce:e=>e.id,label:"name",options:[{id:"show_name",name:"Show Name"},{id:"show_id",name:"Show ID"}]},null,8,["modelValue","reduce"])):I("",!0)])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("New Lead")])),_:1}),x(d,null,{default:w((()=>[e.currentUser?(g(),k(c,{key:0,modelValue:e.currentUser.permissions.new_lead,"onUpdate:modelValue":t[26]||(t[26]=t=>e.currentUser.permissions.new_lead=t),reduce:e=>e.id,label:"name",options:[{id:"yes",name:"Yes"},{id:"no",name:"No"}]},null,8,["modelValue","reduce"])):I("",!0)])),_:1})])),_:1})]),V("div",ab,[V("div",sb,[lb,(g(!0),f(j,null,K(e.currentUser.service_types,((t,a)=>(g(),f("div",null,[V("div",null,P(t.name),1),V("div",null,[x(c,{modelValue:e.currentUser.permissionServices[a],"onUpdate:modelValue":t=>e.currentUser.permissionServices[a]=t,reduce:e=>e.id,label:"name",options:t.data,multiple:""},null,8,["modelValue","onUpdate:modelValue","reduce","options"])])])))),256))])])])):I("",!0),"affiliate_manager"==e.currentUser.role.name?(g(),f("div",ib,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Inject")])),_:1}),x(d,null,{default:w((()=>[e.currentUser?(g(),k(c,{key:0,modelValue:e.currentUser.permissions.show_inject,"onUpdate:modelValue":t[27]||(t[27]=t=>e.currentUser.permissions.show_inject=t),reduce:e=>e.id,label:"name",options:[{id:"yes",name:"Yes"},{id:"no",name:"No"}]},null,8,["modelValue","reduce"])):I("",!0)])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Leads Import")])),_:1}),x(d,null,{default:w((()=>[e.currentUser?(g(),k(c,{key:0,modelValue:e.currentUser.permissions.show_import,"onUpdate:modelValue":t[28]||(t[28]=t=>e.currentUser.permissions.show_import=t),reduce:e=>e.id,label:"name",options:[{id:"yes",name:"Yes"},{id:"no",name:"No"}]},null,8,["modelValue","reduce"])):I("",!0)])),_:1})])),_:1})])):I("",!0)])])):I("",!0)])])],32),x(O,{modelValue:l.updateDialogModel,"onUpdate:modelValue":t[34]||(t[34]=e=>l.updateDialogModel=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(A,{color:"#1E272C"},{default:w((()=>[x(h,null,{default:w((()=>[ob])),_:1}),x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,null,{default:w((()=>[x(y,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:l.notificationData.cap.weight,"onUpdate:modelValue":t[30]||(t[30]=e=>l.notificationData.cap.weight=e),trueValue:"1",label:"Weight",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:l.notificationData.cap.time_cap,"onUpdate:modelValue":t[31]||(t[31]=e=>l.notificationData.cap.time_cap=e),trueValue:"1",label:"Time Cap",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(p,{modelValue:l.notificationData.cap.last_time_lead,"onUpdate:modelValue":t[32]||(t[32]=e=>l.notificationData.cap.last_time_lead=e),trueValue:"1",label:"Last Time Lead",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(T,null,{default:w((()=>[x(D),x(L,{color:"#009688",text:"",onClick:t[33]||(t[33]=e=>l.updateDialogModel=!1)},{default:w((()=>[C("Cancel")])),_:1}),x(L,{color:"#009688",text:"",onClick:i.onSubmit},{default:w((()=>[C("Save")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]),nb={name:"IncomeStatistics",data:()=>({selected:"",loading:!0,leadsHeaders:[{text:"User",sortable:!1,value:"email"},{text:"Buy",sortable:!1,value:"buy"},{text:"Sale",sortable:!1,value:"sale"},{text:"Black List Percent",sortable:!1,value:"black_list_percent"},{text:"Actions",value:"action",sortable:!1}],blackListPercent:[{id:0,name:"0%"},{id:5,name:"5%"},{id:10,name:"10%"},{id:15,name:"15%"},{id:20,name:"20%"},{id:25,name:"25%"},{id:30,name:"30%"},{id:35,name:"35%"},{id:40,name:"40%"},{id:45,name:"45%"},{id:50,name:"50%"},{id:55,name:"55%"},{id:60,name:"60%"},{id:65,name:"65%"},{id:70,name:"70%"},{id:75,name:"75%"},{id:80,name:"80%"},{id:85,name:"85%"},{id:90,name:"90%"},{id:95,name:"95%"},{id:100,name:"100%"}],rowsPerPage:25,rowsPerPageItems:[25,50,100]}),props:{disabled:!1,paymentType:null,offerId:null},computed:{...be(["offerUsers","usersSelect","offerEdited"])},mounted(){this.getUsersSelect(),this.getItems()},methods:{getUsersSelect(){this.$store.dispatch("getUsersSelect","web_master,buyer,teamlead")},getItems(e=1){let t=this.rowsPerPage,a=this.$route.params.id;this.$props.offerId&&(a=this.$props.offerId),this.loading=!0,this.$store.dispatch("getOfferUsers",{path:"offer/users/"+a,page:e,rowsPerPage:t,filtersValues:[]}).then((()=>{this.loading=!1}))},updateValue(e,t=null){console.log("pop");let a=this.offerUsers.find((t=>t.id===e.id)),s=this.offerUsers.indexOf(a);this.offerUsers[s]=e,console.log(this.offerUsers[s])},setUser(e){let t=this.offerUsers.find((t=>t.id===e.id)),a=this.offerUsers.indexOf(t);this.offerUsers[a].user_id=e.user_id},setBlackListed(e){let t=this.offerUsers.find((t=>t.id===e.id)),a=this.offerUsers.indexOf(t);this.offerUsers[a].black_list_percent=e.black_list_percent,console.log(e),console.log(this.offerUsers[a])},changeSelect(e){console.log(e)},addItem(){this.offerUsers.push({id:Math.random()+"xsd",sale:this.offerEdited.payout,buy:this.offerEdited.payout,black_list_percent:this.offerEdited.black_list_percent})},deleteItem(e){let t=this.offerUsers.findIndex((t=>t.id===e.id));this.offerUsers.splice(t,t>=0?1:0)}},watch:{paymentType:function(e){this.leadsHeaders=3==e?[{text:"User",sortable:!1,value:"email"},{text:"Buy",sortable:!1,value:"buy"},{text:"Sale",sortable:!1,value:"sale"},{text:"Percent",sortable:!1,value:"pay_percent"},{text:"Black List Percent",sortable:!1,value:"black_list_percent"},{text:"Actions",value:"action",sortable:!1}]:[{text:"User",sortable:!1,value:"email"},{text:"Buy",sortable:!1,value:"buy"},{text:"Sale",sortable:!1,value:"sale"},{text:"Black List Percent",sortable:!1,value:"black_list_percent"},{text:"Actions",value:"action",sortable:!1}]},test(e){console.log(e)},disabled:function(){if(0==this.disabled)for(let e in this.offerUsers){let t=this.offerUsers[e].id;this.usersSelect.find((e=>e.id===t))}}}};const db={class:"page-placeholder"},ub={class:"placeholder-content"},cb={class:"dark-inverted"},mb={name:"EditCampaign",components:{IncomeStatistics:fe(nb,[["render",function(e,t,a,s,l,i){const o=$("v-selects"),r=Nt,n=Et,d=Wt,u=xr,c=$("v-btn"),m=$("EasyDataTable"),p=bt,h=yt;return g(),f(j,null,[x(m,{headers:l.leadsHeaders,items:e.offerUsers,loading:l.loading,"theme-color":"#f48225","buttons-pagination":!1,"border-color":!1,dense:!1,class:"income-table"},{"item-email":w((e=>[x(n,{style:{display:"flex","justify-content":"center"}},{default:w((()=>[x(r,null,{default:w((()=>[x(o,{style:{width:"250px"},modelValue:e.user_id,"onUpdate:modelValue":t=>e.user_id=t,reduce:e=>e.id,label:"name",options:this.usersSelect,"append-to-body":"","onOption:selected":t=>i.setUser(e)},null,8,["modelValue","onUpdate:modelValue","reduce","options","onOption:selected"])])),_:2},1024)])),_:2},1024)])),"item-buy":w((e=>[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{type:"text",style:{"max-width":"100px"},onInput:t=>i.updateValue(e),modelValue:e.buy,"onUpdate:modelValue":t=>e.buy=t},null,8,["onInput","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),"item-sale":w((e=>[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{type:"text",style:{"max-width":"100px"},onInput:t=>i.updateValue(e),modelValue:e.sale,"onUpdate:modelValue":t=>e.sale=t},null,8,["onInput","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),"item-black_list_percent":w((e=>[x(n,{style:{display:"flex","justify-content":"center"}},{default:w((()=>[x(r,null,{default:w((()=>[x(o,{style:{width:"120px"},modelValue:e.black_list_percent,"onUpdate:modelValue":t=>e.black_list_percent=t,reduce:e=>e.id,label:"name",options:l.blackListPercent,closeOnSelect:!0,"append-to-body":"","onOption:selected":t=>i.setBlackListed(e)},null,8,["modelValue","onUpdate:modelValue","reduce","options","onOption:selected"])])),_:2},1024)])),_:2},1024)])),"item-pay_percent":w((e=>[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{type:"text",onInput:t=>i.updateValue(e),modelValue:e.pay_percent,"onUpdate:modelValue":t=>e.pay_percent=t},null,8,["onInput","modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),"item-action":w((e=>[x(u,{onRemove:t=>i.deleteItem(e),showView:!1},null,8,["onRemove"])])),footer:w((()=>[a.disabled?I("",!0):(g(),k(c,{key:0,onClick:i.addItem,style:{width:"100%"}},{default:w((()=>[C("Add")])),_:1},8,["onClick"]))])),_:1},8,["headers","items","loading"]),x(h,{style:{"justify-content":"flex-end","margin-top":"20px"}},{default:w((()=>[x(p,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.addItem},{default:w((()=>[C("Add")])),_:1},8,["onClick"])])),_:1})],64)}]]),Table:ah,Placeholder:m({__name:"VPlaceholderPage",props:{title:{},subtitle:{default:void 0},larger:{type:Boolean}},setup(e){const t=e;return(e,a)=>(g(),f("div",db,[V("div",ub,[y(e.$slots,"image"),V("h3",cb,P(t.title),1),t.subtitle?(g(),f("p",{key:0,class:_([t.larger&&"is-larger"])},P(t.subtitle),3)):I("",!0),y(e.$slots,"action")])]))}})},data:()=>({weeks:[{id:"mon",name:"Mon"},{id:"tue",name:"Tue"},{id:"wed",name:"Wed"},{id:"thu",name:"Thu"},{id:"fri",name:"Fri"},{id:"sat",name:"Sat"},{id:"sun",name:"Sun"}],tabs:[{label:"General",value:"general",icon:"fas fa-home"},{label:"Payments",value:"payments",icon:"fas fa-comments-dollar"},{label:"Statuses",value:"statuses",icon:"fas fa-book"},{label:"Funnels",value:"funnels",icon:"fas fa-globe"}],dialogleads:!1,name:"",rowsPerPage:25,perPages:[25,50,100],page:1,activeStatusType:"all",buttonLoading:!1,serverOptions:{page:1,rowsPerPage:25,sortBy:"id",sortType:"desc"},loading:!1,filterValues:{search:"",status_type:"all"},searchStatus:"",paymentType:[{id:1,name:"CPL"},{id:2,name:"CPA"},{id:3,name:"CPA + CRG"}],OfferStatuses:[{id:0,name:"Pending"},{id:1,name:"Active"},{id:2,name:"Rejected"}],headers:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Valid",sortable:!1,value:"is_valid"}],statusesType:[{id:1,name:"Valid"},{id:2,name:"Not Valid"},{id:3,name:"Black Listed"}],blackListPercent:[{id:0,name:"0%"},{id:5,name:"5%"},{id:10,name:"10%"},{id:15,name:"15%"},{id:20,name:"20%"},{id:25,name:"25%"},{id:30,name:"30%"},{id:35,name:"35%"},{id:40,name:"40%"},{id:45,name:"45%"},{id:50,name:"50%"},{id:55,name:"55%"},{id:60,name:"60%"},{id:65,name:"65%"},{id:70,name:"70%"},{id:75,name:"75%"},{id:80,name:"80%"},{id:85,name:"85%"},{id:90,name:"90%"},{id:95,name:"95%"},{id:100,name:"100%"}],selected:1,isUpdating:!1,item:{firstName:"",lastName:"",email:""},offerStatus:0}),mounted(){s({title:this.$route.meta.title}),this.getItem(),this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getCampaignLeadsStatuses();let e={id:this.$route.params.id,filtersValues:this.filterValues};this.getCampaignLeadStatusesCount(e)},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getLandingNamesSelect","getCampaignLeadStatusesCount"]),validateTime(e,t){let a=this.offerEdited.weeks[e][t];a[0]>2?this.offerEdited.weeks[e][t]="":a[0]+a[1]>24?this.offerEdited.weeks[e][t]=a[0]:(a[3]>5||a[6]>5)&&(this.offerEdited.weeks[e][t]=a.slice(0,-1))},updatePrices(){this.$store.dispatch("updatePrices",{offerId:this.$route.params.id}).then((()=>{}))},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchStatus,this.getCampaignLeadsStatuses();let e={id:this.$route.params.id,filtersValues:this.filterValues};this.getCampaignLeadStatusesCount(e)}),500),deleteFunnel(e){let t=this.offerEdited.replaces.findIndex((t=>t.name===e.name));this.offerEdited.replaces.splice(t,t>=0?1:0)},onSubmit(){let e=this.globalCallback(this.offerEdited.countries),t=this.globalCallback(this.offerEdited.sources),a=this.globalCallback(this.offerEdited.landing_names),s={};for(let n in this.offerEdited.replaces){let e={name:null,replaces:{},id:null};e.id=this.offerEdited.replaces[n].id,e.name=this.offerEdited.replaces[n].name,e.replaces=this.globalCallback(this.offerEdited.replaces[n].replaces),this.offerEdited.replaces[n].name&&(s[this.offerEdited.replaces[n].name]=e)}let l=this.$refs.IncomeStatistic.offerUsers,i=this.offerEdited.payment_type_id,o=this.offerEdited.pay_percent,r=this.offerEdited.weight;this.$store.dispatch("updateOffer",{offerId:this.$route.params.id,countries:e,sources:t,landings:a,users:l,payment_type_id:i,pay_percent:o,weight:r,replaces:s}).then((()=>{this.disabled=!0,this.edit=!1,this.getItem()}))},addFunnel(){this.offerEdited.replaces.push({})},getItem(){this.$store.dispatch("getOffer",this.$route.params.id).then((e=>{this.offerStatus=1==e.data.data.is_active?1:0,console.log("dqwdqw"),console.log(e.data.data),this.name=e.data.data.name,this.tabs=[{label:"General",value:"general",icon:"fas fa-home"},{label:"Payments",value:"payments",icon:"fas fa-comments-dollar"},{label:"Funnels",value:"funnels",icon:"fas fa-globe"}],e.data.data.use_status&&this.tabs.splice(2,0,{label:"Statuses",value:"statuses",icon:"fas fa-book"}),e.data.data.is_notifications&&this.tabs.push({label:"Notifications",value:"notifications",icon:"fas fa-cogs"}),this.tabs.push({label:"Fraud",value:"frod",icon:"fas fa-binoculars"})}))},updatePaginate(e){this.page=e,this.getCampaignLeadsStatuses()},getStatusesByType(e){this.page=1,this.activeStatusType=e,this.filterValues.status_type=e,this.getCampaignLeadsStatuses()},getCampaignLeadsStatuses(){let e=this.filterValues;this.$store.dispatch("getItemsPagination",{path:`offers/${this.$route.params.id}/campaign-statuses`,page:this.page,rowsPerPage:this.rowsPerPage,filtersValues:e})},changeStatus(e,t){this.$store.dispatch("offerActivityToggle",{item:e,value:t})},changeOfferValidStatus(e,t){this.$store.dispatch("updateCampaignLeadsStatus",{id:this.$route.params.id,status_id:e.id,is_valid:t}).then((()=>{this.getCampaignLeadsStatuses();let e={id:this.$route.params.id,filtersValues:this.filterValues};this.getCampaignLeadStatusesCount(e)}))}},computed:{...be(["integrationsSelect","partnersSelect","countriesSelect","sourcesSelect","landingNamesSelect","usersSelect","offerEdited","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","campaignStatusesCount"])},watch:{rowsPerPage(e){this.rowsPerPage=e,this.page=1,this.getCampaignLeadsStatuses()},"offerEdited.use_status":function(e){e?this.tabs.splice(2,0,{label:"Statuses",value:"statuses",icon:"fas fa-book"}):this.tabs=this.tabs.filter((e=>"statuses"!==e.value))},"offerEdited.is_notifications":function(e){e?this.tabs.push({label:"Notifications",value:"notifications",icon:"fas fa-cogs"}):this.tabs=this.tabs.filter((e=>"notifications"!==e.value))},searchStatus(){this.checkSearchStr()}}},pb={style:{background:"#202022",padding:"10px"}},hb={class:"users_form_wrap campaign-page"},gb={class:"form-outer"},fb={class:"form-header stuck-header"},yb={class:"form-header-inner"},_b={class:"left"},vb={class:"right"},bb={class:"buttons"},Sb={class:"form-body"},kb={class:"form-fieldset"},wb={class:"columns is-multiline"},Vb={class:"column is-4"},Pb={class:"column is-4"},xb={class:"column is-4"},Cb={class:"column is-4"},Ib={class:"column is-4"},Db={class:"h3-tooltip"},Lb=[V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)],$b={class:"column is-4"},Tb={class:"column is-4"},Ab={class:"column is-4"},Ob={class:"column is-4"},Fb={class:"column is-4"},Ub={class:"column is-4"},Mb={class:"column is-4"},Eb={class:"form-fieldset"},Bb={class:"columns is-multiline"},zb={class:"column is-2"},jb={class:"column is-2"},Rb={class:"column is-2",style:{position:"relative"}},Nb=V("hr",null,null,-1),Hb={class:"column is-9",style:{padding:"0"}},Wb={class:"form-fieldset"},Yb={class:"v-flex flex-pagination top-pagination pagination is-rounded"},Gb={style:{display:"flex","align-items":"center"}},qb={class:"buttons"},Jb={class:"flex-start status-button choose_filter mb-2"},Kb={key:0,class:"pagination_wrap"},Xb={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},Zb={key:0},Qb={key:1},eS={key:1,class:"pagination_wrap"},tS={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},aS={key:0},sS={key:1},lS={class:"form-fieldset"},iS={class:"columns is-multiline"},oS={key:0,class:"column is-12"},rS=[V("hr",null,null,-1)],nS={class:"column is-6"},dS=["onClick"],uS=V("img",{class:"light-image",src:"/assets/search-1-CbB9kiNJ.svg",alt:""},null,-1),cS=V("img",{class:"dark-image",src:"/assets/search-1-dark-B2KB98rK.svg",alt:""},null,-1),mS={class:"form-fieldset"},pS={class:"columns is-multiline"},hS={class:"column is-6"},gS={key:0,class:"column is-6"},fS={class:"form-fieldset"},yS={class:"columns is-multiline"},_S={class:"column is-6"},vS={key:0,class:"column is-6"},bS={key:0,class:"users_form_wrap mt-10 time-cap"},SS={class:"form-layout"},kS={class:"form-outer"},wS=V("div",{class:"form-header stuck-header"},[V("div",{class:"form-header-inner"},[V("div",{class:"left"},[V("h3",null,"Time Cap")])])],-1),VS={class:"form-body"},PS={class:"columns is-multiline"},xS={class:"field-addon-body align-items-center"},CS={class:"flex"},IS={class:"mb-1 mr-4"},DS=["onUpdate:modelValue","onInput"],LS=V("button",{type:"button","aria-hidden":"false",class:"button button v-button is-static"},[V("span",null,"to")],-1),$S=["onUpdate:modelValue","onInput"];const TS=fe(mb,[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("v-dialog"),n=bt,d=$("v-selects"),u=Nt,c=Et,m=Ft,p=Wt,h=Qr,y=$("v-tooltip"),v=jf,b=xi,S=$("IncomeStatistics"),D=$("Multiselect"),L=$("v-btn"),T=nr,A=$("EasyDataTable"),O=$("Placeholder"),F=ba,E=xd,z=te("mask");return g(),f(j,null,[x(r,{modelValue:l.dialogleads,"onUpdate:modelValue":t[0]||(t[0]=e=>l.dialogleads=e),persistent:"",class:"lead-dialog",style:{"max-width":"1440px"}},{default:w((()=>[V("div",pb,[x(o,{leadFilters:[],headers:[],itemsSelected:null,leadsSettingsTabs:[],ref:"table"},null,512)])])),_:1},8,["modelValue"]),V("div",hb,[V("form",{class:"form-layout",onSubmit:t[33]||(t[33]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[V("div",gb,[V("div",fb,[V("div",yb,[V("div",_b,[V("h3",null,"Campaign #"+P(this.$route.params.id),1),V("h4",null,P(l.name),1)]),V("div",vb,[V("div",bb,[x(n,{icon:"lnir lnir-arrow-left rem-100",onClick:t[1]||(t[1]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(c,{class:"mr-3 mt-1"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{class:"campaign-change-status",style:{width:"130px"},modelValue:e.offerEdited.is_active,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.offerEdited.is_active=t),t[3]||(t[3]=t=>i.changeStatus(e.offerEdited,e.offerEdited.is_active))],reduce:e=>e.id,label:"name",options:l.OfferStatuses,"append-to-body":"",clearable:!1},{"open-indicator":w((({attributes:e})=>[V("span",R({class:"multiselect-caret"},e),null,16)])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(n,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])]),x(F,{selected:"general",tabs:l.tabs,style:{"margin-top":"5px"}},{tab:w((({activeValue:a})=>[V("div",Sb,[Y(V("div",kb,[V("div",wb,[V("div",Vb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Name")])),_:1}),x(u,{icon:"feather:user"},{default:w((()=>[x(p,{type:"text",modelValue:e.offerEdited.name,"onUpdate:modelValue":t[4]||(t[4]=t=>e.offerEdited.name=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Pb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Partner")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.partner_id,"onUpdate:modelValue":t[5]||(t[5]=t=>e.offerEdited.partner_id=t),reduce:e=>e.id,label:"name",options:e.partnersSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",xb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Integration")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.integration_id,"onUpdate:modelValue":t[6]||(t[6]=t=>e.offerEdited.integration_id=t),reduce:e=>e.id,label:"name",options:e.integrationsSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Cb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Funnels")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.landing_names,"onUpdate:modelValue":t[7]||(t[7]=t=>e.offerEdited.landing_names=t),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Ib,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Countries")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.countries,"onUpdate:modelValue":t[8]||(t[8]=t=>e.offerEdited.countries=t),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,multiple:"","push-tags":"",closeOnSelect:!1},{option:w((e=>[V("h3",Db,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(y,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),Lb,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(h,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",$b,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Sources")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.sources,"onUpdate:modelValue":t[9]||(t[9]=t=>e.offerEdited.sources=t),reduce:e=>e.id,label:"name",options:e.sourcesSelect,multiple:"","push-tags":"",closeOnSelect:!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Tb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Daily Cap")])),_:1}),x(u,null,{default:w((()=>[x(p,{modelValue:e.offerEdited.daily_cap,"onUpdate:modelValue":t[10]||(t[10]=t=>e.offerEdited.daily_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Ab,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Total Cap")])),_:1}),x(u,null,{default:w((()=>[x(p,{modelValue:e.offerEdited.total_cap,"onUpdate:modelValue":t[11]||(t[11]=t=>e.offerEdited.total_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Ob,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Weight Cap")])),_:1}),x(u,null,{default:w((()=>[x(p,{modelValue:e.offerEdited.weight,"onUpdate:modelValue":t[12]||(t[12]=t=>e.offerEdited.weight=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Fb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Time Cap")])),_:1}),x(u,null,{default:w((()=>[x(v,{modelValue:e.offerEdited.custom_cap,"onUpdate:modelValue":t[13]||(t[13]=t=>e.offerEdited.custom_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Ub,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Campaign Statuses")])),_:1}),x(u,null,{default:w((()=>[x(v,{modelValue:e.offerEdited.use_status,"onUpdate:modelValue":t[14]||(t[14]=t=>e.offerEdited.use_status=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Mb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Notifications")])),_:1}),x(u,null,{default:w((()=>[x(v,{modelValue:e.offerEdited.is_notifications,"onUpdate:modelValue":t[15]||(t[15]=t=>e.offerEdited.is_notifications=t)},null,8,["modelValue"])])),_:1})])),_:1})])])],512),[[ae,"general"==a]]),Y(V("div",Eb,[V("div",Bb,[V("div",zb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Payment type")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.payment_type_id,"onUpdate:modelValue":t[16]||(t[16]=t=>e.offerEdited.payment_type_id=t),reduce:e=>e.id,label:"name",options:l.paymentType,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",jb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Black List percent")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.black_list_percent,"onUpdate:modelValue":t[17]||(t[17]=t=>e.offerEdited.black_list_percent=t),reduce:e=>e.id,label:"name",options:l.blackListPercent,closeOnSelect:!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Rb,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Payout")])),_:1}),x(u,null,{default:w((()=>[x(p,{type:"text",min:"0",max:"100",modelValue:e.offerEdited.payout,"onUpdate:modelValue":t[18]||(t[18]=t=>e.offerEdited.payout=t)},null,8,["modelValue"])])),_:1})])),_:1}),x(b,{onClick:t[19]||(t[19]=e=>i.updatePrices()),icon:"feather:refresh-cw",style:{background:"transparent!important",border:"none",position:"absolute",top:"33px",right:"10px"}})])]),Nb,V("div",Hb,[x(S,{ref:"IncomeStatistic",paymentType:e.offerEdited.payment_type_id},null,8,["paymentType"])])],512),[[ae,"payments"==a]]),Y(V("div",Wb,[V("div",Yb,[V("div",Gb,[x(c,null,{default:w((()=>[x(u,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.searchStatus=e),class:"input custom-text-filter",placeholder:"Status name"},null,512),[[G,l.searchStatus]])])),_:1})])),_:1})]),V("div",qb,[x(c,null,{default:w((()=>[x(u,null,{default:w((()=>[x(D,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[21]||(t[21]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page"},null,8,["modelValue","options"])])),_:1})])),_:1})])]),V("div",Jb,[x(L,{loading:l.buttonLoading,class:_([[{active:"all"==l.activeStatusType}],"mt-1 mr-1"]),onClick:t[22]||(t[22]=e=>i.getStatusesByType("all"))},{default:w((()=>[C(" All - "+P(e.campaignStatusesCount.total),1)])),_:1},8,["loading","class"]),x(L,{loading:l.buttonLoading,class:_([[{active:1==l.activeStatusType}],"mt-1 mr-1"]),onClick:t[23]||(t[23]=e=>i.getStatusesByType(1))},{default:w((()=>[C(" Valid - "+P(e.campaignStatusesCount.valid?e.campaignStatusesCount.valid:0),1)])),_:1},8,["loading","class"]),x(L,{loading:l.buttonLoading,class:_([[{active:0==l.activeStatusType}],"mt-1 mr-1"]),onClick:t[24]||(t[24]=e=>i.getStatusesByType(2))},{default:w((()=>[C(" Invalid - "+P(e.campaignStatusesCount.invalid?e.campaignStatusesCount.invalid:0),1)])),_:1},8,["loading","class"]),x(L,{loading:l.buttonLoading,class:_([[{active:0==l.activeStatusType}],"mt-1 mr-1"]),onClick:t[25]||(t[25]=e=>i.getStatusesByType(3))},{default:w((()=>[C(" Black List - "+P(e.campaignStatusesCount.black_list?e.campaignStatusesCount.black_list:0),1)])),_:1},8,["loading","class"])]),e.totalPagesItemsPagination>1?(g(),f("div",Kb,[V("div",Xb,[C(" Showing "),1==l.page?(g(),f("span",Zb,P(l.page),1)):(g(),f("span",Qb,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),x(T,{"current-page":l.page,"onUpdate:currentPage":[t[26]||(t[26]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])])):I("",!0),x(A,{headers:l.headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"server-options":l.serverOptions,"onUpdate:serverOptions":t[27]||(t[27]=e=>l.serverOptions=e),class:"campaign-table-statuses"},{"item-is_valid":w((e=>[x(c,{style:{width:"160px",margin:"0 auto"}},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{class:"campaign-change-status",modelValue:e.is_valid,"onUpdate:modelValue":[t=>e.is_valid=t,t=>i.changeOfferValidStatus(e,e.is_valid)],reduce:e=>e.id,label:"name",options:l.statusesType,"append-to-body":"",clearable:!1},{"open-indicator":w((({attributes:e})=>[V("span",R({class:"multiselect-caret"},e),null,16)])),_:2},1032,["modelValue","onUpdate:modelValue","reduce","options"])])),_:2},1024)])),_:2},1024)])),_:1},8,["headers","items","loading","server-options"]),e.totalPagesItemsPagination>1?(g(),f("div",eS,[V("div",tS,[C(" Showing "),1==l.page?(g(),f("span",aS,P(l.page),1)):(g(),f("span",sS,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),x(T,{"current-page":l.page,"onUpdate:currentPage":[t[28]||(t[28]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])])):I("",!0)],512),[[ae,"statuses"==a]]),Y(V("div",lS,[V("div",iS,[e.offerEdited.replaces&&e.offerEdited.replaces.length?(g(!0),f(j,{key:0},K(e.offerEdited.replaces,((t,a)=>(g(),f(j,null,[a>0&&a%2==0?(g(),f("div",oS,rS)):I("",!0),V("div",nS,[V("i",{onClick:e=>i.deleteFunnel(t),class:"fas fa-window-close cursor-pointer float-right",style:{"margin-right":"2px",color:"#9d9d9d"},"aria-hidden":"true"},null,8,dS),x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Replace Name")])),_:1}),x(p,{type:"text",modelValue:t.name,"onUpdate:modelValue":e=>t.name=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),x(c,{class:""},{default:w((()=>[x(m,null,{default:w((()=>[C("Funnels")])),_:1}),x(u,{class:"relative"},{default:w((()=>[x(d,{placeholdaer:"Funnels",modelValue:t.replaces,"onUpdate:modelValue":e=>t.replaces=e,reduce:e=>e.id,label:"name",options:e.landingNamesSelect,multiple:"",closeOnSelect:!1},null,8,["modelValue","onUpdate:modelValue","reduce","options"])])),_:2},1024)])),_:2},1024)])],64)))),256)):(g(),k(O,{key:1,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:w((()=>[uS,cS])),_:1}))]),x(n,{onClick:i.addFunnel,class:"float-right",color:"primary",raised:""},{default:w((()=>[C(" Add ")])),_:1},8,["onClick"])],512),[[ae,"funnels"==a]]),Y(V("div",mS,[V("div",pS,[V("div",hS,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Error Leads")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.notification_error,"onUpdate:modelValue":t[29]||(t[29]=t=>e.offerEdited.notification_error=t),reduce:e=>e.id,label:"name",options:[{id:0,name:"Disable"},{id:1,name:"Only Notifications"},{id:2,name:"Notifications and off Campaign"}],"push-tags":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})]),2==e.offerEdited.notification_error?(g(),f("div",gS,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Count of disabled")])),_:1}),x(u,{style:{position:"relative"}},{default:w((()=>[x(p,{type:"text",placeholder:"",modelValue:e.offerEdited.notification_error_count,"onUpdate:modelValue":t[30]||(t[30]=t=>e.offerEdited.notification_error_count=t)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0)])],512),[[ae,"notifications"==a]]),Y(V("div",fS,[V("div",yS,[V("div",_S,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Check Fraud")])),_:1}),x(u,null,{default:w((()=>[x(d,{modelValue:e.offerEdited.check_frod_autolog,"onUpdate:modelValue":t[31]||(t[31]=t=>e.offerEdited.check_frod_autolog=t),reduce:e=>e.id,label:"name",options:[{id:0,name:"Disable"},{id:1,name:"Check with interval"},{id:2,name:"Check all leads"}],"push-tags":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})]),1==e.offerEdited.check_frod_autolog?(g(),f("div",vS,[x(c,null,{default:w((()=>[x(m,null,{default:w((()=>[C("Interval")])),_:1}),x(u,{style:{position:"relative"}},{default:w((()=>[x(p,{type:"text",placeholder:"",modelValue:e.offerEdited.interval_autolog,"onUpdate:modelValue":t[32]||(t[32]=t=>e.offerEdited.interval_autolog=t)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0)])],512),[[ae,"frod"==a]])])])),_:1},8,["tabs"])])],32)]),e.offerEdited.custom_cap?(g(),f("div",bS,[V("form",SS,[V("div",kS,[wS,V("div",VS,[V("div",PS,[(g(!0),f(j,null,K(l.weeks,((e,t)=>(g(),f("div",{class:"column is-12",key:t},[x(c,{addons:""},{default:w((()=>[V("div",xS,[x(u,null,{default:w((()=>[V("div",CS,[x(E,{trueValue:"1",color:"primary",style:{"padding-left":"0","padding-right":"0"},class:"",modelValue:this.offerEdited.weeks[t]["is_"+e.id],"onUpdate:modelValue":a=>this.offerEdited.weeks[t]["is_"+e.id]=a},null,8,["modelValue","onUpdate:modelValue"]),V("div",IS,P(e.name),1)])])),_:2},1024),x(u,null,{default:w((()=>[Y(V("input",{class:"input v-input",type:"text","onUpdate:modelValue":a=>this.offerEdited.weeks[t][e.id+"_start_cap"]=a,maxlength:"8",onInput:a=>i.validateTime(t,e.id+"_start_cap")},null,40,DS),[[G,this.offerEdited.weeks[t][e.id+"_start_cap"]],[z,"##:##:##"]])])),_:2},1024),x(u,null,{default:w((()=>[LS])),_:1}),x(u,{subcontrol:""},{default:w((()=>[Y(V("input",{class:"input v-input",type:"text","onUpdate:modelValue":a=>this.offerEdited.weeks[t][e.id+"_end_cap"]=a,onInput:a=>i.validateTime(t,e.id+"_end_cap"),maxlength:"8"},null,40,$S),[[G,this.offerEdited.weeks[t][e.id+"_end_cap"]],[z,"##:##:##"]])])),_:2},1024)])])),_:2},1024)])))),128))])])])])])):I("",!0),I("",!0)],64)}]]),AS={name:"AdminBroker",data:()=>({active_tab:"general"}),mounted(){s({title:this.$route.meta.title}),this.editPartner(),this.getUsersSelect(["affiliate_manager"])},methods:{...Se(["getCurrentPartner","getUsersSelect"]),editPartner(){this.$store.dispatch("getCurrentPartner",this.$route.params.id)},onSubmit(){let e=this.currentPartner;e.managers=this.globalCallback(e.managers);let t={id:this.currentPartner.id,data:e};this.$store.dispatch("updatePartner",t)}},computed:{...be(["usersSelect","currentPartner"])}},OS={class:"users_form_wrap"},FS={class:"nav"},US={class:"buttons"},MS=[V("i",{class:"lnil lnil-home","aria-hidden":"true"},null,-1),V("span",null,"General",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],ES=[V("i",{class:"lnil lnil-reload-alt","aria-hidden":"true"},null,-1),V("span",null,"Postback",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],BS={class:"form-outer"},zS={class:"form-header-inner"},jS={class:"left"},RS={class:"right"},NS={class:"buttons"},HS={class:"form-body"},WS={class:"form-fieldset"},YS={class:"columns is-multiline"},GS={class:"column is-4"},qS={class:"column is-4"},JS={class:"column is-4"},KS={class:"form-fieldset"},XS={class:"columns is-multiline"},ZS={class:"column is-12"},QS=[V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)];const ek=fe(AS,[["render",function(e,t,a,s,l,i){const o=bt,r=Ft,n=Wt,d=Nt,u=Et,c=$("v-selects"),m=xd;return g(),f("div",OS,[V("div",FS,[V("div",US,[V("a",{onClick:t[0]||(t[0]=B((e=>l.active_tab="general"),["prevent"])),href:"#",class:_({active:"general"===l.active_tab})},MS,2),V("a",{onClick:t[1]||(t[1]=B((e=>l.active_tab="postback"),["prevent"])),href:"#",class:_({active:"postback"===l.active_tab})},ES,2)])]),V("form",{class:"form-layout",onSubmit:t[8]||(t[8]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[V("div",BS,[V("div",{class:_([[e.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",zS,[V("div",jS,[V("h3",null,"Broker #"+P(this.$route.params.id),1)]),V("div",RS,[V("div",NS,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[2]||(t[2]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])],2),V("div",HS,[Y(V("div",WS,[V("div",YS,[V("div",GS,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Name")])),_:1}),x(d,{icon:"feather:user"},{default:w((()=>[x(n,{type:"text",modelValue:e.currentPartner.name,"onUpdate:modelValue":t[3]||(t[3]=t=>e.currentPartner.name=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",qS,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Manager")])),_:1}),x(d,null,{default:w((()=>[x(c,{modelValue:e.currentPartner.managers,"onUpdate:modelValue":t[4]||(t[4]=t=>e.currentPartner.managers=t),reduce:e=>e.id,label:"name",options:e.usersSelect,multiple:"","push-tags":"","close-onSelect":!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",JS,[x(u,{class:"is-flex justify-center align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(m,{modelValue:e.currentPartner.is_not_duplicate_send,"onUpdate:modelValue":t[5]||(t[5]=t=>e.currentPartner.is_not_duplicate_send=t),trueValue:"1",label:"Don't send duplicate leads",color:"primary",style:{"padding-left":"0","padding-top":"35px"}},null,8,["modelValue"])])),_:1})])),_:1})])])],512),[[ae,"general"==l.active_tab]]),Y(V("div",KS,[V("div",XS,[V("div",ZS,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Postback URL")])),_:1}),x(d,{class:"block-copy-text relative"},{default:w((()=>[x(n,{style:{cursor:"inherit"},readonly:"",disabled:"",type:"text",modelValue:e.currentPartner.postback_url,"onUpdate:modelValue":t[6]||(t[6]=t=>e.currentPartner.postback_url=t)},null,8,["modelValue"]),V("button",{type:"button",class:"copy-text",onClick:t[7]||(t[7]=t=>e.globalCopyText(e.currentPartner.postback_url))},QS)])),_:1})])),_:1})])])],512),[[ae,"postback"==l.active_tab]])])])],32)])}]]),tk={name:"AdminFunnels",data:()=>({searchModel:"",filterValues:{},rowsPerPage:25,page:1,loading:!0,name:"",createDialog:!1,createGroupDialog:!1,editDialog:!1,editGroupDialog:!1,editGroup:{},new_group_funnels:[],landsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Actions",sortable:!1,value:"action"}],tabs:[{label:"Funnels",value:"funnels"},{label:"Funnel groups",value:"funnel_groups"}],selectedTab:"funnels",statusFunnelsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Group",sortable:!1,value:"name"},{text:"Funnels",sortable:!1,value:"funnels"},{text:"Actions",sortable:!1,value:"action"}]}),mounted(){s({title:this.$route.meta.title}),this.getItems()},methods:{...Se(["getLandingNamesSelect"]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),changedTab(e){this.selectedTab=e,this.getItems()},create(){this.loading=!0,this.$store.dispatch("createLandingName",{name:this.name}).then((()=>{this.createDialog=!1,this.name=""})).finally((()=>this.loading=!1))},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteLandingName",e).then((()=>{alert("Successfully!")})).finally((()=>this.loading=!1))},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},createGroupOpen(){this.getLandingNamesSelect(),this.createGroupDialog=!0},createGroupClose(){this.createGroupDialog=!1,this.name="",this.new_group_funnels=[]},editGroupClose(){this.editGroupDialog=!1,this.editGroup={}},editFunnelsGroup(e){this.getLandingNamesSelect(),this.editGroup=e,this.editGroup.funnels=this.editGroup.funnels.map((e=>e.id)),this.editGroupDialog=!0},getItems(e=1){let t=this.filterValues,a="landing-names";this.loading=!0,"funnel_groups"==this.selectedTab&&(a="landing-names/groups"),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:a,page:e,filtersValues:t}).finally((()=>this.loading=!1))},createGroup(){if(this.name.length<3)return void this.$store.commit("setAlert",{message:"The name must contain at least 3 characters",type:"error"});if("funnel_groups"==this.selectedTab&&this.new_group_funnels.length<1)return void this.$store.commit("setAlert",{message:"The group must contain at least 1 status",type:"error"});this.loading=!0;let e={name:this.name,funnels:this.new_group_funnels};this.$store.dispatch("createFunnelGroup",e).then((()=>{this.createGroupDialog=!1,this.name="",this.new_group_funnels=[]})).finally((()=>{this.loading=!1})),this.getItems()},updateGroup(){if(this.editGroup.name.length<3)return void this.$store.commit("setAlert",{message:"The name must contain at least 3 characters",type:"error"});if(this.editGroup.funnels.length<1)return void this.$store.commit("setAlert",{message:"The group must contain at least 1 status",type:"error"});this.loading=!0;let e=this.editGroup;this.$store.dispatch("updateFunnelsGroup",e).then((()=>{this.getItems(),this.editGroupDialog=!1,this.editGroup={}})).finally((()=>{this.loading=!1}))},deleteFunnelGroup(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteFunnelGroup",e.id).then((()=>{alert("Successfully!")})).finally((()=>{this.loading=!1})))}},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)}},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","landingNamesSelect","funnelGroups"])}},ak={class:"list-flex-toolbar flex-list-v1"},sk={key:0},lk={key:1},ik={class:"pagination_wrap"},ok={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},rk={key:0},nk={key:1},dk={key:0},uk={class:"pagination_wrap"},ck={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},mk={key:0},pk={key:1},hk=V("span",{class:"headline"},"New Funnel",-1),gk=V("span",{class:"headline"},"Create Group Funnels",-1),fk=V("span",{class:"headline"},"Edit Group Funnels",-1);const yk=fe(tk,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=Qr,h=Df,y=ba,_=$("v-card-title"),v=Ft,b=Wt,S=$("v-col"),D=$("v-row"),L=$("v-container"),T=$("v-card-text"),A=$("v-spacer"),O=$("v-btn"),F=$("v-card-actions"),U=ft,M=$("v-dialog"),E=$("v-selects");return g(),f(j,null,[V("div",ak,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>["funnel_groups"!=this.selectedTab?(g(),k(n,{key:0,color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[1]||(t[1]=e=>i.createOpen())},{default:w((()=>[C(" Add Funnel ")])),_:1})):I("",!0),"funnel_groups"==this.selectedTab?(g(),k(n,{key:1,color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[2]||(t[2]=e=>i.createGroupOpen())},{default:w((()=>[C(" Add Funnels Group ")])),_:1})):I("",!0)])),_:1})]),x(y,{selected:"funnels",tabs:l.tabs,"onUpdate:selected":i.changedTab},{tab:w((({activeValue:a})=>["funnels"===a?(g(),f("div",sk,[x(c,{headers:l.landsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((({id:e})=>[x(u,{showView:!1,onRemove:t=>i.deleteItem(e)},null,8,["onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)])):I("",!0),"funnel_groups"===a?(g(),f("div",lk,[V("div",ik,[V("div",ok,[C(" Showing "),1==l.page?(g(),f("span",rk,P(l.page),1)):(g(),f("span",nk,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalPagesItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[4]||(t[4]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(c,{headers:l.statusFunnelsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-funnels":w((({funnels:e})=>[e&&e.length?(g(),k(h,{key:0},{default:w((()=>[e.length>1?(g(),f("div",dk,[(g(!0),f(j,null,K(e,((e,t)=>(g(),k(p,{key:t,label:e.name},null,8,["label"])))),128))])):(g(),k(p,{key:1,label:e[0].name},null,8,["label"]))])),_:2},1024)):I("",!0)])),"item-action":w((e=>[x(u,{onView:t=>i.editFunnelsGroup(e),onRemove:t=>i.deleteFunnelGroup(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),V("div",uk,[V("div",ck,[C(" Showing "),1==l.page?(g(),f("span",mk,P(l.page),1)):(g(),f("span",pk,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalPagesItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[5]||(t[5]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)])])):I("",!0)])),_:1},8,["tabs","onUpdate:selected"]),x(M,{modelValue:l.createDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(U,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[hk])),_:1}),x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(S,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[6]||(t[6]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(F,null,{default:w((()=>[x(A),x(O,{color:"#009688",text:"",onClick:t[7]||(t[7]=e=>i.createClose())},{default:w((()=>[C("Close")])),_:1}),x(O,{color:"#009688",text:"",onClick:t[8]||(t[8]=e=>i.create())},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(M,{modelValue:l.createGroupDialog,"onUpdate:modelValue":t[14]||(t[14]=e=>l.createGroupDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(U,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[gk])),_:1}),x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(S,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[10]||(t[10]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(S,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(E,{modelValue:l.new_group_funnels,"onUpdate:modelValue":t[11]||(t[11]=e=>l.new_group_funnels=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(F,null,{default:w((()=>[x(A),x(O,{color:"#009688",text:"",dark:"",onClick:t[12]||(t[12]=e=>i.createGroupClose())},{default:w((()=>[C("Отмена")])),_:1}),x(O,{color:"#009688",text:"",dark:"",onClick:t[13]||(t[13]=e=>i.createGroup())},{default:w((()=>[C("Создать")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(M,{modelValue:l.editGroupDialog,"onUpdate:modelValue":t[19]||(t[19]=e=>l.editGroupDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(U,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[fk])),_:1}),x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(S,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editGroup.name,"onUpdate:modelValue":t[15]||(t[15]=e=>l.editGroup.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(S,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(E,{modelValue:l.editGroup.funnels,"onUpdate:modelValue":t[16]||(t[16]=e=>l.editGroup.funnels=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(F,null,{default:w((()=>[x(A),x(O,{color:"#009688",text:"",dark:"",onClick:t[17]||(t[17]=e=>i.editGroupClose())},{default:w((()=>[C("Cancel")])),_:1}),x(O,{color:"#009688",text:"",dark:"",onClick:t[18]||(t[18]=e=>i.updateGroup())},{default:w((()=>[C("Update")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),_k={name:"SourceTable",data:()=>({searchModel:"",filterValues:{},rowsPerPage:25,page:1,loading:!0,inputLoading:!1,createDialog:!1,saveDialog:!1,serverErrors:{},current_source:{},name:null,sourceHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Action",sortable:!1,value:"action"}]}),provide:function(){return{getItems:this.getItems}},mounted(){this.getItems()},methods:{checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},toggleSaveDialog(){this.saveDialog=!this.saveDialog},editSource(e,t){this.current_source.id=e,this.current_source.name=t,this.toggleSaveDialog()},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"sources",page:e,filtersValues:t}).then((()=>{this.loading=!1}))},create(){let e={name:this.name};this.$store.dispatch("createSource",e).then((()=>{this.createDialog=!1,this.name=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems()},save(){let e=this.current_source;this.$store.dispatch("updateSource",e).then((()=>{this.saveDialog=!1,this.current_source={}})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems()},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteSource",e).then((()=>{alert("Successfully!")}))}},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)}},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"])}},vk={class:"list-flex-toolbar flex-list-v1"},bk=V("span",{class:"headline"},"Add new source",-1),Sk=V("span",{class:"headline"},"Edit source",-1);const kk=fe(_k,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=$("v-col"),v=$("v-row"),b=$("v-container"),S=$("v-card-text"),P=$("v-spacer"),D=$("v-btn"),L=$("v-card-actions"),T=ft,A=$("v-dialog");return g(),f(j,null,[V("div",vk,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[1]||(t[1]=e=>i.createOpen())},{default:w((()=>[C(" Add Source ")])),_:1})])),_:1})]),x(c,{headers:l.sourceHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((({id:e,name:t})=>[x(u,{onView:a=>i.editSource(e,t),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[2]||(t[2]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(A,{modelValue:l.createDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(T,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[bk])),_:1}),x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[3]||(t[3]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(L,null,{default:w((()=>[x(P),x(D,{color:"#009688",text:"",dark:"",onClick:t[4]||(t[4]=e=>i.createClose())},{default:w((()=>[C("Cancel")])),_:1}),x(D,{color:"#009688",text:"",dark:"",onClick:t[5]||(t[5]=e=>i.create())},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(A,{modelValue:l.saveDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>l.saveDialog=e),"max-width":"500px"},{default:w((()=>[x(T,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[Sk])),_:1}),x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.current_source.name,"onUpdate:modelValue":t[7]||(t[7]=e=>l.current_source.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(L,null,{default:w((()=>[x(P),x(D,{color:"#009688",text:"",dark:"",onClick:t[8]||(t[8]=e=>i.toggleSaveDialog())},{default:w((()=>[C("Cancel")])),_:1}),x(D,{color:"#009688",text:"",dark:"",onClick:t[9]||(t[9]=e=>i.save())},{default:w((()=>[C("Save")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]);const wk=fe({name:"AdminSources",components:{SourceTable:kk},mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("SourceTable");return g(),k(o)}]]),Vk={name:"StatisticsFilter",data:()=>({loading:!1}),props:["filters","filterValues","drawer","refreshTables"],computed:{...be(["offerFilters","countryFilters","landingNameFilters","webmasterFilters","utmFilters","utmParamsFilters","sourceFilters"]),filterValues:{get(){return this.filterValues},set(e){this.$emit("update:filterValues",e)}}},methods:{getItems(){console.log(this.filterValues),this.$parent.filterValues=this.filterValues,this.refreshTables()},getSourceFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getSourceFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getCountryFilters(){console.log(this.filterValues);let e=this.filterValues;this.loading=!0,this.$store.dispatch("getCountryFilters",{filtersValues:e}).then((e=>{this.loading=!1,console.log("console.log(this.filterValues)"),console.log(this.filterValues)}))},getLandingNameFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getLandingNameFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getWebmasterFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getWebmasterFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getUTMFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getUtmFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getUTMParamsFilters(e){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getUtmParamsFilters",{id:e,filtersValues:t}).then((()=>{this.loading=!1}))}}},Pk={class:"columns is-multiline"},xk={key:0,class:"column is-3"},Ck={key:1,class:"column is-3"},Ik={key:2,class:"column is-3"},Dk={key:3,class:"column is-3"},Lk={key:4,class:"column is-3"},$k={key:5,class:"column is-3"},Tk={key:6,class:"column is-3"},Ak={class:"column is-3"};const Ok=fe(Vk,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=$("v-list"),u=$("v-col");return a.drawer?(g(),k(u,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(d,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",Pk,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["countries"==a.id?(g(),f("div",xk,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Countries")])),_:1}),x(r,{modelValue:i.filterValues.country_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.filterValues.country_ids=e),t[2]||(t[2]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[1]||(t[1]=e=>i.getItems()),"onSearch:focus":i.getCountryFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"funnels"==a.id?(g(),f("div",Ck,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,{modelValue:i.filterValues.landing_name_ids,"onUpdate:modelValue":[t[3]||(t[3]=e=>i.filterValues.landing_name_ids=e),t[4]||(t[4]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getLandingNameFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"offer"==a.id?(g(),f("div",Ik,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(r,{modelValue:i.filterValues.offer_ids,"onUpdate:modelValue":[t[5]||(t[5]=e=>i.filterValues.offer_ids=e),t[6]||(t[6]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onClick:e.test,"onSearch:focus":i.getOfferFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onClick","onSearch:focus"])])),_:1})])):I("",!0),"webmasters"==a.id?(g(),f("div",Dk,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Webmasters")])),_:1}),x(r,{modelValue:i.filterValues.web_master_ids,"onUpdate:modelValue":[t[7]||(t[7]=e=>i.filterValues.web_master_ids=e),t[8]||(t[8]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.webmasterFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getWebmasterFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"sources"==a.id?(g(),f("div",Lk,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Sources")])),_:1}),x(r,{modelValue:i.filterValues.source_ids,"onUpdate:modelValue":[t[9]||(t[9]=e=>i.filterValues.source_ids=e),t[11]||(t[11]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.sourceFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[10]||(t[10]=e=>i.getItems()),"onSearch:focus":i.getSourceFilters,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"ftd_date"==a.id?(g(),f("div",$k,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Filter by FTD")])),_:1}),x(r,{modelValue:i.filterValues.ftd_date,"onUpdate:modelValue":[t[12]||(t[12]=e=>i.filterValues.ftd_date=e),t[13]||(t[13]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:[{id:0,name:"No"},{id:1,name:"Yes"}],"push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])):I("",!0),"utm"==a.id?(g(),f("div",Tk,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("UTM")])),_:1}),x(r,{modelValue:i.filterValues.utm,"onUpdate:modelValue":[t[14]||(t[14]=e=>i.filterValues.utm=e),t[15]||(t[15]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.utmFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getUTMFilters,"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),i.filterValues.utm&&"utm"==a.id?(g(!0),f(j,{key:7},K(i.filterValues.utm,(a=>(g(),f("div",Ak,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C(P(e.utmFilters.find((e=>e.id===a))?.name),1)])),_:2},1024),x(r,{modelValue:i.filterValues.utmParam[a],"onUpdate:modelValue":[e=>i.filterValues.utmParam[a]=e,t[16]||(t[16]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.utmParamsFilters[a],multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":e=>i.getUTMParamsFilters(a),"append-to-body":"",deselectFromDropdown:!0},null,8,["modelValue","onUpdate:modelValue","reduce","options","onSearch:focus"])])),_:2},1024)])))),256)):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]),Fk=he("layoutSwitcher",(()=>{const e=ce(),t=u((()=>e?.fullPath?.startsWith?.("/navbar/"))),a=u((()=>e?.fullPath?.startsWith?.("/sidebar/"))),s=u((()=>t.value||a.value)),l=u((()=>e?.fullPath?.replace?.("sidebar","navbar")??"")),i=u((()=>e?.fullPath?.replace?.("navbar","sidebar")??"")),o=c({loader:()=>Qe((()=>import("./NavbarLayout-B-sL_L66.js")),__vite__mapDeps([8,9,3,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,2,4,5,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,62,63,64])),delay:0,suspensible:!1}),r=c({loader:()=>Qe((()=>import("./NavbarDropdownLayout-BfiqNPJn.js")),__vite__mapDeps([65,9,3,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,34,36,37,2,4,5,38,39,40,41,42,33,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,63,64])),delay:0,suspensible:!1}),n=c({loader:()=>Qe((()=>import("./NavbarSearchLayout-C8anRwUw.js")),__vite__mapDeps([66,9,3,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32,33,34,36,37,2,4,5,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,67,63,64])),delay:0,suspensible:!1}),d={"navbar-default":o,"navbar-fade":o,"navbar-colored":o,"navbar-dropdown":r,"navbar-dropdown-colored":r,"navbar-clean":n,"navbar-clean-center":n,"navbar-clean-fade":n},m=Object.keys(d);console.log(m);const h=p("navbar-default"),g=u((()=>d[h.value]||o)),f=u((()=>{switch(h.value){case"navbar-fade":case"navbar-clean-fade":return"fade";case"navbar-colored":case"navbar-dropdown-colored":return"colored";case"navbar-clean-center":return"center";default:return"default"}})),y=c({loader:()=>Qe((()=>import("./SidebarLayout-BPWdV7yT.js")),__vite__mapDeps([68,9,3,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32,33,69,70,34,35,36,37,2,4,5,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,71,63,64])),delay:0,suspensible:!1}),_=c({loader:()=>Qe((()=>import("./SideblockLayout-CBNJ5cKh.js")),__vite__mapDeps([72,73,9,3,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32,33,69,70,74,36,37,2,4,5,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,63,64])),delay:0,suspensible:!1}),v={"sidebar-default":y,"sidebar-color":y,"sidebar-color-curved":y,"sidebar-curved":y,"sidebar-float":y,"sidebar-labels":y,"sidebar-labels-hover":y,"sidebar-min":y,"sideblock-default":_,"sideblock-color":_,"sideblock-color-curved":_,"sideblock-curved":_},b=Object.keys(v),S=p("sidebar-default"),k=u((()=>v[S.value]||y)),w=u((()=>{switch(S.value){case"sidebar-float":return"float";case"sidebar-labels":return"labels";case"sidebar-labels-hover":return"labels-hover";case"sidebar-color":case"sideblock-color":return"color";case"sidebar-curved":case"sideblock-curved":return"curved";case"sideblock-color-curved":case"sidebar-color-curved":return"color-curved";case"sidebar-min":return"min";default:return"default"}})),V=u({get:()=>t.value?h.value:S.value,set:e=>{m.includes(e)?h.value=e:b.includes(e)&&(S.value=e)}}),P=u((()=>t.value?g.value:k.value)),x=u((()=>t.value?{theme:f.value,key:h.value}:{theme:w.value,key:S.value}));const C=p(0);function I(e){localStorage.show_navbar_statistic=e,C.value=e}return null!=localStorage.show_navbar_statistic&&I(localStorage.show_navbar_statistic),{dynamicLayoutComponent:P,dynamicLayoutProps:x,dynamicLayoutId:V,setDynamicLayoutId:function(e){localStorage.sidebar_theme=e,V.value=e},sidebarLayoutId:S,setDynamicNavbarStatistic:I,dynamicNavbarStatistic:C,sidebarLayoutComponent:k,sidebarLayoutTheme:w,navbarLayoutId:h,navbarLayoutComponent:g,navbarLayoutTheme:f,isNavbarRoute:t,isSidebarRoute:a,navbarLayoutLink:l,sidebarLayoutLink:i,hasDynamicLayout:s}})),Uk={name:"StatisticsTable",components:{StatisticsFilter:Ok,DatePicker:io},props:["userTable","funnelTable","campaignTable","teamleadsTable","filters","countryTable","sourceTable"],data(){return{activeTab:"buying",tabs:[{label:"Buying",value:"buying"},{label:"Network",value:"network"}],serverOptions:{page:1,rowsPerPage:1e3,sortBy:"id",sortType:"desc"},drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},ftdType:[{name:"FTD - By Date",value:"ftd_by_date"},{name:"Month Deposits",value:"ftd_month"},{name:"Past Months Deposits",value:"ftd_past"}],sendTypes:[{name:"Total",value:"total"},{name:"Sended",value:"sended"}],dateTypes:[{name:"Send Date",value:"created_at"},{name:"Created Date",value:"sended_date"}],items:[{player:"Stephen Curry",team:"GSW"},{player:"Lebron James",team:"LAL"},{player:"Kevin Durant",team:"BKN"},{player:"Giannis Antetokounmpo",team:"MIL"}],userStatHeaders:[{text:"User",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],teamleadsStatHeaders:[{text:"Teamlead",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Buy",sortable:!1,value:"buy"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],landStatHeaders:[{text:"Funnel",sortable:!1,value:"funnel"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],sourceStatHeaders:[{text:"Source",sortable:!1,value:"source"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],countryStatHeaders:[{text:"GEO",sortable:!1,value:"country"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],offerStatHeaders:[{text:"Offer",sortable:!1,value:"offer"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,utmParam:[],dateType:this.dateType,sendType:"total",source_ids:[],ftdType:"ftd_by_date"},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:"",expandedRows:[]}},mounted(){this.activeTab=this.typeStat,this.filterValues.dateType=this.dateType,this.refreshTables()},methods:{changeTableHeaders(){"buying"==this.activeTab?(this.userStatHeaders=[{text:"User",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],this.landStatHeaders=[{text:"Funnel",sortable:!1,value:"funnel"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],this.countryStatHeaders=[{text:"GEO",sortable:!1,value:"country"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],this.offerStatHeaders=[{text:"Offer",sortable:!1,value:"offer"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}]):"network"==this.activeTab&&(this.userStatHeaders=[{text:"User",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Pay",sortable:!1,value:"pay"},{text:"Profit",sortable:!1,value:"profit"}],this.landStatHeaders=[{text:"Funnel",sortable:!1,value:"funnel"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Profit",sortable:!1,value:"profit"}],this.countryStatHeaders=[{text:"GEO",sortable:!1,value:"country"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Profit",sortable:!1,value:"profit"}],this.offerStatHeaders=[{text:"Offer",sortable:!1,value:"offer"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Profit",sortable:!1,value:"profit"}])},changeTab(e){this.activeTab=e},async getUserDetails(e){let t;t=this.generateFilterParams(),this.loading=!0;let a=e;return this.$store.dispatch("getWebmasterDetailsStats",{path:`users/statistics/${e}`,id:a,filterValues:t}).then((()=>this.webmasterDetailsStats[e]))},async getCampaignDetails(e){let t;t=this.generateFilterParams(),this.loading=!0;let a=e;return this.$store.dispatch("getCampaignDetailsStats",{path:`offers/statistics/${e}`,id:a,filterValues:t}).then((()=>this.campaignDetailsStats[e]))},async loadIntroduction(e){const t=this.webmasterStats[e];t&&!t.details&&(t.expandLoading=!0,t.details=this.getUserDetails(t.user_id),this.loading=!1,t.expandLoading=!1)},async expandTeamleadUsers(e,t){const a=t;a&&(a.expandLoading=!0,a.details=await this.getUserDetails(t.user_id),this.loading=!1,a.expandLoading=!1)},async expandOffers(e){const t=this.offerStats[e];return t.details||(t.expandLoading=!0,console.log("expandedItem"),t.details=this.getCampaignDetails(t.offer_id),this.loading=!1,t.expandLoading=!1),this.expandedRows.push(e),this.expandedRows},selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period=null,this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.period=null,this.refreshTables()},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.period=e,this.refreshTables()},refreshTables(){this.userTable&&this.getUserStats(),this.teamleadsTable&&this.getTeamleadsStats(),this.funnelTable&&"buyer"==this.getRole&&this.getUserStats()},generateFilterParams(){let e=this.period;this.filterValues.period=this.period;let t="";if(t="string"==typeof e&&""!=e?"period="+e:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,t+="&sendType="+this.filterValues.sendType,t+="&dateType="+this.filterValues.dateType,this.filterValues.web_master_ids.length>0&&(t+="&web_master_ids="+this.filterValues.web_master_ids.join(",")),this.filterValues.country_ids.length>0&&(t+="&country_ids="+this.filterValues.country_ids.join(",")),this.filterValues.landing_name_ids.length>0&&(t+="&landing_name_ids="+this.filterValues.landing_name_ids.join(",")),this.filterValues.offer_ids.length>0&&(t+="&offer_ids="+this.filterValues.offer_ids.join(",")),this.filterValues.source_ids.length>0&&(t+="&source_ids="+this.filterValues.source_ids.join(",")),this.filterValues.utmParam){let e="";for(let t in this.filterValues.utmParam)e+=this.filterValues.utmParam[t].join(",")+",";e=e.replace(/,+$/,""),t+=`&utmParam=${e}`}return this.filterValues.utm&&(t+=`&utm=${this.filterValues.utm.join(",")}`),this.filterValues.ftd_date>0&&(t+="&ftd_date="+this.filterValues.ftd_date),t+="&type="+this.activeTab,t+="&ftdType="+this.filterValues.ftdType,t},getUserStats(){let e;e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getWebmasterStats",{path:"users/statistics",filterValues:e}).then((()=>{this.loading=!1}))},getTeamleadWebmastersStats(){let e;e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getTeamleadWebmastersStats",{path:"teamleads/webmaster-statistics",filterValues:e}).then((e=>{console.log("res",e),this.loading=!1}))},getTeamleadsStats(){let e=this.generateFilterParams();this.loading=!0,this.$store.dispatch("getTeamleadsStats",{path:"teamleads/statistics",filterValues:e}).then((()=>{this.loading=!1}))},getLandStats(){let e;e="string"==typeof period?"period="+this.period:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getLandingStats",{path:"landing-names/statistics",filterValues:e}).then((()=>this.loading=!1))},getOfferStats(){let e;this.$refs.campaignTable.updatePage(2),this.$refs.campaignTable.updatePage(1),console.log("refs"),console.log(this.$refs.dataTable),e="string"==typeof period?"period="+this.period:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getOfferStats",{path:"offers/statistics",filterValues:e}).then((()=>this.loading=!1))},switchFilters(){console.log("test"),this.drawer=!this.drawer}},watch:{"filterValues.dateType":function(e,t){this.$store.dispatch("updateDateType",e)},selectedTab(){console.log(22),this.refreshTables()},activeTab(){this.$store.dispatch("updateTypeStat",this.activeTab),this.changeTableHeaders(),this.getUserStats()}},computed:{...be(["typeStat","campaignDetailsStats","webmasterDetailsStats","webmasterStats","teamleadsStats","teamleadDetailsStats","teamleadWebmastersStats","landingStats","sourceStats","offerStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","dateType","getRole","countryStats"])}},Mk={key:0,class:"tabs-inner"},Ek={class:"tabs m-0"},Bk=[V("a",{"aria-current":"page",class:"router-link-active router-link-exact-active"},[V("span",null,"Buying")],-1)],zk=[V("a",{"aria-current":"page",class:"router-link-active router-link-exact-active"},[V("span",null,"Network")],-1)],jk={class:"filter-tab"},Rk={class:"buttons filter-buttons"},Nk={class:"multiselect-single-label"},Hk={class:"select-label-text"},Wk={class:"select-label-text"},Yk={class:"multiselect-single-label"},Gk={class:"select-label-text"},qk={class:"select-label-text"},Jk={class:"multiselect-single-label"},Kk={class:"select-label-text"},Xk={class:"select-label-text"},Zk=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),Qk=["innerHTML"],ew=["innerHTML"],tw=["innerHTML"],aw=["innerHTML"],sw={style:{"padding-right":"0","padding-left":"30px"}},lw=["innerHTML"],iw=["innerHTML"],ow=["innerHTML"],rw=["innerHTML"],nw=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),dw=["innerHTML"],uw=["innerHTML"],cw=["innerHTML"],mw=["innerHTML"],pw={key:0,style:{"padding-right":"0","padding-left":"30px"}},hw=["innerHTML"],gw=["innerHTML"],fw=["innerHTML"],yw=["innerHTML"],_w=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),vw=["innerHTML"],bw=["innerHTML"],Sw=["innerHTML"],kw=["innerHTML"],ww={key:0,style:{"padding-right":"0","padding-left":"30px"}},Vw={key:0,style:{"padding-right":"0","padding-left":"30px"}},Pw=["innerHTML"],xw=["innerHTML"],Cw=["innerHTML"],Iw=["innerHTML"],Dw=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),Lw=["innerHTML"],$w=["innerHTML"],Tw=["innerHTML"],Aw=["innerHTML"],Ow=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),Fw=["innerHTML"],Uw=["innerHTML"],Mw=["innerHTML"],Ew=["innerHTML"],Bw=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),zw=["innerHTML"],jw=["innerHTML"],Rw=["innerHTML"],Nw=["innerHTML"];const Hw=fe(Uk,[["render",function(e,t,a,s,l,i){const o=xi,r=$("Multiselect"),n=Et,d=$("DatePicker"),u=$("StatisticsFilter"),c=$("v-col"),m=$("EasyDataTable"),p=$("v-row");return g(),f(j,null,[V("div",{class:_(["v-flex flex-pagination top-pagination pagination is-rounded statistc-page","buyer"!=e.getRole&&"teamlead"!=e.getRole?"":"justify-end"]),style:{display:"flex"}},["buyer"!=e.getRole&&"teamlead"!=e.getRole?(g(),f("div",Mk,[V("div",Ek,[V("ul",null,[V("li",{class:_("buying"==l.activeTab?"is-active":""),onClick:t[0]||(t[0]=e=>i.changeTab("buying"))},Bk,2),V("li",{class:_(["","network"==l.activeTab?"is-active":""]),onClick:t[1]||(t[1]=e=>i.changeTab("network"))},zk,2),V("li",jk,[x(o,{icon:"feather:filter",style:{margin:"0"},color:"primary",onClick:t[2]||(t[2]=e=>i.switchFilters())})])])])])):I("",!0),V("div",Rk,[x(n,{class:"mb-0"},{default:w((()=>[l.filterValues.ftdType?(g(),k(r,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.ftdType,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filterValues.ftdType=e),options:l.ftdType,placeholder:"FTD Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",Nk,[V("span",Hk,P(e.name),1)])])),option:w((({option:e})=>[V("span",Wk,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(n,{class:"mb-0"},{default:w((()=>[l.filterValues.sendType?(g(),k(r,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.sendType,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filterValues.sendType=e),options:l.sendTypes,placeholder:"Send Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",Yk,[V("span",Gk,P(e.name),1)])])),option:w((({option:e})=>[V("span",qk,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(n,{class:"mb-0"},{default:w((()=>[l.filterValues.dateType?(g(),k(r,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.dateType,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filterValues.dateType=e),options:l.dateTypes,placeholder:"Date Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",Jk,[V("span",Kk,P(e.name),1)])])),option:w((({option:e})=>[V("span",Xk,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(d,{period:l.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(o,{icon:"feather:filter",style:{margin:"0"},color:"primary",class:"ml-1 mob-hidden switch-filters",onClick:t[6]||(t[6]=e=>i.switchFilters())})])],2),x(p,null,{default:w((()=>[Y(x(c,{cols:"12"},{default:w((()=>[x(u,{drawer:l.drawer,filterValues:l.filterValues,ref:"statisticsFilter",refreshTables:i.refreshTables,filters:a.filters},null,8,["drawer","filterValues","refreshTables","filters"])])),_:1},512),[[ae,l.drawer]]),a.campaignTable?(g(),k(c,{key:0,cols:"12",md:"6"},{default:w((()=>[x(m,{headers:l.offerStatHeaders,items:e.offerStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,onExpandRow:i.expandOffers,ref:"campaignTable","server-options":l.serverOptions,"onUpdate:serverOptions":t[7]||(t[7]=e=>l.serverOptions=e)},{"empty-message":w((()=>[Zk])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,Qk)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,ew)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,tw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,aw)])),expand:w((e=>[V("div",sw,[this.campaignDetailsStats[e.offer_id]?(g(),k(m,{key:0,headers:l.landStatHeaders,items:this.campaignDetailsStats[e.offer_id],loading:l.loading,"buttons-pagination":!1,"border-color":!1,"no-hover":!0,ref:"campaignTableDetail"},{"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,lw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,iw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,ow)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,rw)])),_:2},1032,["headers","items","loading"])):I("",!0)])])),_:1},8,["headers","items","loading","onExpandRow","server-options"])])),_:1})):I("",!0),a.userTable?(g(),k(c,{key:1,cols:"12",md:"6"},{default:w((()=>[x(m,{headers:l.userStatHeaders,items:e.webmasterStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,onExpandRow:i.loadIntroduction,ref:"dataTable","server-options":l.serverOptions,"onUpdate:serverOptions":t[8]||(t[8]=e=>l.serverOptions=e)},{"empty-message":w((()=>[nw])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,dw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,uw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,cw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,mw)])),expand:w((e=>[this.webmasterDetailsStats[e.user_id]?(g(),f("div",pw,[x(m,{headers:l.landStatHeaders,items:this.webmasterDetailsStats[e.user_id],loading:l.loading,"buttons-pagination":!1,"border-color":!1,"no-hover":!0},{"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,hw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,gw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,fw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,yw)])),_:2},1032,["headers","items","loading"])])):I("",!0)])),_:1},8,["headers","items","loading","onExpandRow","server-options"])])),_:1})):I("",!0),a.teamleadsTable?(g(),k(c,{key:2,cols:"12",md:"12"},{default:w((()=>[x(m,{headers:l.teamleadsStatHeaders,items:e.teamleadsStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,ref:"teamleadTable","server-options":l.serverOptions,"onUpdate:serverOptions":t[9]||(t[9]=e=>l.serverOptions=e)},{"empty-message":w((()=>[_w])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,vw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,bw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,Sw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,kw)])),expand:w((e=>[e.details?(g(),f("div",ww,[x(m,{headers:l.userStatHeaders,items:e.details,loading:l.loading,onExpandRow:i.expandTeamleadUsers,"buttons-pagination":!1,"border-color":!1,"no-hover":!0},{expand:w((e=>[e.details?(g(),f("div",Vw,[x(m,{headers:l.landStatHeaders,items:e.details,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"no-hover":!0},{"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,Pw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,xw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,Cw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,Iw)])),_:2},1032,["headers","items","loading"])])):I("",!0)])),_:2},1032,["headers","items","loading","onExpandRow"])])):I("",!0)])),_:1},8,["headers","items","loading","server-options"])])),_:1})):I("",!0),a.funnelTable?(g(),k(c,{key:3,cols:"12",md:"6"},{default:w((()=>[x(m,{headers:l.landStatHeaders,items:e.landingStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"server-options":l.serverOptions,"onUpdate:serverOptions":t[10]||(t[10]=e=>l.serverOptions=e)},{"empty-message":w((()=>[Dw])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,Lw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,$w)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,Tw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,Aw)])),_:1},8,["headers","items","loading","server-options"])])),_:1})):I("",!0),a.countryTable?(g(),k(c,{key:4,cols:"12",md:"6"},{default:w((()=>[x(m,{headers:l.countryStatHeaders,items:e.countryStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"server-options":l.serverOptions,"onUpdate:serverOptions":t[11]||(t[11]=e=>l.serverOptions=e)},{"empty-message":w((()=>[Ow])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,Fw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,Uw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,Mw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,Ew)])),_:1},8,["headers","items","loading","server-options"])])),_:1})):I("",!0),a.sourceTable&&"buying"==l.activeTab?(g(),k(c,{key:5,cols:"12",md:"6"},{default:w((()=>[x(m,{headers:l.sourceStatHeaders,items:e.sourceStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"empty-message":w((()=>[Bw])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,zw)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,jw)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,Rw)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,Nw)])),_:1},8,["headers","items","loading"])])),_:1})):I("",!0)])),_:1})],64)}]]),Ww={name:"AdminStatistics",components:{StatisticsTable:Hw},data:()=>({drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,ftd_date:0,utmParam:[],source_ids:[]},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),mounted(){s({title:this.$route.meta.title})},created(){window.addEventListener("resize",this.myEventHandler)},destroyed(){window.removeEventListener("resize",this.myEventHandler)},methods:{myEventHandler(e){console.log(window.innerWidth)},statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},Yw=V("span",{class:"headline"},"Please, select statistics to export",-1),Gw=V("span",{class:"headline"},"Your link",-1);const qw=fe(Ww,[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-card-title"),n=bt,d=$("v-col"),u=$("v-row"),c=$("v-container"),m=$("v-card-text"),p=ft,h=$("v-dialog");return g(),k(c,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{userTable:!0,funnelTable:!0,campaignTable:!0,countryTable:!0,sourceTable:!0,filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"UTM"},{id:"ftd_date",type:"input",label:"Phone"},{id:"utm",type:"input",label:"UTM"}]}),x(h,{modelValue:l.exportModel,"onUpdate:modelValue":t[0]||(t[0]=e=>l.exportModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[Yw])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getWebmastersStats},{default:w((()=>[C("Webmasters")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getLandingsStats},{default:w((()=>[C("Landings")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.geOffersStats},{default:w((()=>[C("Offers")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(h,{modelValue:l.createOffersStatsLinkModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.createOffersStatsLinkModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[Gw])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"mb-4",color:"info",to:"/all/offers-statistic/"+l.currentOffersStatsLink,target:"_blank"},{default:w((()=>[C("Your current public link")])),_:1},8,["to"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.createStatisticLink},{default:w((()=>[C("Create new one")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}]]),Jw={name:"StatisticsTable",components:{StatisticsFilter:Ok,DatePicker:io},props:["userTable","funnelTable","campaignTable","teamleadsTable","filters","countryTable","sourceTable"],data(){return{activeTab:"buying",tabs:[{label:"Buying",value:"buying"},{label:"Network",value:"network"}],serverOptions:{page:1,rowsPerPage:1e3,sortBy:"id",sortType:"desc"},drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},ftdType:[{name:"FTD - By Date",value:"ftd_by_date"},{name:"Month Deposits",value:"ftd_month"},{name:"Past Months Deposits",value:"ftd_past"}],sendTypes:[{name:"Total",value:"total"},{name:"Sended",value:"sended"}],dateTypes:[{name:"Send Date",value:"created_at"},{name:"Created Date",value:"sended_date"}],offerStatHeaders:[{text:"Manager",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"}],filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,utmParam:[],dateType:this.dateType,sendType:"total",source_ids:[],ftdType:"ftd_by_date",type:"manager"},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:"",expandedRows:[]}},mounted(){this.filterValues.dateType=this.dateType,this.refreshTables()},methods:{selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period=null,this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.period=null,this.refreshTables()},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.period=e,this.refreshTables()},refreshTables(){this.getUserStats()},generateFilterParams(){let e=this.period;this.filterValues.period=this.period;let t="";if(t="string"==typeof e&&""!=e?"period="+e:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,t+="&sendType="+this.filterValues.sendType,t+="&dateType="+this.filterValues.dateType,this.filterValues.web_master_ids.length>0&&(t+="&web_master_ids="+this.filterValues.web_master_ids.join(",")),this.filterValues.country_ids.length>0&&(t+="&country_ids="+this.filterValues.country_ids.join(",")),this.filterValues.landing_name_ids.length>0&&(t+="&landing_name_ids="+this.filterValues.landing_name_ids.join(",")),this.filterValues.offer_ids.length>0&&(t+="&offer_ids="+this.filterValues.offer_ids.join(",")),this.filterValues.source_ids.length>0&&(t+="&source_ids="+this.filterValues.source_ids.join(",")),this.filterValues.utmParam){let e="";for(let t in this.filterValues.utmParam)e+=this.filterValues.utmParam[t].join(",")+",";e=e.replace(/,+$/,""),t+=`&utmParam=${e}`}return this.filterValues.utm&&(t+=`&utm=${this.filterValues.utm.join(",")}`),this.filterValues.ftd_date>0&&(t+="&ftd_date="+this.filterValues.ftd_date),t+="&type=manager",t},getUserStats(){let e;e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getLandingStats",{path:"manager/statistics",filterValues:e}).then((()=>{this.loading=!1}))},switchFilters(){console.log("test"),this.drawer=!this.drawer}},watch:{"filterValues.dateType":function(e,t){this.$store.dispatch("updateDateType",e)}},computed:{...be(["typeStat","campaignDetailsStats","webmasterDetailsStats","webmasterStats","teamleadsStats","teamleadDetailsStats","teamleadWebmastersStats","landingStats","sourceStats","offerStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","dateType","getRole","countryStats","landingStats"])}},Kw={class:"buttons filter-buttons"},Xw={class:"multiselect-single-label"},Zw={class:"select-label-text"},Qw={class:"select-label-text"},eV={class:"multiselect-single-label"},tV={class:"select-label-text"},aV={class:"select-label-text"},sV=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),lV=["innerHTML"],iV=["innerHTML"],oV=["innerHTML"],rV=["innerHTML"];const nV=fe({name:"AdminStatistics",components:{StatisticsTable:fe(Jw,[["render",function(e,t,a,s,l,i){const o=$("Multiselect"),r=Et,n=$("DatePicker"),d=xi,u=$("StatisticsFilter"),c=$("v-col"),m=$("EasyDataTable"),p=$("v-row");return g(),f(j,null,[V("div",{class:_(["v-flex flex-pagination top-pagination pagination is-rounded statistc-page","buyer"!=e.getRole&&"teamlead"!=e.getRole?"":"justify-end"]),style:{display:"flex","justify-content":"end"}},[V("div",Kw,[x(r,{class:"mb-0"},{default:w((()=>[l.filterValues.sendType?(g(),k(o,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.sendType,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filterValues.sendType=e),options:l.sendTypes,placeholder:"Send Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",Xw,[V("span",Zw,P(e.name),1)])])),option:w((({option:e})=>[V("span",Qw,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(r,{class:"mb-0"},{default:w((()=>[l.filterValues.dateType?(g(),k(o,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.dateType,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValues.dateType=e),options:l.dateTypes,placeholder:"Date Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",eV,[V("span",tV,P(e.name),1)])])),option:w((({option:e})=>[V("span",aV,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(n,{period:l.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{icon:"feather:filter",style:{margin:"0"},color:"primary",class:"ml-1 mob-hidden switch-filters",onClick:t[2]||(t[2]=e=>i.switchFilters())})])],2),x(p,null,{default:w((()=>[Y(x(c,{cols:"12"},{default:w((()=>[x(u,{drawer:l.drawer,filterValues:l.filterValues,ref:"statisticsFilter",refreshTables:i.refreshTables,filters:a.filters},null,8,["drawer","filterValues","refreshTables","filters"])])),_:1},512),[[ae,l.drawer]]),x(c,{cols:"12",md:"12"},{default:w((()=>[x(m,{headers:l.offerStatHeaders,items:e.landingStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,ref:"campaignTable","server-options":l.serverOptions,"onUpdate:serverOptions":t[3]||(t[3]=e=>l.serverOptions=e)},{"empty-message":w((()=>[sV])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,lV)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,iV)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,oV)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,rV)])),_:1},8,["headers","items","loading","server-options"])])),_:1})])),_:1})],64)}]])},data:()=>({drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,ftd_date:0,utmParam:[],source_ids:[]},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),mounted(){s({title:this.$route.meta.title})},created(){window.addEventListener("resize",this.myEventHandler)},destroyed(){window.removeEventListener("resize",this.myEventHandler)},methods:{myEventHandler(e){console.log(window.innerWidth)},statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-container");return g(),k(r,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{userTable:!0,funnelTable:!0,campaignTable:!0,countryTable:!0,sourceTable:!0,filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"UTM"},{id:"ftd_date",type:"input",label:"Phone"},{id:"utm",type:"input",label:"UTM"}]})])),_:1})}]]),dV={name:"CapsChart",components:{ApexChart:we,CampaignPopup:vy},data(){return{isLoaderActive:!1,option:this.gaugeOptions,options:{},loading:!1}},props:["offerMonitoring"],computed:{...be(["offerEdited"])},setup(){const e=at();let t={series:[57,86],chart:{height:200,type:"radialBar",offsetY:-10},colors:[e.accent,e.green],plotOptions:{radialBar:{startAngle:-135,endAngle:135,inverseOrder:!0,dataLabels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:500,offsetY:-10},value:{show:!0,fontWeight:600,color:e.lightText,fontSize:"16px",offsetY:-5},total:{show:!0,fontSize:"14px",fontWeight:500,color:e.lightText,formatter:function(e){return"0/10000"}}},hollow:{margin:15,size:"75%"},track:{strokeWidth:"100%"}}},stroke:{lineCap:"round"},labels:["Invalid","Valid"]};const a=Fk(),s=u((()=>{switch(a.dynamicLayoutId){case"navbar-dropdown":case"navbar-dropdown-colored":return"dropdown";case"navbar-clean":case"navbar-clean-center":case"navbar-clean-fade":return"search";case"navbar-default":case"navbar-fade":case"navbar-colored":return"navbar";case"sideblock-default":case"sideblock-color":case"sideblock-color-curved":case"sideblock-curved":return"sideblock";default:return"sidebar"}})),l=Xr();return{gaugeOptions:t,layoutSwitcher:a,selectedSlug:s,viewWrapper:l}},watch:{offerMonitoring(){this.getOfferMonitoringChart()}},methods:{getOfferMonitoringChart(){const e=at();for(let t of this.offerMonitoring){let a=t.count_leads-t.invalid_leads,s=t.invalid_leads,l=t.count_leads+" / "+t.daily_cap;s&&(s=(s/t.daily_cap*100).toFixed(2)),a&&(a=(a/t.daily_cap*100).toFixed(2));let i={series:[s,a],chart:{height:200,type:"radialBar",offsetY:-10,counts:l},colors:[e.danger,e.green],plotOptions:{radialBar:{startAngle:-135,endAngle:135,inverseOrder:!0,dataLabels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:500,offsetY:-10},value:{show:!0,fontWeight:600,color:e.lightText,fontSize:"16px",offsetY:-5},total:{show:!0,fontSize:"14px",fontWeight:500,color:e.lightText,formatter:function(e){return e.config.chart.counts}}},hollow:{margin:15,size:"75%"},track:{strokeWidth:"100%"}}},stroke:{lineCap:"round"},labels:["Invalid","Valid"]};this.options[t.name]=i}},getItem(e){this.isLoaderActive=!0,this.$store.commit("enableDialogCampaignPopup"),this.$store.dispatch("getOffer",e).then((()=>{this.isLoaderActive=!1})).catch((()=>this.$store.commit("disableOverlay")))}}},uV={class:"finance-dashboard analytics-dashboard"},cV={key:0,class:"columns is-multiline align-items-center"},mV={class:"dashboard-card",style:{position:"relative"}},pV={class:"card-head"},hV={style:{},class:"dark-inverted"},gV=V("br",null,null,-1),fV={key:0,style:{"font-size":"12px"}},yV=["onClick"],_V=[V("i",{class:"iconify","data-icon":"feather:edit","aria-hidden":"true"},null,-1)],vV={class:"radial-wrap"},bV={class:"radial-stats is-dark-bordered-12"},SV={class:"radial-stat is-dark-bordered-12"},kV=V("span",null,"Valid",-1),wV={class:"dark-inverted"},VV={class:"radial-stat"},PV=V("span",null,"Invalid",-1),xV={class:"dark-inverted"},CV={class:"radial-stats is-dark-bordered-12"},IV={class:"radial-stat is-dark-bordered-12"},DV=V("span",null,"FTD",-1),LV={class:"dark-inverted"},$V={class:"radial-stat"},TV=V("span",null,"No Answer",-1),AV={class:"dark-inverted"};const OV={name:"CapsTable",components:{CapsChart:fe(dV,[["render",function(e,t,a,s,l,i){const o=$("ApexChart"),r=$("CampaignPopup");return g(),f("div",uV,[this.loading?I("",!0):(g(),f("div",cV,[(g(!0),f(j,null,K(a.offerMonitoring,(e=>(g(),f("div",{class:_(["column",{"is-3":1==s.viewWrapper.isPushedBlock,"is-2":0==s.viewWrapper.isPushedBlock}]),key:e.name},[V("div",mV,[V("div",pV,[V("h6",hV,[C(P(e.name)+" ",1),gV,C(),e.custom_cap?(g(),f("span",fV,P(e.start_cap)+" - "+P(e.end_cap),1)):I("",!0)]),V("div",{onClick:t=>i.getItem(e.id),style:{cursor:"pointer",position:"absolute",right:"8px",top:"8px"}},_V,8,yV)]),V("div",vV,[this.options[e.name]?(g(),k(o,{key:0,id:"goal-gauge",height:this.options[e.name].chart.height,type:this.options[e.name].chart.type,series:this.options[e.name].series,options:this.options[e.name]},null,8,["height","type","series","options"])):I("",!0),V("div",bV,[V("div",SV,[kV,V("span",wV,P(e.count_leads-e.invalid_leads),1)]),V("div",VV,[PV,V("span",xV,P(e.invalid_leads),1)])]),V("div",CV,[V("div",IV,[DV,V("span",LV,P(e.count_ftd),1)]),V("div",$V,[TV,V("span",AV,P(e.count_no_answer),1)])])])])],2)))),128))])),e.offerEdited?(g(),k(r,{key:1,isLoaderActive:l.isLoaderActive,item:e.offerEdited,action:"edit"},null,8,["isLoaderActive","item"])):I("",!0)])}]])},data:()=>({loading:!0,activeTab:"active"}),props:["campaignStatusesTabs"],computed:{...be(["offerMonitoring"])},mounted(){this.getOfferMonitoring()},watch:{activeTab(){this.getOfferMonitoring()}},methods:{getOfferMonitoring(e="today"){let t;t="string"==typeof e?"period="+e:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,t+="&type="+this.activeTab,this.$store.dispatch("getOfferMonitoring",{path:"offers/dashboard",filterValues:t}).finally((()=>{this.loading=!1}))}}},FV={key:0,class:"tabs-inner"},UV={class:"tabs"},MV=["onClick"],EV=V("li",{class:"tab-naver"},null,-1);const BV=fe(OV,[["render",function(e,t,a,s,l,i){const o=$("CapsChart");return g(),f(j,null,[a.campaignStatusesTabs?(g(),f("div",FV,[V("div",UV,[V("ul",null,[(g(!0),f(j,null,K(a.campaignStatusesTabs,(e=>(g(),f("li",{class:_([l.activeTab===e.name&&"is-active"]),key:e.name},[V("a",{tabindex:"0",onClick:t=>l.activeTab=e.name},[V("span",null,P(e.title),1)],8,MV)],2)))),128)),EV])])])):I("",!0),x(o,{offerMonitoring:e.offerMonitoring},null,8,["offerMonitoring"])],64)}]]);const zV=fe({name:"AdminCaps",components:{CapsTable:BV},data:()=>({campaignStatusesTabs:[{name:"all",title:"Active"},{name:"active",title:"In Progress"},{name:"completed",title:"Completed"},{name:"tomorrow",title:"Tomorrow"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("CapsTable");return g(),k(o,{campaignStatusesTabs:l.campaignStatusesTabs},null,8,["campaignStatusesTabs"])}]]),jV={name:"AdminStatuses",data:()=>({searchModel:"",tabs:[{label:"Statuses",value:"statuses"},{label:"Status types",value:"status_types"},{label:"Status groups",value:"status_groups"}],selectedTab:"statuses",filterValues:{},rowsPerPage:25,page:1,initialStatusesSelect:[],invalidStatusesSelect:[],trashStatusesSelect:[],noAnswerStatusesSelect:[],depositStatusesSelect:[],blackListedStatusesSelect:[],loading:!0,name:"",createDialog:!1,createGroupDialog:!1,editGroupDialog:!1,editGroup:{},new_group_statuses:[],statusHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Status",sortable:!1,value:"name"},{text:"Actions",sortable:!1,value:"action"}],statusGroupsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Group",sortable:!1,value:"name"},{text:"Statuses",sortable:!1,value:"statuses"},{text:"Actions",sortable:!1,value:"action"}],undeletedStatuses:["New","Call again","High potential","Deposit","Low potential","No answer","Duplicate","Duplicate Broker","Wrong age","Wrong geo","No send","Error"]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","leadStatuses","leadStatusGroups","invalidStatuses","trashStatuses","initialStatuses","noAnswerStatuses","blackListedStatuses","depositStatuses"])},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getLeadStatusesSelect(),this.getInitialStatusesSelect(),this.getInvalidStatusesSelect(),this.getTrashStatusesSelect(),this.getNoAnswerStatusesSelect(),this.getBlackListedStatusesSelect(),this.getDepositStatusesSelect()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},initialStatuses(e,t){null!=e&&(this.initialStatusesSelect=e)},invalidStatuses(e,t){null!=e&&(this.invalidStatusesSelect=e)},trashStatuses(e,t){null!=e&&(this.trashStatusesSelect=e)},noAnswerStatuses(e,t){null!=e&&(this.noAnswerStatusesSelect=e)},blackListedStatuses(e,t){null!=e&&(this.blackListedStatusesSelect=e)},depositStatuses(e){null!=e&&(this.depositStatusesSelect=e)}},methods:{...Se(["getLeadStatusesSelect","getLeadStatusGroupsSelect","getInvalidStatusesSelect","getInitialStatusesSelect","saveInvalidStatus","getTrashStatusesSelect","getNoAnswerStatusesSelect","getBlackListedStatusesSelect","getDepositStatusesSelect"]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),changedTab(e){switch(this.selectedTab=e,e){case"statuses":case"status_groups":this.getItems()}},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1,this.name=""},createGroupOpen(){this.createGroupDialog=!0},createGroupClose(){this.createGroupDialog=!1,this.name="",this.new_group_statuses=[]},editGroupClose(){this.editGroupDialog=!1,this.editGroup={}},getItems(e=1){this.page=e;let t=this.filterValues,a="lead-statuses";this.loading=!0,"status_groups"==this.selectedTab&&(a="lead-status-groups"),this.$store.dispatch("getItemsPagination",{path:a,page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){if(this.name.length<3)return void this.$store.commit("setAlert",{message:"The name must contain at least 3 characters",type:"error"});this.loading=!0;let e={name:this.name};this.$store.dispatch("createStatus",e).then((()=>{this.createDialog=!1,this.name=""})).finally((()=>{this.getLeadStatusesSelect(),this.loading=!1})),this.getItems()},createGroup(){if(this.name.length<3)return void this.$store.commit("setAlert",{message:"The name must contain at least 3 characters",type:"error"});if(this.new_group_statuses.length<1)return void this.$store.commit("setAlert",{message:"The group must contain at least 1 status",type:"error"});this.loading=!0;let e={name:this.name,statuses:this.new_group_statuses};this.$store.dispatch("createLeadStatusGroup",e).then((()=>{this.createGroupDialog=!1,this.name="",this.new_group_statuses=[]})).finally((()=>{this.loading=!1})),this.getItems()},saveInitialStatuses(){this.loading=!0;let e={initial:this.globalCallback(this.initialStatusesSelect)};this.$store.dispatch("saveInitialStatus",{data:e}).then((()=>{this.createDialog=!1,this.name=""})).finally((()=>this.loading=!1))},saveInvalidStatuses(){this.loading=!0;let e={invalid:this.globalCallback(this.invalidStatusesSelect)};this.$store.dispatch("saveInvalidStatus",{data:e}).then((()=>{this.createDialog=!1,this.name=""})).finally((()=>this.loading=!1))},saveTrashStatuses(){let e={trash:this.globalCallback(this.trashStatusesSelect)};this.$store.dispatch("saveTrashStatus",{data:e})},saveNoAnswerStatuses(){let e={no_answer:this.globalCallback(this.noAnswerStatusesSelect)};this.$store.dispatch("saveNoAnswerStatus",{data:e})},savBlackListedStatuses(){let e={is_black_listed:this.globalCallback(this.blackListedStatusesSelect)};this.$store.dispatch("saveBlackListedStatus",{data:e})},saveDepositStatuses(){let e={deposit:this.globalCallback(this.depositStatusesSelect)};this.$store.dispatch("saveDepositStatus",{data:e})},deleteItem(e){confirm("Are you sure?")&&(this.undeletedStatuses.includes(e.name)||(this.loading=!0,this.$store.dispatch("deleteStatus",e.id).then((()=>{alert("Successfully!")})).finally((()=>{this.getLeadStatusesSelect(),this.loading=!1}))))},editLeadStatusGroup(e){this.editGroup=e,this.editGroup.statuses=this.editGroup.statuses.map((e=>e.id)),this.editGroupDialog=!0},updateGroup(){if(this.editGroup.name.length<3)return void this.$store.commit("setAlert",{message:"The name must contain at least 3 characters",type:"error"});if(this.editGroup.statuses.length<1)return void this.$store.commit("setAlert",{message:"The group must contain at least 1 status",type:"error"});this.loading=!0;let e=this.editGroup;this.$store.dispatch("updateLeadStatusGroup",e).then((()=>{this.getItems(),this.editGroupDialog=!1,this.editGroup={}})).finally((()=>{this.loading=!1}))},deleteLeadStatusGroup(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteLeadStatusGroup",e.id).then((()=>{alert("Successfully!")})).finally((()=>{this.loading=!1})))}}},RV={class:"list-flex-toolbar flex-list-v1"},NV={key:0},HV={key:1},WV=V("span",{class:"headline"},"Initial Statuses",-1),YV=V("span",{class:"headline"},"Invalid Statuses",-1),GV=V("span",{class:"headline"},"Trash Statuses",-1),qV=V("span",{class:"headline"},"No Answer Statuses",-1),JV=V("span",{class:"headline"},"BlackListed Countries",-1),KV=V("span",{class:"headline"},"Deposit Statuses",-1),XV={key:2},ZV={class:"pagination_wrap"},QV={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},eP={key:0},tP={key:1},aP={key:0},sP={class:"pagination_wrap"},lP={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},iP={key:0},oP={key:1},rP=V("span",{class:"headline"},"Create Status",-1),nP=V("span",{class:"headline"},"Create Group Statuses",-1),dP=V("span",{class:"headline"},"Edit Group Statuses",-1);const uP=fe(jV,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=$("v-selects"),y=ft,_=$("v-col"),v=$("v-row"),b=Qr,S=Df,D=ba,L=Ft,T=Wt,A=$("v-container"),O=$("v-card-text"),F=$("v-spacer"),U=$("v-btn"),M=$("v-card-actions"),E=$("v-dialog");return g(),f(j,null,[V("div",RV,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>["status_groups"!=this.selectedTab?(g(),k(n,{key:0,color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[1]||(t[1]=e=>i.createOpen())},{default:w((()=>[C(" Add Status ")])),_:1})):I("",!0),"status_groups"==this.selectedTab?(g(),k(n,{key:1,color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[2]||(t[2]=e=>i.createGroupOpen())},{default:w((()=>[C(" Add Statuses Group ")])),_:1})):I("",!0)])),_:1})]),x(D,{selected:"statuses",tabs:l.tabs,"onUpdate:selected":i.changedTab},{tab:w((({activeValue:a})=>["statuses"===a?(g(),f("div",NV,[x(c,{headers:l.statusHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((e=>[e&&!l.undeletedStatuses.includes(e.name)?(g(),k(u,{key:0,showView:!1,onRemove:t=>i.deleteItem(e)},null,8,["onRemove"])):I("",!0)])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)])):I("",!0),"status_types"===a?(g(),f("div",HV,[x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[WV])),_:1}),x(h,{modelValue:l.initialStatusesSelect,"onUpdate:modelValue":t[4]||(t[4]=e=>l.initialStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[5]||(t[5]=e=>i.saveInitialStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[YV])),_:1}),x(h,{modelValue:l.invalidStatusesSelect,"onUpdate:modelValue":t[6]||(t[6]=e=>l.invalidStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[7]||(t[7]=e=>i.saveInvalidStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[GV])),_:1}),x(h,{modelValue:l.trashStatusesSelect,"onUpdate:modelValue":t[8]||(t[8]=e=>l.trashStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[9]||(t[9]=e=>i.saveTrashStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[qV])),_:1}),x(h,{modelValue:l.noAnswerStatusesSelect,"onUpdate:modelValue":t[10]||(t[10]=e=>l.noAnswerStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[11]||(t[11]=e=>i.saveNoAnswerStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[JV])),_:1}),x(h,{modelValue:l.blackListedStatusesSelect,"onUpdate:modelValue":t[12]||(t[12]=e=>l.blackListedStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[13]||(t[13]=e=>i.savBlackListedStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(_,{md:"8",xs:"12",class:"mt-5"},{default:w((()=>[x(y,null,{default:w((()=>[x(p,{style:{padding:"0"},class:"mb-2"},{default:w((()=>[KV])),_:1}),x(h,{modelValue:l.depositStatusesSelect,"onUpdate:modelValue":t[14]||(t[14]=e=>l.depositStatusesSelect=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"]),x(n,{class:"mt-5",type:"submit",color:"primary",raised:"",onClick:t[15]||(t[15]=e=>i.saveDepositStatuses())},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])),_:1})])),_:1})])):I("",!0),"status_groups"===a?(g(),f("div",XV,[V("div",ZV,[V("div",QV,[C(" Showing "),1==l.page?(g(),f("span",eP,P(l.page),1)):(g(),f("span",tP,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalPagesItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[16]||(t[16]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(c,{headers:l.statusGroupsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-statuses":w((({statuses:e})=>[e&&e.length?(g(),k(S,{key:0},{default:w((()=>[e.length>1?(g(),f("div",aP,[(g(!0),f(j,null,K(e,((e,t)=>(g(),k(b,{key:t,label:e.name},null,8,["label"])))),128))])):(g(),k(b,{key:1,label:e[0].name},null,8,["label"]))])),_:2},1024)):I("",!0)])),"item-action":w((e=>[x(u,{onView:t=>i.editLeadStatusGroup(e),onRemove:t=>i.deleteLeadStatusGroup(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),V("div",sP,[V("div",lP,[C(" Showing "),1==l.page?(g(),f("span",iP,P(l.page),1)):(g(),f("span",oP,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalPagesItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[17]||(t[17]=e=>l.page=e),e.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)])])):I("",!0)])),_:1},8,["tabs","onUpdate:selected"]),x(E,{modelValue:l.createDialog,"onUpdate:modelValue":t[21]||(t[21]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(y,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[rP])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(L,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(T,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[18]||(t[18]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(M,null,{default:w((()=>[x(F),x(U,{color:"#009688",text:"",dark:"",onClick:t[19]||(t[19]=e=>i.createClose())},{default:w((()=>[C("Cancel")])),_:1}),x(U,{color:"#009688",text:"",dark:"",onClick:t[20]||(t[20]=e=>i.create())},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(E,{modelValue:l.createGroupDialog,"onUpdate:modelValue":t[26]||(t[26]=e=>l.createGroupDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(y,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[nP])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(L,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(T,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[22]||(t[22]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(_,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,{modelValue:l.new_group_statuses,"onUpdate:modelValue":t[23]||(t[23]=e=>l.new_group_statuses=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(M,null,{default:w((()=>[x(F),x(U,{color:"#009688",text:"",dark:"",onClick:t[24]||(t[24]=e=>i.createGroupClose())},{default:w((()=>[C("Cancel")])),_:1}),x(U,{color:"#009688",text:"",dark:"",onClick:t[25]||(t[25]=e=>i.createGroup())},{default:w((()=>[C("CReate")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(E,{modelValue:l.editGroupDialog,"onUpdate:modelValue":t[31]||(t[31]=e=>l.editGroupDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(y,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[dP])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(L,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(T,{type:"text",modelValue:l.editGroup.name,"onUpdate:modelValue":t[27]||(t[27]=e=>l.editGroup.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(_,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,{modelValue:l.editGroup.statuses,"onUpdate:modelValue":t[28]||(t[28]=e=>l.editGroup.statuses=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(M,null,{default:w((()=>[x(F),x(U,{color:"#009688",text:"",dark:"",onClick:t[29]||(t[29]=e=>i.editGroupClose())},{default:w((()=>[C("Cancel")])),_:1}),x(U,{color:"#009688",text:"",dark:"",onClick:t[30]||(t[30]=e=>i.updateGroup())},{default:w((()=>[C("Update")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),cP={name:"LogsBroker",data:()=>({datesModel:new Date}),computed:{...be(["logsBrokers"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{datesModel(){this.getItems()}},methods:{getItems(){this.$store.commit("enableOverlay");let e=new Date(this.datesModel),t={date:e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),type:"leads-broker"};this.$store.dispatch("getLogsBrokers",{filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))}}},mP={class:"align-center d-flex picker"};const pP=fe(cP,[["render",function(e,t,a,s,l,i){const o=Ft,r=Wt,n=Nt,d=$("VDatePicker"),u=Et,c=$("v-col"),m=$("v-row"),p=tn,h=$("v-container");return g(),k(h,{fluid:"",style:{height:"100%"}},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{sm:"6",md:"3",lg:"2",cols:"12"},{default:w((()=>[V("div",mP,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Date")])),_:1}),x(n,null,{default:w((()=>[x(d,{modelValue:e.datesModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.datesModel=t)},{default:w((({inputValue:e,inputEvents:t})=>[x(n,{icon:"feather:calendar"},{default:w((()=>[x(r,R({value:e},ee(t)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(u,null,{default:w((()=>[x(p,{modelValue:e.logsBrokers,"onUpdate:modelValue":t[1]||(t[1]=t=>e.logsBrokers=t),"background-color":"#324550",solo:"",readonly:"",style:{height:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}]]),hP={name:"LogsBroker",data:()=>({datesModel:new Date}),computed:{...be(["logsBrokers"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{datesModel(){this.getItems()}},methods:{getItems(){this.$store.commit("enableOverlay");let e=new Date(this.datesModel),t={date:e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),type:"leads-log"};this.$store.dispatch("getLogsBrokers",{filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))}}},gP={class:"align-center d-flex picker"};const fP=fe(hP,[["render",function(e,t,a,s,l,i){const o=Ft,r=Wt,n=Nt,d=$("VDatePicker"),u=Et,c=$("v-col"),m=$("v-row"),p=tn,h=$("v-container");return g(),k(h,{fluid:"",style:{height:"100%"}},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{sm:"6",md:"3",lg:"2",cols:"12"},{default:w((()=>[V("div",gP,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Date")])),_:1}),x(n,null,{default:w((()=>[x(d,{modelValue:e.datesModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.datesModel=t)},{default:w((({inputValue:e,inputEvents:t})=>[x(n,{icon:"feather:calendar"},{default:w((()=>[x(r,R({value:e},ee(t)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(u,null,{default:w((()=>[x(p,{modelValue:e.logsBrokers,"onUpdate:modelValue":t[1]||(t[1]=t=>e.logsBrokers=t),"background-color":"#324550",solo:"",readonly:"",style:{height:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}]]),yP={name:"Prelanding",props:["createDialog","land","title","type","bundlesArr"],data(){return{showModal:this.createDialog,percentError:"",tab:null,bundles:[],items:[{tab:"One",content:"Tab 1 Content"},{tab:"Two",content:"Tab 2 Content"}],bundlesHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Название",sortable:!1,value:"name"},{text:"Percent",sortable:!1,value:"percent"},{text:"Действия",sortable:!1,value:"action"}],itemsPagination:[],ArchiveHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Название",sortable:!1,value:"name"},{text:"Действия",sortable:!1,value:"action"}],loading:!0}},computed:{...be(["prelandingPopup","dialogPrelands"])},mounted(){console.log(this.showModal)},methods:{disablePopupLead(){console.log(2414),this.$emit("closePopup",!1)},disablePopupLeadClear(){this.$emit("clearPopup",this.type),this.$emit("closePopup",!1)},choose(e){this.$emit("choose",e),this.$emit("closePopup",!1)},addBundle(e){let t=this.land.findIndex((t=>t.id===e.id));this.land.splice(t,1),console.log(this.bundles),e.percent=0,this.bundles.push(e),console.log(this.bundles)},removeBundle(e){let t=this.bundles.findIndex((t=>t.id===e.id));this.bundles.splice(t,1),this.land.push(e)},saveBundle(){this.percentError||(this.$emit("setBundle",this.type,this.bundles),this.$emit("closePopup",!1))},setPercent(e){let t=this.bundles.reduce(((e,t)=>e+parseInt(t.percent)),0);console.log(parseInt(t)),100==parseInt(t)?this.percentError="":this.percentError="Общий процент должен быть 100%"}},watch:{bundlesArr(){if(this.bundlesArr.length){this.bundles=this.bundlesArr;for(let e in this.bundles){let t=this.land.findIndex((t=>t.id===this.bundles[e].id));this.land.splice(t,1)}}}}},_P={class:"headline"},vP={key:0},bP=["href"];const SP=fe(yP,[["render",function(e,t,a,s,l,i){const o=bt,r=$("v-card-actions"),n=$("v-col"),d=$("v-card-title"),u=O_,c=Zo,m=$("EasyDataTable"),p=ba,h=ft,y=$("v-card-text"),_=$("v-dialog");return g(),k(_,{modelValue:this.createDialog,"onUpdate:modelValue":t[0]||(t[0]=e=>this.createDialog=e),"max-width":"1000px"},{default:w((()=>[x(h,{color:"#1E272C"},{default:w((()=>[x(d,{style:{display:"flex","align-items":"center"}},{default:w((()=>[V("span",_P,P(a.title),1),x(n,{col:"12"},{default:w((()=>[x(r,{class:"justify-content-end",style:{display:"flex","justify-content":"end"}},{default:w((()=>[x(o,{class:"mr-2",raised:"",onClick:i.disablePopupLeadClear},{default:w((()=>[C(" Clear ")])),_:1},8,["onClick"]),x(o,{raised:"",onClick:i.disablePopupLead},{default:w((()=>[C(" Close ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),x(y,null,{default:w((()=>[x(h,null,{default:w((()=>[x(p,{selected:"landings",tabs:[{label:"List",value:"landings"}]},{tab:w((({activeValue:e})=>["landings"===e?(g(),f("div",vP,[a.land?(g(),k(m,{key:0,headers:l.ArchiveHeaders,items:a.land,"buttons-pagination":!1,"border-color":!1},{"item-action":w((e=>[x(c,{"column-gap":"3px",style:{"align-items":"center","justify-content":"center"}},{default:w((()=>[x(u,{icon:"fas fa-check",onClick:t=>i.choose(e),size:"small",dark:"1"},null,8,["onClick"]),null!==e.landing_url?(g(),f("a",{key:0,href:e.landing_url,class:"white--text",target:"_blank"},[x(u,{icon:"fas fa-eye",size:"small",dark:"1"})],8,bP)):I("",!0)])),_:2},1024)])),_:1},8,["headers","items"])):I("",!0)])):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}]]);const kP={name:"CreateLanding",components:{Prelanding:SP,Landing:SP,White:SP,Devices:fe({},[["render",function(e,t){return null}]])},props:["domainSelect","landing"],data:()=>({cloacks:[{id:1,name:"CRM"},{id:2,name:"MagickChecker"},{id:3,name:"HideClick"}],cloackTypes:[{id:"302",name:"Локальный"},{id:"iframe",name:"iFrame"}],openLandingPopup:!1,openPrelandingPopup:!1,openWhitePopup:!1,openDevicePopup:!1,disableLeadInputs:!1,placement:"bottom"}),computed:{...be(["domainArchiveFilters","domainFilters","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","archivePreLand","archiveWhite","archiveLand","currentLanding","countriesSelect","devicesSelect","sourcesSelect"])},mounted(){this.getDevicesSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getArchiveByTypeSelect(),this.getDomainArchiveFilters()},methods:{...Se(["getArchiveByTypeSelect","getDomainArchiveFilters","getCountriesSelect","getSourcesSelect","getDevicesSelect"]),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},updateparent(e){this.openPrelandingPopup=e,console.log("var"+e)},openPopup(e){console.log(e),this[e]=!0,console.log(e)},closePopup(e){console.log(e),this[e]=!1},clearPopup(e){console.log(e),this.landing[e]=null},chosePopup(e){console.log(3123),console.log(e),1==e.archive_type_id?this.landing.land=e:2==e.archive_type_id?this.landing.white=e:3==e.archive_type_id&&(this.landing.preland=e),console.log(this.landing)},choseBundle(e,t){"preland"==e?this.landing.prelandBundles=t:"land"==e&&(this.landing.landBundles=t)},setDevice(e){console.log(e),this.landing.device_id=e},create(){let e=this.landing;this.landing.device_id&&(e.device_id=this.callback(this.landing.device_id)),this.$store.dispatch("createLanding",e).then((()=>{this.createDialog=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},callback(e){let t=[];if(console.log(e),console.log(e.length),e.length){for(let a=0;a<e.length;a++){let s=e[a];if(!s.id)return e;t.push(s.id)}return t}return e},save(){let e={},t={};this.landing.country_id&&(e=this.callback(this.landing.country_id)),console.log(this.landing.device_id),this.landing.device_id&&(t=this.callback(this.landing.device_id)),console.log(t);let a=this.landing;a.country_id=e,a.device_id=t,console.log(a);let s=this.landing.id;this.$store.dispatch("updateLanding",{item_id:s,data:a}).catch((e=>{console.log(e),this.serverErrors=e.response.data.errors,this.$store.commit("disableOverlay"),this.$v.$reset()})).finally((()=>{this.$parent.getItems(),this.$store.commit("disableOverlay"),this.landing={}}))}}},wP={class:"columns is-multiline create-landing"},VP={class:"column is-4"},PP={class:"column is-4"},xP={class:"column is-4"},CP={key:0,class:"custom-data"},IP={key:1,class:""},DP={style:{width:"100%",background:"none",border:"1px solid #dbdbdc","border-radius":"5px",height:"31.5px",cursor:"pointer"},"aria-hidden":"true",class:"v-icon notranslate mdi mdi-menu-down theme--dark"},LP={class:"vs__actions",style:{position:"absolute",right:"-5px",top:"7px"}},$P={key:0,style:{fill:"#9c9d9d"},xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},TP=[V("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],AP=V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",role:"presentation",class:"vs__open-indicator"},[V("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"})],-1),OP={key:0,class:"custom-data"},FP={key:1,class:"mt-4 text-left"},UP={style:{width:"100%",background:"none",border:"1px solid #dbdbdc","border-radius":"5px",height:"31.5px",cursor:"pointer"},"aria-hidden":"true",class:"v-icon notranslate mdi mdi-menu-down theme--dark"},MP={class:"vs__actions",style:{position:"absolute",right:"-5px",top:"7px"}},EP={key:0,style:{fill:"#9c9d9d"},xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},BP=[V("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],zP=V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",role:"presentation",class:"vs__open-indicator"},[V("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"})],-1),jP={key:0,class:"custom-data"},RP={style:{width:"100%",background:"none",border:"1px solid #dbdbdc","border-radius":"5px",height:"31.5px",cursor:"pointer"},"aria-hidden":"true",class:"v-icon notranslate mdi mdi-menu-down theme--dark"},NP={class:"vs__actions",style:{position:"absolute",right:"-5px",top:"7px"}},HP={key:0,style:{fill:"#9c9d9d"},xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},WP=[V("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],YP=V("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10",role:"presentation",class:"vs__open-indicator"},[V("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"})],-1),GP={class:"column is-4"},qP={class:"column is-4"},JP={key:0,class:"column is-4"},KP={class:"column is-4"},XP={class:"column is-4"},ZP={class:"column is-4"},QP={class:"column is-4"},ex={class:"h3-tooltip"},tx=[V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)],ax={class:"column is-4"},sx={style:{"text-align":"right"}};const lx=fe(kP,[["render",function(e,t,a,s,l,i){const o=Ft,r=Wt,n=Nt,d=Et,u=$("v-selects"),c=tn,m=Qr,p=$("v-tooltip"),h=bt,y=$("Prelanding"),_=$("Landing"),v=$("White"),b=$("Devices");return g(),f(j,null,[V("div",wP,[V("div",VP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(n,null,{default:w((()=>[x(r,{type:"text",modelValue:a.landing.compaign,"onUpdate:modelValue":t[0]||(t[0]=e=>a.landing.compaign=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",PP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Domain")])),_:1}),x(u,{modelValue:a.landing.domain_id,"onUpdate:modelValue":t[1]||(t[1]=e=>a.landing.domain_id=e),reduce:e=>e.id,label:"url",options:a.domainSelect,"push-tags":"","append-to-body":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})]),V("div",xP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Main Folder")])),_:1}),x(n,null,{default:w((()=>[x(r,{type:"text",modelValue:a.landing.main_folder,"onUpdate:modelValue":t[2]||(t[2]=e=>a.landing.main_folder=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",{class:"custom-select-popup column is-4",onClick:t[3]||(t[3]=e=>i.openPopup("openPrelandingPopup"))},[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Prelanding")])),_:1}),a.landing.preland?(g(),f("span",CP,P(a.landing.preland.name),1)):this.landing.prelandBundles?(g(),f("div",IP,[(g(!0),f(j,null,K(this.landing.prelandBundles,((e,t)=>(g(),f("div",null,P(e.name)+" - "+P(e.percent)+"%",1)))),256))])):I("",!0),V("div",DP,[V("div",LP,[a.landing.preland?(g(),f("svg",$P,TP)):I("",!0),AP])])])),_:1})]),V("div",{class:"custom-select-popup column is-4",onClick:t[4]||(t[4]=e=>i.openPopup("openLandingPopup"))},[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Landing")])),_:1}),a.landing.land?(g(),f("span",OP,P(a.landing.land.name),1)):this.landing.landBundles?(g(),f("div",FP,[(g(!0),f(j,null,K(this.landing.landBundles,((e,t)=>(g(),f("div",null,P(e.name)+" - "+P(e.percent)+"%",1)))),256))])):I("",!0),V("div",UP,[V("div",MP,[a.landing.land?(g(),f("svg",EP,BP)):I("",!0),zP])])])),_:1})]),V("div",{class:"custom-select-popup column is-4",onClick:t[5]||(t[5]=e=>i.openPopup("openWhitePopup"))},[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C(" White Page")])),_:1}),a.landing.white?(g(),f("span",jP,P(a.landing.white.name),1)):I("",!0),V("div",RP,[V("div",NP,[a.landing.white?(g(),f("svg",HP,WP)):I("",!0),YP])])])),_:1})]),V("div",GP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Source")])),_:1}),x(u,{modelValue:a.landing.source_id,"onUpdate:modelValue":t[6]||(t[6]=e=>a.landing.source_id=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":"","append-to-body":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})]),V("div",qP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Pixel/Tag")])),_:1}),x(n,null,{default:w((()=>[x(c,{type:"text",modelValue:a.landing.tag,"onUpdate:modelValue":t[7]||(t[7]=e=>a.landing.tag=e)},null,8,["modelValue"])])),_:1})])),_:1})]),1==a.landing.source_id||10==a.landing.source_id?(g(),f("div",JP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Conversion Tag")])),_:1}),x(n,null,{default:w((()=>[x(r,{type:"text",modelValue:a.landing.conversion_tag,"onUpdate:modelValue":t[8]||(t[8]=e=>a.landing.conversion_tag=e)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0),V("div",KP,[4==a.landing.source_id||10==a.landing.source_id?(g(),k(d,{key:0},{default:w((()=>[x(o,null,{default:w((()=>[C("Conversion Tag")])),_:1}),x(n,null,{default:w((()=>[x(c,{type:"text",modelValue:a.landing.conversion_tag,"onUpdate:modelValue":t[9]||(t[9]=e=>a.landing.conversion_tag=e)},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0)]),V("div",XP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("CLOAK")])),_:1}),x(u,{modelValue:a.landing.cloack_id,"onUpdate:modelValue":t[10]||(t[10]=e=>a.landing.cloack_id=e),reduce:e=>e.id,label:"name",options:l.cloacks,"push-tags":"","append-to-body":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})]),V("div",ZP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Тип клоаки")])),_:1}),x(u,{modelValue:a.landing.cloak_type,"onUpdate:modelValue":t[11]||(t[11]=e=>a.landing.cloak_type=e),reduce:e=>e.id,label:"name",options:l.cloackTypes,"push-tags":"","append-to-body":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})]),V("div",QP,[x(d,null,{default:w((()=>[x(o,null,{default:w((()=>[C("GEO")])),_:1}),x(u,{modelValue:a.landing.country_id,"onUpdate:modelValue":t[12]||(t[12]=e=>a.landing.country_id=e),reduce:e=>e.id,label:"ISO_2",multiple:"",options:e.countriesSelect,"push-tags":"","append-to-body":"","calculate-position":i.withPopper,closeOnSelect:!1},{option:w((e=>[V("h3",ex,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(p,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),tx,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(m,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options","calculate-position"])])),_:1})]),V("div",ax,[3==a.landing.cloack_id?(g(),k(d,{key:0},{default:w((()=>[x(o,null,{default:w((()=>[C("Black URL")])),_:1}),x(n,null,{default:w((()=>[x(r,{type:"text",modelValue:a.landing.safe_url,"onUpdate:modelValue":t[13]||(t[13]=e=>a.landing.safe_url=e)},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0)])]),V("div",sx,[0==a.landing.update?(g(),k(h,{key:0,color:"primary",elevated:"",onClick:t[14]||(t[14]=e=>i.create())},{default:w((()=>[C("Confirm")])),_:1})):(g(),k(h,{key:1,color:"primary",elevated:"",onClick:t[15]||(t[15]=e=>i.save())},{default:w((()=>[C("Update")])),_:1}))]),x(y,{createDialog:l.openPrelandingPopup,land:e.archivePreLand,bundlesArr:a.landing.prelandBundles,title:"Choose Preland",type:"preland",onClosePopup:t[16]||(t[16]=e=>i.closePopup("openPrelandingPopup")),onChoose:i.chosePopup,onSetBundle:i.choseBundle,onClearPopup:i.clearPopup},null,8,["createDialog","land","bundlesArr","onChoose","onSetBundle","onClearPopup"]),x(_,{type:"land",createDialog:l.openLandingPopup,bundlesArr:a.landing.landBundles,land:e.archiveLand,title:"Choose Landing",onClosePopup:t[17]||(t[17]=e=>i.closePopup("openLandingPopup")),onChoose:i.chosePopup,onSetBundle:i.choseBundle,onClearPopup:i.clearPopup},null,8,["createDialog","bundlesArr","land","onChoose","onSetBundle","onClearPopup"]),x(v,{type:"white",createDialog:l.openWhitePopup,land:e.archiveWhite,title:"Choose White Page",onClosePopup:t[18]||(t[18]=e=>i.closePopup("openWhitePopup")),onChoose:i.chosePopup,onClearPopup:i.clearPopup},null,8,["createDialog","land","onChoose","onClearPopup"]),x(b,{createDialog:l.openDevicePopup,land:e.devicesSelect,selected:a.landing.device_id,title:"Choose Devices",onClosePopup:t[19]||(t[19]=e=>i.closePopup("openDevicePopup")),onChoose:i.setDevice},null,8,["createDialog","land","selected","onChoose"])],64)}]]),ix={name:"Landings",components:{},data:()=>({filterValues:{domain_archive_ids:null,domain_ids:null},loading:!1}),props:{filters:Array,drawer:Boolean},computed:{...be(["userFilters","domainArchiveFilters","domainFilters"])},mounted(){this.getFilters("getDomainFilters"),this.getFilters("getDomainArchiveFilters")},methods:{getItems(){console.log("pop33");let e=this.filterValues;this.$emit("updateFilter",e)},getFilters(e){console.log(3);let t=this.filterValues;console.log(1),this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1})),console.log(2)}}},ox={class:"columns is-multiline"},rx={key:0,class:"column is-3"},nx={key:1,class:"column is-3"},dx={key:2,class:"column is-3"};const ux=fe(ix,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=$("v-list"),u=$("v-col");return a.drawer?(g(),k(u,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(d,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",ox,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["domains"==a.id?(g(),f("div",rx,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Domain")])),_:1}),l.filterValues?(g(),k(r,{key:0,modelValue:l.filterValues.domain_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.domain_ids=e),t[2]||(t[2]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.domainFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":t[1]||(t[1]=e=>i.getFilters("getDomainFilters")),"append-to-body":""},null,8,["modelValue","reduce","options"])):I("",!0)])),_:1})])):I("",!0),"users"==a.id?(g(),f("div",nx,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("User")])),_:1}),l.filterValues?(g(),k(r,{key:0,modelValue:l.filterValues.user_ids,"onUpdate:modelValue":[t[3]||(t[3]=e=>l.filterValues.user_ids=e),t[5]||(t[5]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.userFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":t[4]||(t[4]=e=>i.getFilters("getUserFilters")),"append-to-body":""},null,8,["modelValue","reduce","options"])):I("",!0)])),_:1})])):I("",!0),"archives"==a.id?(g(),f("div",dx,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Archive")])),_:1}),l.filterValues?(g(),k(r,{key:0,modelValue:l.filterValues.domain_archive_ids,"onUpdate:modelValue":[t[6]||(t[6]=e=>l.filterValues.domain_archive_ids=e),t[8]||(t[8]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.domainArchiveFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":t[7]||(t[7]=e=>i.getFilters("getDomainArchiveFilters")),"append-to-body":""},null,8,["modelValue","reduce","options"])):I("",!0)])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]),cx={components:{"create-landing":lx,"landing-filter":ux},name:"AdminLandings",data:()=>({addLanding:!1,queryParams:"?add_name={{ad.name}}&placement={{placement}}",queryParamsGoogle:"?utm_content=text&utm_term=text&gclid={gclid}",createLanding:{},drawer:!1,createDialog:!1,deleteDialog:{item:{},open:!1},landing:{land:null,white:null,preland:null,domain_id:null,main_folder:"",pre_landing_id:null,pre_landing_folder:"",white_id:null,white_folder:"",land_id:null,land_folder:"",device_id:""},filterValues:{domain_ids:[],domain_archive_ids:null,status:[]},archives:"",archivesList:["Да","Нет"],loading:!0,serverErrors:{},page:1,rowsPerPage:25,Headers:[{text:"ID",sortable:!1,value:"id"},{text:"Buyer",sortable:!1,value:"user"},{text:"Source",sortable:!1,value:"source"},{text:"Domain",sortable:!1,value:"url"},{text:"Prelanding",sortable:!1,value:"prelanding"},{text:"Landing",sortable:!1,value:"landing"},{text:"White Page",sortable:!1,value:"white"},{text:"Pixel | TM",sortable:!1,value:"tag"},{text:"Клоака",value:"is_active",sortable:!1},{text:"Действия",value:"action",sortable:!1}]}),computed:{...be(["domainFilters","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","domainSelect","archivePreLand","archiveWhite","archiveLand"])},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getCountriesSelect(),this.getSourcesSelect(),this.getDomainsAllSelect(),this.getArchiveByTypeSelect(),this.getDomainArchiveFilters()},watch:{page(){this.getItems(this.page)}},methods:{...Se(["getDomainsAllSelect","getArchiveByTypeSelect","getDomainArchiveFilters","getCountriesSelect","getSourcesSelect"]),updateFilter(e){console.log(333),console.log(e),this.filterValues=e,this.getItems()},openFilters(){this.drawer=!this.drawer},openLanding(){this.createLanding.update=!1,this.addLanding=!this.addLanding},changeStatus(e){this.disabled=!0,this.$store.dispatch("landingActivityToggle",{item:e}).then((e=>{console.log(22)})).catch((e=>this.serverErrors=e.response.data.errors)).finally((()=>this.$store.commit("disableOverlay")))},copyText(e){let t="https://"+e+"?add_name={ad.name}&placement={placement}";navigator.clipboard.writeText(t).then((()=>{})).catch((()=>{}))},deleteItem(e){confirm("Are you sure you want to delete this landing?")&&this.$store.dispatch("deleteLanding",e.id).then((e=>{this.$store.commit("disableOverlay"),alert("Успешно!")})).catch((e=>this.$store.commit("disableOverlay")))},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",toggleFilter(e,t,a){t=t.length!=e.length?e.map((e=>e.id)):[],console.log(a),console.log(this.filterValues),this.filterValues[a]=t,this.getItems()},paginationChangeHandler(e){this.getItems(e)},getItems(e=1){console.log(321412);let t=this.filterValues;console.log(t),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"landings",page:e,filtersValues:t}).then((()=>this.loading=!1))},editItem(e){this.createLanding=e,this.createLanding.preland=e.pre_land,this.createLanding.update=!0,this.addLanding=!0},create(){this.$store.commit("enableOverlay"),this.landing.index="id"+Math.random().toString(16).slice(2),this.$store.dispatch("createLanding",this.landing).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},refundItem(e){this.deleteDialog.item=e,this.archiveItemConfirm("active")},archiveItemConfirm(e="archive"){this.$store.commit("enableOverlay"),this.deleteDialog.item.status=e,console.log(this.deleteDialog.item),this.$store.dispatch("archiveLanding",{item:this.deleteDialog.item}).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>{this.$store.commit("disableOverlay"),console.log(e)}))},deleteItemConfirm(){this.$store.commit("enableOverlay"),this.$store.dispatch("deleteLanding",this.deleteDialog.item).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>this.$store.commit("disableOverlay")))}}},mx={key:0},px=V("div",{style:{height:"40px",width:"40px"}},null,-1),hx={key:1},gx={key:0},fx={key:0},yx={key:0},_x={key:0};const vx=fe(cx,[["render",function(e,t,a,s,l,i){const o=Cr,r=$("v-switch"),n=xr,d=$("EasyDataTable"),u=nr,c=$("v-container");return g(),k(c,{fluid:"",class:"landings-page"},{default:w((()=>[x(d,{headers:l.Headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-id":w((e=>[e.loading?(g(),f("span",mx,[x(o,{active:!0,size:"small",center:"regular",translucent:!0},{default:w((()=>[px])),_:1})])):(g(),f("span",hx,P(e.id),1))])),"item-source":w((e=>[e.source?(g(),f("span",gx,P(e.source.name),1)):I("",!0)])),"item-prelanding":w((e=>[e.pre_land?(g(),f("span",fx,P(e.pre_land.name),1)):I("",!0)])),"item-landing":w((e=>[e.land?(g(),f("span",yx,P(e.land.name),1)):I("",!0)])),"item-white":w((e=>[e.white?(g(),f("span",_x,P(e.white.name),1)):I("",!0)])),"item-is_active":w((e=>[e.cloack_id?(g(),k(r,{key:0,color:"#009688",modelValue:e.is_active,"onUpdate:modelValue":t=>e.is_active=t,onChange:t=>i.changeStatus(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])):I("",!0)])),"item-action":w((e=>[x(n,{onView:t=>i.editItem(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(u,{key:0,"current-page":l.page,"onUpdate:currentPage":t[0]||(t[0]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)])),_:1})}]]),bx={name:"LogsBroker",data:()=>({datesModel:new Date}),computed:{...be(["logsBrokers"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{datesModel(){this.getItems()}},methods:{getItems(){this.$store.commit("enableOverlay");let e=new Date(this.datesModel),t={date:e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),type:"leads-error"};this.$store.dispatch("getLogsBrokers",{filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))}}},Sx={class:"align-center d-flex picker"};const kx=fe(bx,[["render",function(e,t,a,s,l,i){const o=Ft,r=Wt,n=Nt,d=$("VDatePicker"),u=Et,c=$("v-col"),m=$("v-row"),p=tn,h=$("v-container");return g(),k(h,{fluid:"",style:{height:"100%"}},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(c,{sm:"6",md:"3",lg:"2",cols:"12"},{default:w((()=>[V("div",Sx,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Date")])),_:1}),x(n,null,{default:w((()=>[x(d,{modelValue:e.datesModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.datesModel=t)},{default:w((({inputValue:e,inputEvents:t})=>[x(n,{icon:"feather:calendar"},{default:w((()=>[x(r,R({value:e},ee(t)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1}),x(m,null,{default:w((()=>[x(c,{cols:"12"},{default:w((()=>[x(u,null,{default:w((()=>[x(p,{modelValue:e.logsBrokers,"onUpdate:modelValue":t[1]||(t[1]=t=>e.logsBrokers=t),"background-color":"#324550",solo:"",readonly:"",style:{height:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}]]),wx={name:"CouldOverflow",data:()=>({drawer:!1,searchModel:"",rowsPerPage:25,page:1,filterValues:{offer_ids:[]},loading:!0,name:"",datesModel:{start:null,end:null},newItem:{type:null,user_id:null,sources_ids:null,countries_ids:null,landing_name_ids:null,offer_id:null,interval:null,name:null,offers:null,users:null},disabled:!1,inputLoading:!1,createDialog:!1,selectedIntegration:null,selectedPartner:null,selectedSources:[],serverErrors:{},offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Cap",sortable:!1,value:"daily_cap"},{text:"TIME CAP",sortable:!1,value:"custom_cap",width:140},{text:"Offer",sortable:!1,value:"offers"},{text:"Sources",sortable:!1,value:"sources"},{text:"Users",sortable:!1,value:"users"},{text:"Interval",sortable:!1,value:"interval"},{text:"Status",sortable:!1,value:"is_active"},{text:"Action",sortable:!1,value:"action"}]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","integrationsSelect","partnersSelect","sourcesSelect","offerFilters","offerSelect","landingNamesSelect","countriesSelect","usersSelect","getRole"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();this.filterValues.date_start_registration=a,this.filterValues.date_end_registration=s}else this.filterValues.date_start_registration="",this.filterValues.date_end_registration="";this.getItems(1)},page(){this.getItems(this.page)},searchModel(){this.checkSearchStr()}},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getOfferSelect","getUsersSelect","getLandingNamesSelect"]),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),onDateRangeChange(){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();console.log("date - "+a),console.log(xe().format("YYYY-MM-DD")),e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"}),this.newItem.date_start=e,this.newItem.date_end=t,console.log(this.datesModel)},getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},changeStatus(e){e.is_active=!e.is_active,this.disabled=!0,this.$store.dispatch("coldOverflowActivityToggle",{item:e}).then((()=>{this.disabled=!1})).catch((e=>this.serverErrors=e.response.data.errors))},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0,this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getUsersSelect()},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"cold-overflow",page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){let e=this.globalCallback(this.newItem.landing_name_ids),t=this.globalCallback(this.newItem.offers),a=this.globalCallback(this.newItem.users),s=this.globalCallback(this.newItem.countries_ids),l=this.globalCallback(this.newItem.source_ids);this.$store.dispatch("createColdOverflow",{item:this.newItem,landing_names:e,users:a,offers:t,countries:s,sources:l}).then((()=>{this.createDialog=!1,this.name="",this.selectedIntegration=null,this.selectedPartner=null,this.selectedSources=null})).catch((e=>{console.log(e),this.serverErrors=e.response.data.errors}))},deleteItem(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteColdOverflow",e.id).then((()=>{alert("Successfully!")})).finally((()=>this.loading=!1)))}}},Vx=e=>(N("data-v-9936b970"),e=e(),H(),e),Px={class:"list-flex-toolbar flex-list-v1"},xx=Vx((()=>V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1))),Cx={key:0},Ix={key:1},Dx={key:0,class:"table-cap",style:{"font-size":"10px"}},Lx={key:0},$x=Vx((()=>V("b",null,"Mon",-1))),Tx={key:1},Ax=Vx((()=>V("b",null,"Mon",-1))),Ox={key:2},Fx=Vx((()=>V("b",null,"Tue",-1))),Ux={key:3},Mx=Vx((()=>V("b",null,"Tue",-1))),Ex={key:4},Bx=Vx((()=>V("b",null,"Wed",-1))),zx={key:5},jx=Vx((()=>V("b",null,"Wed",-1))),Rx={key:6},Nx=Vx((()=>V("b",null,"Thu",-1))),Hx={key:7},Wx=Vx((()=>V("b",null,"Thu",-1))),Yx={key:8},Gx=Vx((()=>V("b",null,"Fri",-1))),qx={key:9},Jx=Vx((()=>V("b",null,"Fri",-1))),Kx={key:10},Xx=Vx((()=>V("b",null,"Sat",-1))),Zx={key:11},Qx=Vx((()=>V("b",null,"Sat",-1))),eC={key:12},tC=Vx((()=>V("b",null,"Sun",-1))),aC={key:13},sC=Vx((()=>V("b",null,"Sun",-1))),lC={key:1},iC={key:0},oC={key:1},rC={key:0},nC={key:1},dC={key:0},uC={key:1},cC=Vx((()=>V("span",{class:"headline"},"Новый Перелив",-1))),mC={class:"h3-tooltip"},pC=[Vx((()=>V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)))];const hC=fe(wx,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=jf,c=xr,m=$("EasyDataTable"),p=nr,h=$("v-card-title"),y=Ft,_=Wt,v=$("v-selects"),b=$("VDatePicker"),S=Qr,D=$("v-tooltip"),L=$("v-col"),T=$("v-row"),A=$("v-container"),O=$("v-card-text"),F=$("v-spacer"),E=$("v-btn"),B=$("v-card-actions"),z=ft,N=$("v-dialog");return g(),k(A,{fluid:""},{default:w((()=>[V("div",Px,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add ")])),_:1},8,["onClick"])])),_:1})]),x(m,{headers:l.offersHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,class:"campaign-table"},{"empty-message":w((()=>[xx])),"item-daily_cap":w((e=>[e.daily_cap?(g(),f("span",Cx,P(e.now_cap)+" / "+P(e.daily_cap),1)):(g(),f("span",Ix,"-"))])),"item-custom_cap":w((e=>[V("div",null,[1==e.custom_cap?(g(),f("div",Dx,[e.is_mon?(g(),f("div",Lx,[$x,C(" "+P(e.mon_start_cap)+" - "+P(e.mon_end_cap),1)])):(g(),f("div",Tx,[Ax,C(" - ")])),e.is_tue?(g(),f("div",Ox,[Fx,C(" "+P(e.tue_start_cap)+" - "+P(e.tue_end_cap),1)])):(g(),f("div",Ux,[Mx,C(" - ")])),e.is_wed?(g(),f("div",Ex,[Bx,C(" "+P(e.wed_start_cap)+" - "+P(e.wed_end_cap),1)])):(g(),f("div",zx,[jx,C(" - ")])),e.is_thu?(g(),f("div",Rx,[Nx,C(" "+P(e.thu_start_cap)+" - "+P(e.thu_end_cap),1)])):(g(),f("div",Hx,[Wx,C(" - ")])),e.is_fri?(g(),f("div",Yx,[Gx,C(" "+P(e.fri_start_cap)+" - "+P(e.fri_end_cap),1)])):(g(),f("div",qx,[Jx,C(" - ")])),e.is_sat?(g(),f("div",Kx,[Xx,C(" "+P(e.sat_start_cap)+" - "+P(e.sat_end_cap),1)])):(g(),f("div",Zx,[Qx,C(" - ")])),e.is_sun?(g(),f("div",eC,[tC,C(" "+P(e.sun_start_cap)+" - "+P(e.sun_end_cap),1)])):(g(),f("div",aC,[sC,C(" - ")]))])):(g(),f("div",lC," - "))])])),"item-offers":w((e=>[e.offers&&e.offers.length>1?(g(),f("div",iC,P(e.offers.map((e=>e.name)).join(", ")),1)):e.offers&&1==e.offers.length?(g(),f("div",oC,P(e.offers[0].name),1)):I("",!0)])),"item-sources":w((e=>[e.sources&&e.sources.length>1?(g(),f("div",rC,P(e.sources.map((e=>e.name)).join(", ")),1)):e.sources&&1==e.sources.length?(g(),f("div",nC,P(e.sources[0].name),1)):I("",!0)])),"item-users":w((e=>[e.users&&e.users.length>1?(g(),f("div",dC,P(e.users.map((e=>e.name)).join(", ")),1)):e.users&&1==e.users.length?(g(),f("div",uC,P(e.users[0].name),1)):I("",!0)])),"item-is_active":w((e=>[x(r,null,{default:w((()=>[x(o,{subcontrol:""},{default:w((()=>[x(u,{color:"primary",modelValue:e.is_active,"onUpdate:modelValue":t=>i.changeStatus(e)},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),"item-action":w((t=>[x(c,{onView:a=>this.$router.push(`/${e.getRole}/cold-overflow/`+t.id),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(p,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(N,{modelValue:l.createDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>l.createDialog=e),"max-width":"500px","no-click-animation":"",persistent:""},{default:w((()=>[x(z,{color:"#1E272C"},{default:w((()=>[x(h,null,{default:w((()=>[cC])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(L,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Name *")])),_:1}),x(o,null,{default:w((()=>[x(_,{type:"text",placeholder:"",modelValue:l.newItem.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Type")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.type,"onUpdate:modelValue":t[3]||(t[3]=e=>l.newItem.type=e),reduce:e=>e.id,label:"name",options:[{id:1,name:"Hold"},{id:2,name:"Live"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Количество повторений лидов *")])),_:1}),x(o,null,{default:w((()=>[x(_,{type:"text",placeholder:"",modelValue:l.newItem.interval,"onUpdate:modelValue":t[4]||(t[4]=e=>l.newItem.interval=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Дата")])),_:1}),x(b,{modelValue:l.datesModel,"onUpdate:modelValue":t[5]||(t[5]=e=>l.datesModel=e),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:i.onDateRangeChange},{default:w((({inputValue:e,inputEvents:t})=>[x(o,{icon:"feather:calendar"},{default:w((()=>[x(_,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue","onClick"])])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Offers")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.offers,"onUpdate:modelValue":t[6]||(t[6]=e=>l.newItem.offers=e),reduce:e=>e.id,label:"name",multiple:"",options:e.offerSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Funnels")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.landing_name_ids,"onUpdate:modelValue":t[7]||(t[7]=e=>l.newItem.landing_name_ids=e),reduce:e=>e.id,label:"name",multiple:"",options:e.landingNamesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Country")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.countries_ids,"onUpdate:modelValue":t[8]||(t[8]=e=>l.newItem.countries_ids=e),reduce:e=>e.id,label:"ISO_2",multiple:"",options:e.countriesSelect,"push-tags":"","append-to-body":""},{option:w((e=>[V("h3",mC,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(D,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),pC,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(S,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t,"calculate-position":i.withPopper},null,8,["label","calculate-position"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Sources")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.source_ids,"onUpdate:modelValue":t[9]||(t[9]=e=>l.newItem.source_ids=e),reduce:e=>e.id,label:"name",multiple:"",options:e.sourcesSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Users")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.users,"onUpdate:modelValue":t[10]||(t[10]=e=>l.newItem.users=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"",multiple:"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(B,null,{default:w((()=>[x(F),x(E,{color:"#009688",text:"",onClick:i.createClose},{default:w((()=>[C("Отменить")])),_:1},8,["onClick"]),x(E,{color:"#009688",text:"",onClick:i.create},{default:w((()=>[C("Создать")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}],["__scopeId","data-v-9936b970"]]),gC={name:"ColdOverflow",components:{Lead:sc},data:()=>({weeks:[{id:"mon",name:"Mon"},{id:"tue",name:"Tue"},{id:"wed",name:"Wed"},{id:"thu",name:"Thu"},{id:"fri",name:"Fri"},{id:"sat",name:"Sat"},{id:"sun",name:"Sun"}],tabs:[{label:"General",value:"general",icon:"fas fa-home"},{label:"Cap",value:"cap",icon:"fas fa-globe"}],serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},rowsPerPage:25,perPages:[25,50,100],page:1,loading:!0,dialogFunnel:!1,valid:!0,inputLoading:!1,funnelsModel:[],otherFunnels:[],edit:!1,disabled:!0,startDateDisable:!0,endDateDisable:!0,countryModel:null,items:[],leadStatusesType:[{name:"No answer",type:"no_answer"},{name:"Valid",type:"valid"}],datesModel:{start:null,end:null},offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Email",sortable:!1,value:"email"},{text:"Source",sortable:!1,value:"source"},{text:"User",sortable:!1,value:"user"},{text:"Country",sortable:!1,value:"country.ISO_2"},{text:"Funnel",sortable:!1,value:"landing_name"},{text:"Date",sortable:!1,value:"pivot.date"},{text:"Status",sortable:!1,value:"pivot.status"},{text:"Move To",sortable:!1,value:"offer"},{text:"Actions",sortable:!1,value:"action"}],itemsSelected:p([]),multipleActionModal:!1,myWidth:"",filtersValues:{type:"all"},isActive:"all",buttonLoading:!1,isLoaderActive:!1}),setup(){const{y:e}=i(),t=u((()=>e.value>30));return{y:e,isStuck:t}},mounted(){s({title:this.$route.meta.title}),this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getUsersSelect(),this.getItem(),this.getItems()},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","coldOverflowEdited","integrationsSelect","partnersSelect","countriesSelect","sourcesSelect","landingNamesSelect","coldOverflowEdited","offerSelect","usersSelect","coldOverflowLeadsCount","currentLead","getCrmSettings"])},watch:{"coldOverflowEdited.custom_cap":function(e,t){this.tabs=e?[{label:"General",value:"general",icon:"fas fa-home"},{label:"Cap",value:"cap",icon:"fas fa-globe"}]:[{label:"General",value:"general",icon:"fas fa-home"}]},"coldOverflowEdited.is_autologin":function(e,t){e&&this.coldOverflowEdited.interval<120&&(this.coldOverflowEdited.interval=120)},datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();this.coldOverflowEdited.date_start=a,this.coldOverflowEdited.date_end=s}},itemsSelected:{handler(e){e.length?(this.multipleActionModal=!0,this.myWidth=this.$refs.offerLeadsTable.offsetWidth):this.multipleActionModal=!1},deep:!0},rowsPerPage(e){this.page=1,this.serverOptions.rowsPerPage=e}},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getLandingNamesSelect","getOfferSelect","getUsersSelect","getItemsPagination","getColdOverflowLeadsCount"]),validateTime2(e){let t=this.coldOverflowEdited[e];t[0]>2?this.coldOverflowEdited[e]="":t[0]+t[1]>24?this.coldOverflowEdited[e]=t[0]:(t[3]>5||t[6]>5)&&(this.coldOverflowEdited[e]=t.slice(0,-1))},validateTime(e,t){let a=this.coldOverflowEdited.weeks[e][t];a[0]>2?this.coldOverflowEdited.weeks[e][t]="":a[0]+a[1]>24?this.coldOverflowEdited.weeks[e][t]=a[0]:(a[3]>5||a[6]>5)&&(this.coldOverflowEdited.weeks[e][t]=a.slice(0,-1))},updatePaginate(e){this.page=e,this.getItems(this.page)},onDateRangeChange(){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"})},paginationChangeHandler(e){this.getItems(e)},mixLeads(){this.loading=!0,this.$store.dispatch("mixColdOverflowLeads",{offerId:this.$route.params.id}).then((()=>{this.getItems()})).finally((()=>this.loading=!1))},refreshLeads(){this.loading=!0,this.$store.dispatch("updateColdOverflowLeads",{offerId:this.$route.params.id}).then((()=>{this.getItems()})).finally((()=>this.loading=!1))},getItems(e=1){let t=this.rowsPerPage;this.loading=!0;let a=this.filtersValues;this.$store.dispatch("getItemsPagination",{path:"cold-overflow/"+this.$route.params.id+"/leads",page:e,rowsPerPage:t,filtersValues:a}).then((()=>{this.loading=!1,this.getLeadCountsByType()}))},deleteItem(e){if(!confirm("Are you sure?"))return;this.loading=!0;let t={overflow_id:this.$route.params.id,lead_id:e.id};this.$store.dispatch("deleteColdOverflowLead",t).then((()=>{alert("Successfully!")})).finally((()=>{this.loading=!1,this.getLeadCountsByType()}))},swapArray(e,t,a){if(Math.min(t,a)<0||Math.max(t,a)>=e.length)return null;const s=e.splice(t,1);return e.splice(a>0?a-1:0,0,s[0]),e},getItem(){this.inputLoading=!0,this.dialog=!0,this.$store.dispatch("getColdOverflow",this.$route.params.id).then((e=>{this.inputLoading=!1,this.datesModel={start:new Date(this.coldOverflowEdited.date_start),end:new Date(this.coldOverflowEdited.date_end)},e.data.data.custom_cap?this.tabs=[{label:"General",value:"general",icon:"fas fa-home"},{label:"Cap",value:"cap",icon:"fas fa-globe"}]:this.tabs=[{label:"General",value:"general",icon:"fas fa-home"}]})).finally((()=>this.loading=!1)),this.getLeadCountsByType()},saveItem(){let e=this.globalCallback(this.coldOverflowEdited.countries),t=this.globalCallback(this.coldOverflowEdited.landing_names),a=this.globalCallback(this.coldOverflowEdited.sources),s=this.globalCallback(this.coldOverflowEdited.offers),l=this.globalCallback(this.coldOverflowEdited.users);2!=this.coldOverflowEdited.type&&(this.coldOverflowEdited.status_type=null),this.loading=!0,this.$store.dispatch("updateColdOverflow",{offerId:this.$route.params.id,item:this.coldOverflowEdited,countries:e,landings:t,offers:s,users:l,sources:a}).then((()=>{this.disabled=!0,this.edit=!1,this.getItem()})).finally((()=>this.loading=!1))},deleteLeads(){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteColdOverflowLeads",{overflow_id:this.$route.params.id,data:{ids:this.globalCallback(this.itemsSelected)}}).finally((()=>{this.getItems(),this.itemsSelected=[],this.loading=!1,this.multipleActionModal=!1})))},clearInjectLeads(){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("clearColdOverflowLeads",{overflow_id:this.$route.params.id}).finally((()=>{this.getItems(),this.loading=!1})))},getLeadsByType(e){this.isActive=this.filtersValues.type=e,this.getItems(1)},getLeadCountsByType(){this.$store.dispatch("getColdOverflowLeadsCount",{id:this.$route.params.id})},getCurrentLead(e){this.isLoaderActive=!this.isLoaderActive,this.$store.dispatch("getCurrentLead",e.id).finally((()=>{this.$store.commit("enableDialogLead"),this.isLoaderActive=!this.isLoaderActive}))},changeStatus(e){e.is_active=!e.is_active,this.disabled=!0,this.$store.dispatch("coldOverflowActivityToggle",{item:e}).then((()=>{this.disabled=!1,this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))}}},fC={class:"campaign-page inject-page"},yC={class:"form-outer"},_C={class:"form-header-inner"},vC={class:"left"},bC={class:"right"},SC={class:"buttons flex-nowrap"},kC={class:"form-body"},wC={class:"form-fieldset"},VC={class:"columns is-multiline"},PC={class:"column is-6"},xC={class:"column is-6"},CC={class:"column is-6"},IC={class:"column is-6"},DC={key:0,class:"column is-6"},LC={class:"column is-6"},$C={class:"column is-6"},TC={class:"column is-6"},AC={class:"h3-tooltip"},OC=[V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)],FC={class:"column is-6"},UC={class:"column is-6"},MC={class:"column is-6"},EC={class:"column is-6"},BC={class:"column is-6"},zC={class:"column is-6"},jC={class:"form-fieldset"},RC={class:"columns is-multiline"},NC={class:"column is-6"},HC={class:"field-addon-body align-items-center"},WC={class:"flex"},YC={class:"mb-1 mr-4"},GC=["onUpdate:modelValue","onInput"],qC=V("button",{type:"button","aria-hidden":"false",class:"button button v-button is-static"},[V("span",null,"to")],-1),JC=["onUpdate:modelValue","onInput"],KC={class:"column is-6"},XC={class:"pagination_wrap mob-hidden"},ZC={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},QC={key:0},eI={key:1},tI={class:"mb-0 choose_filter"},aI={class:"buttons",style:{"margin-left":"auto"}},sI={class:"pagination_wrap hide-on-desktop"},lI={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},iI={key:0},oI={key:1},rI=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),nI=["onClick"],dI={key:0},uI={key:0},cI={key:0},mI={key:0},pI={class:"pagination_wrap"},hI={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},gI={key:0},fI={key:1},yI={class:"selected"},_I={class:"selected-right-button"};const vI=fe(gC,[["render",function(e,t,a,s,l,i){const o=jf,r=Nt,n=bt,d=Ft,u=Wt,c=Et,m=$("v-selects"),p=$("VDatePicker"),h=Qr,y=$("v-tooltip"),v=xd,b=ba,S=nr,D=$("v-btn"),L=$("Multiselect"),T=xi,A=$("v-row"),O=$("v-col"),F=xr,E=$("EasyDataTable"),z=$("Lead"),N=te("mask");return g(),f("div",fC,[V("form",{class:"form-layout max-width",onSubmit:t[36]||(t[36]=B(((...e)=>i.saveItem&&i.saveItem(...e)),["prevent"]))},[V("div",yC,[V("div",{class:_([[s.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",_C,[V("div",vC,[V("h3",null,"Cold Overflow #"+P(this.$route.params.id),1)]),V("div",bC,[V("div",SC,[x(r,{class:"md:mb-1 mr-2",subcontrol:""},{default:w((()=>[x(o,{color:"primary",modelValue:e.coldOverflowEdited.is_active,"onUpdate:modelValue":t[0]||(t[0]=t=>i.changeStatus(e.coldOverflowEdited))},null,8,["modelValue"])])),_:1}),x(n,{class:"mr-2",icon:"lnir lnir-arrow-left rem-100",onClick:t[1]||(t[1]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(n,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])],2),x(b,{selected:"general",tabs:e.tabs,style:{"margin-top":"5px"}},{tab:w((({activeValue:a})=>[V("div",kC,[Y(V("div",wC,[V("div",VC,[V("div",PC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Name *")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.coldOverflowEdited.name=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",xC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Interval *")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.interval,"onUpdate:modelValue":t[3]||(t[3]=t=>e.coldOverflowEdited.interval=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",CC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Type")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.type,"onUpdate:modelValue":t[4]||(t[4]=t=>e.coldOverflowEdited.type=t),reduce:e=>e.id,label:"name",options:[{id:1,name:"Hold"},{id:2,name:"Live"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})]),V("div",IC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Date")])),_:1}),x(p,{modelValue:e.datesModel,"onUpdate:modelValue":t[5]||(t[5]=t=>e.datesModel=t),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:i.onDateRangeChange},{default:w((({inputValue:e,inputEvents:t})=>[x(r,{icon:"feather:calendar"},{default:w((()=>[x(u,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue","onClick"])])),_:1})]),e.coldOverflowEdited.type&&2==e.coldOverflowEdited.type?(g(),f("div",DC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Status Type")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.status_type,"onUpdate:modelValue":t[6]||(t[6]=t=>e.coldOverflowEdited.status_type=t),reduce:e=>e.id,label:"name",options:[{id:1,name:"Valid"},{id:2,name:"No answer"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})])):I("",!0),V("div",LC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Offers")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.offers,"onUpdate:modelValue":t[7]||(t[7]=t=>e.coldOverflowEdited.offers=t),reduce:e=>e.id,label:"name",multiple:"",options:e.offerSelect,"return-object":"","push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",$C,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.landing_names,"onUpdate:modelValue":t[8]||(t[8]=t=>e.coldOverflowEdited.landing_names=t),reduce:e=>e.id,label:"name",multiple:"",options:e.landingNamesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",TC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Country")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.countries,"onUpdate:modelValue":t[9]||(t[9]=t=>e.coldOverflowEdited.countries=t),reduce:e=>e.id,label:"ISO_2",multiple:"",options:e.countriesSelect,"push-tags":"","append-to-body":""},{option:w((e=>[V("h3",AC,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(y,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),OC,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(h,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",FC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Sources")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.sources,"onUpdate:modelValue":t[10]||(t[10]=t=>e.coldOverflowEdited.sources=t),reduce:e=>e.id,label:"name",multiple:"",options:e.sourcesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",UC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Users")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.users,"onUpdate:modelValue":t[11]||(t[11]=t=>e.coldOverflowEdited.users=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"",multiple:"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",MC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("New User")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.new_user_id,"onUpdate:modelValue":t[12]||(t[12]=t=>e.coldOverflowEdited.new_user_id=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",EC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Custom Cap")])),_:1}),x(r,null,{default:w((()=>[x(o,{modelValue:e.coldOverflowEdited.custom_cap,"onUpdate:modelValue":t[13]||(t[13]=t=>e.coldOverflowEdited.custom_cap=t),label:"Сap control"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",BC,[x(c,{class:"is-flex h-100 align-items-center"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,{modelValue:e.coldOverflowEdited.is_new_lead,"onUpdate:modelValue":t[14]||(t[14]=t=>e.coldOverflowEdited.is_new_lead=t),trueValue:"1",label:"Is new Lead",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",zC,[e.getCrmSettings.autologin?(g(),k(c,{key:0},{default:w((()=>[x(r,null,{default:w((()=>[x(v,{modelValue:e.coldOverflowEdited.is_autologin,"onUpdate:modelValue":t[15]||(t[15]=t=>e.coldOverflowEdited.is_autologin=t),trueValue:"1",label:"Autologin",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0)])])],512),[[ae,"general"==a]]),Y(V("div",jC,[V("div",RC,[V("div",NC,[this.coldOverflowEdited.custom_cap?(g(!0),f(j,{key:0},K(e.weeks,((e,t)=>(g(),f("div",{class:"column is-12",key:t},[x(c,{addons:""},{default:w((()=>[V("div",HC,[x(r,null,{default:w((()=>[V("div",WC,[x(v,{trueValue:"1",color:"primary",style:{"padding-left":"0","padding-right":"0"},class:"",modelValue:this.coldOverflowEdited.weeks[t]["is_"+e.id],"onUpdate:modelValue":a=>this.coldOverflowEdited.weeks[t]["is_"+e.id]=a},null,8,["modelValue","onUpdate:modelValue"]),V("div",YC,P(e.name),1)])])),_:2},1024),x(r,null,{default:w((()=>[Y(V("input",{class:"input v-input",type:"text","onUpdate:modelValue":a=>this.coldOverflowEdited.weeks[t][e.id+"_start_cap"]=a,maxlength:"8",onInput:a=>i.validateTime(t,e.id+"_start_cap")},null,40,GC),[[G,this.coldOverflowEdited.weeks[t][e.id+"_start_cap"]],[N,"##:##:##"]])])),_:2},1024),x(r,null,{default:w((()=>[qC])),_:1}),x(r,{subcontrol:""},{default:w((()=>[Y(V("input",{class:"input v-input",type:"text","onUpdate:modelValue":a=>this.coldOverflowEdited.weeks[t][e.id+"_end_cap"]=a,onInput:a=>i.validateTime(t,e.id+"_end_cap"),maxlength:"8"},null,40,JC),[[G,this.coldOverflowEdited.weeks[t][e.id+"_end_cap"]],[N,"##:##:##"]])])),_:2},1024)])])),_:2},1024)])))),128)):I("",!0)]),V("div",KC,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Fix Cap")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.daily_cap,"onUpdate:modelValue":t[16]||(t[16]=t=>e.coldOverflowEdited.daily_cap=t)},null,8,["modelValue"])])),_:1})])),_:1}),x(c,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[x(v,{modelValue:e.coldOverflowEdited.is_append,"onUpdate:modelValue":t[17]||(t[17]=t=>e.coldOverflowEdited.is_append=t),trueValue:"1",label:"Append Everyday Leads",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),e.coldOverflowEdited.is_append?(g(),k(c,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[C("Time Start")])),_:1}),x(r,null,{default:w((()=>[Y(x(u,{type:"text",modelValue:e.coldOverflowEdited.append_start_time,"onUpdate:modelValue":t[18]||(t[18]=t=>e.coldOverflowEdited.append_start_time=t),onInput:t[19]||(t[19]=e=>i.validateTime2("append_start_time")),maxlength:"8"},null,8,["modelValue"]),[[N,"##:##:##"]])])),_:1})])),_:1})):I("",!0),e.coldOverflowEdited.is_append?(g(),k(c,{key:1},{default:w((()=>[x(d,null,{default:w((()=>[C("Time End")])),_:1}),x(r,null,{default:w((()=>[Y(x(u,{type:"text",modelValue:e.coldOverflowEdited.append_end_time,"onUpdate:modelValue":t[20]||(t[20]=t=>e.coldOverflowEdited.append_end_time=t),onInput:t[21]||(t[21]=e=>i.validateTime2("append_end_time")),maxlength:"8"},null,8,["modelValue"]),[[N,"##:##:##"]])])),_:1})])),_:1})):I("",!0)])])],512),[[ae,"cap"==a]])])])),_:1},8,["tabs"])]),V("div",XC,[V("div",ZC,[C(" Showing "),1==e.page?(g(),f("span",QC,P(e.page),1)):(g(),f("span",eI,P(e.rowsPerPage*(e.page-1)+1),1)),C(" to "+P(e.page*e.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(S,{key:0,"current-page":e.page,"onUpdate:currentPage":[t[22]||(t[22]=t=>e.page=t),i.updatePaginate],"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(O,{cols:"12",class:"mb-3"},{default:w((()=>[x(A,{class:"d-flex align-center justify-space-between choose_filter-parent"},{default:w((()=>[V("div",tI,[x(D,{loading:e.buttonLoading,class:_([[{active:"all"==e.isActive}],"mt-1 mr-1"]),onClick:t[23]||(t[23]=e=>i.getLeadsByType("all"))},{default:w((()=>[C("All - "+P(e.coldOverflowLeadsCount.allCount),1)])),_:1},8,["loading","class"]),x(D,{loading:e.buttonLoading,class:_([[{active:"pending"==e.isActive}],"mt-1 mr-1"]),onClick:t[24]||(t[24]=e=>i.getLeadsByType("pending"))},{default:w((()=>[C("Pending - "+P(e.coldOverflowLeadsCount.pendingCount),1)])),_:1},8,["loading","class"]),x(D,{loading:e.buttonLoading,class:_([[{active:"completed"==e.isActive}],"mt-1 mr-1"]),onClick:t[25]||(t[25]=e=>i.getLeadsByType("completed"))},{default:w((()=>[C("Completed - "+P(e.coldOverflowLeadsCount.completedCount),1)])),_:1},8,["loading","class"]),x(D,{loading:e.buttonLoading,class:_([[{active:"error"==e.isActive}],"mt-1 mr-1"]),onClick:t[26]||(t[26]=e=>i.getLeadsByType("error"))},{default:w((()=>[C("Error - "+P(e.coldOverflowLeadsCount.errorCount),1)])),_:1},8,["loading","class"])]),V("div",aI,[x(c,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[x(L,{class:"perpage-select",style:{width:"100px",margin:"12px 5px 0px 0px"},modelValue:e.rowsPerPage,"onUpdate:modelValue":t[27]||(t[27]=t=>e.rowsPerPage=t),options:e.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[28]||(t[28]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1}),x(n,{type:"submit","dark-outlined":"",onClick:t[29]||(t[29]=e=>i.clearInjectLeads()),style:{margin:"0px 5px 0px 0px"},raised:""},{default:w((()=>[C("Clear")])),_:1}),x(T,{style:{margin:"0","margin-right":"5px"},onClick:t[30]||(t[30]=e=>i.refreshLeads()),icon:"feather:refresh-cw",color:"primary"})])])),_:1})])),_:1}),V("div",sI,[V("div",lI,[C(" Showing "),1==e.page?(g(),f("span",iI,P(e.page),1)):(g(),f("span",oI,P(e.rowsPerPage*(e.page-1)+1),1)),C(" to "+P(e.page*e.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(S,{key:0,"current-page":e.page,"onUpdate:currentPage":[t[31]||(t[31]=t=>e.page=t),i.updatePaginate],"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(E,{"items-selected":e.itemsSelected,"onUpdate:itemsSelected":t[32]||(t[32]=t=>e.itemsSelected=t),"server-options":e.serverOptions,"onUpdate:serverOptions":t[33]||(t[33]=t=>e.serverOptions=t),headers:e.offersHeaders,items:e.itemsPagination,loading:e.loading,"buttons-pagination":!1,"border-color":!1},{"empty-message":w((()=>[rI])),"item-email":w((e=>[V("span",{class:"cursor-pointer",onClick:t=>i.getCurrentLead(e)},P(e.email),9,nI)])),"item-source":w((e=>[e.source&&null!=e.source.name?(g(),f("span",dI,P(e.source.name),1)):I("",!0)])),"item-user":w((e=>[e.user&&null!=e.user.name?(g(),f("span",uI,P(e.user.name),1)):I("",!0)])),"item-landing_name":w((e=>[e.landing_name&&null!=e.landing_name.name?(g(),f("span",cI,P(e.landing_name.name),1)):I("",!0)])),"item-offer":w((e=>[e.offer&&"completed"==e.pivot.status?(g(),f("span",mI,P(e.offer),1)):I("",!0)])),"item-action":w((e=>[x(F,{onView:t=>i.getCurrentLead(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["items-selected","server-options","headers","items","loading"]),V("div",pI,[V("div",hI,[C(" Showing "),1==e.page?(g(),f("span",gI,P(e.page),1)):(g(),f("span",fI,P(e.rowsPerPage*(e.page-1)+1),1)),C(" to "+P(e.page*e.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(S,{key:0,"current-page":e.page,"onUpdate:currentPage":[t[34]||(t[34]=t=>e.page=t),i.updatePaginate],"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),e.currentLead?(g(),k(z,{key:0,isLoaderActive:e.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0),e.multipleActionModal?(g(),f("div",{key:1,class:"table-selected-popup",style:se({width:e.myWidth+"px"})},[V("div",yI,"Selected Items "+P(e.itemsSelected.length),1),V("div",_I,[x(n,{color:"danger",class:"mr-2",elevated:"",onClick:t[35]||(t[35]=e=>i.deleteLeads())},{default:w((()=>[C(" Delete Leads ")])),_:1})])],4)):I("",!0)],32)])}]]),bI={name:"Notifications",components:{Lead:sc,SimpleLeadPopup:Dc},data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1,isLoaderActive:!1}),mounted(){this.getItems(1)},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","currentLead","getRole"]),classObject:()=>({})},methods:{dateFormat:e=>(console.log(xe(e).fromNow()),xe(e).fromNow()),allDateFormat(e){return this.dateToYMD(e)},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},isToday(e){let t=new Date(e);const a=new Date;return console.log(22),console.log(a.toDateString()),console.log(t.toDateString()),a.toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},SI=e=>(N("data-v-086bc62b"),e=e(),H(),e),kI={class:"timeline-wrapper"},wI=SI((()=>V("div",{class:"timeline-header"},null,-1))),VI={class:"timeline-wrapper-inner"},PI={class:"timeline-container"},xI={class:"date"},CI={class:"content-wrap"},II={class:"content-box"},DI=SI((()=>V("div",{class:"status"},null,-1))),LI={class:"box-text"},$I={class:"meta-text"},TI={key:0},AI={class:"name"},OI={key:1},FI={class:"name"},UI=SI((()=>V("br",null,null,-1))),MI={class:"box-end"},EI={class:"date"},BI={class:"content-wrap"},zI={class:"content-box"},jI=SI((()=>V("div",{class:"status"},null,-1))),RI={class:"box-text"},NI={class:"meta-text"},HI={class:"name"},WI=["onClick"],YI=SI((()=>V("br",null,null,-1))),GI={class:"box-end"},qI={key:0,class:"load-more-wrap has-text-centered"};const JI=fe(bI,[["render",function(e,t,a,s,l,i){const o=$i,r=bt,n=$("Lead"),d=$("SimpleLeadPopup");return g(),f("div",kI,[wI,V("div",VI,[V("div",PI,[(g(!0),f(j,null,K(l.notifications,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[e.data.type?(g(),f(j,{key:0},[V("div",xI,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",CI,[V("div",II,[DI,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",LI,[V("div",$I,[V("p",null,[3==e.data.action?(g(),f("div",TI,[V("span",AI,P(e.data.name),1),C(" - Three leads in a row were not sent ")])):5==e.data.action?(g(),f("div",OI,[V("span",FI,P(e.data.name),1),C(" - Five leads in a row were not sent "),UI,2==e.data.disable?(g(),f(j,{key:0},[C("The campaign was switched off")],64)):I("",!0)])):I("",!0)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",MI,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],64)):(g(),f(j,{key:1},[V("div",EI,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",BI,[V("div",zI,[jI,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",RI,[V("div",NI,[V("p",null,[V("span",HI,P(e.data.name),1),C(" new FTD on "),V("span",{class:"name",style:{cursor:"pointer"},onClick:t=>i.getCurrentLead(e.data)},"Lead #"+P(e.data.id),9,WI),YI,C(" Created Date - "+P(e.data.created_at),1)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",GI,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],64))],2)))),128))]),e.totalPagesItemsPagination!=e.currentPageItemsPagination?(g(),f("div",qI,[x(r,{onClick:t[0]||(t[0]=t=>i.getItems(e.currentPageItemsPagination+1)),"dark-outlined":""},{default:w((()=>[C("Load More")])),_:1})])):I("",!0)]),e.currentLead&&"admin"==e.getRole||"affiliate_manager"==e.getRole||"support"==e.getRole?(g(),k(n,{key:0,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0),!e.currentLead||"teamlead"!=e.getRole&&"buyer"!=e.getRole?I("",!0):(g(),k(d,{key:1,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"]))])}],["__scopeId","data-v-086bc62b"]]),KI={name:"SpendsFilter",data:()=>((new Date).setMinutes(0,0,0),{datesModel:{start:"",end:""},loading:!1,filterValues:{leads_type:"valid"},commentModel:""}),props:{filters:Array,drawer:Boolean},computed:{...be(["webmasterFilters","sourceFilters","countryFilters","landingNameFilters","spendCategoriesFilters"])},methods:{checkSeachComment:Ce.debounce((function(e){this.filterValues.comment=this.commentModel,this.getItems(1)})),generateFilterValues(){let e=this.filterValues;return e.period=this.$parent.filterValues.period,e.search=this.$parent.filterValues.search,console.log("per"),console.log(e),console.log(e.period),null==e.period?(console.log(this.$parent.filterValues),console.log("popalo"),e.date_start_sended=this.$parent.filterValues.date_start_sended,e.date_end_sended=this.$parent.filterValues.date_end_sended):(e.date_start_sended="",e.date_end_sended=""),console.log(e),e},onDateRangeChange(e){if(this.datesModel&&this.datesModel.start&&this.datesModel.end){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"})}},getItems(){let e=this.generateFilterValues();this.$parent.filterValues=e,this.$parent.page=1,this.$parent.getItems()},getWebmasterFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getWebmasterTeamleadSpendsFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getSpendCategoriesFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getSpendCategoriesFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getSpendSourceFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getSpendSourceFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getSpendsCountryFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getSpendsCountryFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getSpendsLandingNameFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getSpendsLandingNameFilters",{filtersValues:e}).then((()=>{this.loading=!1}))},getModel:e=>"date"==e.id?"datesModel":"phone"==e.id?"phoneModel":void 0,clearCreatedDate(){this.datesModel={start:"",end:""}}},watch:{draw(){this.getSpendsCountryFilters()},datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel)if(""!=this.datesModel.start||""!=this.datesModel.end){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+a,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s;this.filterValues.date_start_registration=l,this.filterValues.date_end_registration=i}else this.filterValues.date_start_registration="",this.filterValues.date_end_registration="";else this.filterValues.date_start_registration="",this.filterValues.date_end_registration="";this.getItems(1)},commentModel(){this.checkSeachComment()}}},XI={class:"columns is-multiline"},ZI={key:0,class:"column is-3 highlight-current-date"},QI={class:"clearable"},eD={key:1,class:"column is-3"},tD={key:2,class:"column is-3"},aD={key:3,class:"column is-3"},sD={key:4,class:"column is-3"},lD={key:5,class:"column is-3"},iD={key:6,class:"column is-3"},oD={key:7,class:"column is-3"};const rD=fe(KI,[["render",function(e,t,a,s,l,i){const o=Ft,r=Wt,n=Nt,d=$("VDatePicker"),u=Et,c=$("v-selects"),m=$("v-list"),p=$("v-col");return a.drawer?(g(),k(p,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(m,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",XI,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["created_date"==a.id?(g(),f("div",ZI,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Created Date")])),_:1}),x(d,{modelValue:l.datesModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.datesModel=e),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:t[2]||(t[2]=e=>i.onDateRangeChange("created_at"))},{default:w((({inputValue:e,inputEvents:a})=>[x(n,{icon:"feather:calendar"},{default:w((()=>[V("div",QI,[x(r,R({value:e.start?e.start+" - "+e.end:""},ee(a.start)),null,16,["value"]),V("i",{class:"ftd_clear clearable__clear",onClick:t[0]||(t[0]=e=>i.clearCreatedDate()),style:{display:"block"}},"×")])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])):I("",!0),"sources"==a.id?(g(),f("div",eD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Sources")])),_:1}),x(c,{modelValue:l.filterValues.source_ids,"onUpdate:modelValue":[t[3]||(t[3]=e=>l.filterValues.source_ids=e),t[5]||(t[5]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.sourceFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[4]||(t[4]=e=>i.getItems()),"onSearch:focus":i.getSpendSourceFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"countries"==a.id?(g(),f("div",tD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Countries")])),_:1}),x(c,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[6]||(t[6]=e=>l.filterValues.country_ids=e),t[8]||(t[8]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countryFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[7]||(t[7]=e=>i.getItems()),"onSearch:focus":i.getSpendsCountryFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"funnels"==a.id?(g(),f("div",aD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Funnels")])),_:1}),x(c,{modelValue:l.filterValues.landing_name_ids,"onUpdate:modelValue":[t[9]||(t[9]=e=>l.filterValues.landing_name_ids=e),t[10]||(t[10]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.landingNameFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getSpendsLandingNameFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"comment"==a.id?(g(),f("div",sD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Comment search")])),_:1}),x(r,{type:"text",modelValue:l.commentModel,"onUpdate:modelValue":t[11]||(t[11]=e=>l.commentModel=e)},null,8,["modelValue"])])),_:1})])):I("",!0),"webmasters"==a.id?(g(),f("div",lD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Webmasters")])),_:1}),x(c,{modelValue:l.filterValues.web_master_ids,"onUpdate:modelValue":[t[12]||(t[12]=e=>l.filterValues.web_master_ids=e),t[14]||(t[14]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.webmasterFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[13]||(t[13]=e=>i.getItems()),"onSearch:focus":i.getWebmasterFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"spend_categories"==a.id?(g(),f("div",iD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Spends Type")])),_:1}),x(c,{modelValue:l.filterValues.spend_categories_ids,"onUpdate:modelValue":[t[15]||(t[15]=e=>l.filterValues.spend_categories_ids=e),t[17]||(t[17]=e=>i.getItems())],reduce:e=>e.id,label:"title",options:e.spendCategoriesFilters,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[16]||(t[16]=e=>i.getItems()),"onSearch:focus":i.getSpendCategoriesFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"leads_type"==a.id?(g(),f("div",oD,[x(u,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Leads Type")])),_:1}),x(c,{modelValue:l.filterValues.leads_type,"onUpdate:modelValue":[t[18]||(t[18]=e=>l.filterValues.leads_type=e),t[19]||(t[19]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:[{id:"all",name:"All"},{id:"valid",name:"Valid"},{id:"send",name:"Send"}],"push-tags":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]]);be(["replenishmentTotal","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","spendingTotal"]),Se(["getUsersSelect","getSpendCount"]);const nD={name:"SimpleSpendsChart",props:{simpleChart:Object}},dD={key:0,class:"business-dashboard company-dashboard"},uD={class:"company-header is-dark-card-bordered is-dark-bg-6"},cD={class:"header-item is-dark-bordered-12"},mD={class:"item-inner"},pD=V("i",{class:"lnir lnir-bank","aria-hidden":"true"},null,-1),hD={class:"dark-inverted"},gD=V("p",null,"Income",-1),fD={class:"header-item is-dark-bordered-12"},yD={class:"item-inner"},_D=V("i",{"aria-hidden":"true",class:"lnil lnil-diamond-alt is-dark-primary"},null,-1),vD={class:"dark-inverted"},bD=V("p",null,"CPL",-1),SD={class:"header-item is-dark-bordered-12"},kD={class:"item-inner"},wD=V("i",{"aria-hidden":"true",class:"lnil lnil-users-alt is-dark-primary"},null,-1),VD={class:"dark-inverted"},PD=V("p",null,"Leads",-1),xD={class:"header-item is-dark-bordered-12"},CD={class:"item-inner"},ID=V("i",{class:"lnir lnir-identity","aria-hidden":"true"},null,-1),DD={class:"dark-inverted"},LD=V("p",null,"FTD/CR",-1),$D={class:"company-header is-dark-card-bordered is-dark-bg-6"},TD={class:"header-item is-dark-bordered-12"},AD={class:"item-inner"},OD=V("i",{"aria-hidden":"true",class:"lnil lnil-diamond-alt is-dark-primary"},null,-1),FD={class:"dark-inverted"},UD=V("p",null,"Profit",-1),MD={class:"header-item is-dark-bordered-12"},ED={class:"item-inner"},BD=V("i",{"aria-hidden":"true",class:"lnil lnil-diamond-alt is-dark-primary"},null,-1),zD={class:"dark-inverted"},jD=V("p",null,"CPA",-1),RD={class:"header-item is-dark-bordered-12"},ND={class:"item-inner"},HD=V("i",{"aria-hidden":"true",class:"lnil lnil-diamond-alt is-dark-primary"},null,-1),WD={class:"dark-inverted"},YD=V("p",null,"Revenue",-1);const GD={name:"SpendTable",components:{SpendsFilter:rD,DatePicker:io,SpendsSimpleChart:fe(nD,[["render",function(e,t,a,s,l,i){return a.simpleChart?(g(),f("div",dD,[V("div",uD,[V("div",cD,[V("div",mD,[pD,V("span",hD,P(a.simpleChart.income),1),gD])]),V("div",fD,[V("div",yD,[_D,V("span",vD,P(a.simpleChart.cpl),1),bD])]),V("div",SD,[V("div",kD,[wD,V("span",VD,P(a.simpleChart.leads_count),1),PD])]),V("div",xD,[V("div",CD,[ID,V("span",DD,P(a.simpleChart.ftd),1),LD])])]),V("div",$D,[V("div",TD,[V("div",AD,[OD,V("span",FD,P(a.simpleChart.net_profit),1),UD])]),V("div",MD,[V("div",ED,[BD,V("span",zD,P(a.simpleChart.cpa),1),jD])]),V("div",RD,[V("div",ND,[HD,V("span",WD,P(a.simpleChart.revenue),1),YD])])])])):I("",!0)}]])},data:()=>({period:"this_month",datesModel:{start:null,end:null},serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},isLoaderActive:!1,filterValues:{web_master_ids:null,period:"this_month",leads_type:"valid"},drawer:!1,page:1,rowsPerPage:25,perPages:[25,50,100],loading:!0,totalHeaders:[{text:"Sum",sortable:!1,value:"sum"}],currentSpendPopup:!1,currentSpendAction:"edit",currentSpend:{date:new Date,categories:[]},currentEditedSpendsType:[]}),props:{filters:Array,mainTableHeaders:Array},computed:{...be(["replenishTotal","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","countryGroupsSelect","sourcesSelect","spendingTotal","spendTypes","landingNamesSelect","getRole","userId"])},provide:function(){return{getItems:this.getItems}},mounted(){"buyer"!=this.getRole&&this.getUsersSelect(),this.getCountryGroupsSelect(),this.getSpendTypes(),this.getLandingNamesSelect(),this.getSourcesSelect(),this.getItems()},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_registration=a,this.filterValues.date_end_registration=s}else this.filterValues.date_start_registration=null,this.filterValues.date_end_registration=null;this.getItems(1)},page(){this.getItems(this.page)}},methods:{...Se(["getUsersSelect","getCountryGroupsSelect","getSourcesSelect","getSpendCount","getSpendTypes","getLandingNamesSelect"]),selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.filterValues.period=null,this.filterValues.date_start_registration=null,this.filterValues.date_end_registration=null,this.period=null,this.getItems(1)},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.filterValues.date_start_registration=null,this.filterValues.date_end_registration=null,this.filterValues.period=e,this.getItems(1)},updateDialog(e){this.togglePopupLoader(),this.$store.dispatch("getSpend",e).then((e=>{this.currentSpend=e.data.data,this.currentSpendPopup=!0,this.currentSpendAction="edit"})).finally((()=>{this.togglePopupLoader()}))},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},createOpen(){this.currentSpendPopup=!0,this.currentSpendAction="create"},closeDialog(){this.currentSpendPopup=!1,this.currentSpend={date:new Date,categories:[]}},getItems(e=1){this.page=e;let t=this.rowsPerPage,a=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"spends",filtersValues:a,rowsPerPage:t,page:e}).then((()=>this.loading=!1)),this.$store.dispatch("getSpendCount",{filtersValues:a,rowsPerPage:t,page:e})},create(){let e=this.currentSpend;e.date=xe(e.date).format("YYYY-MM-DD"),e.categories=this.currentEditedSpendsType,this.$store.dispatch("createSpend",e).then((()=>{this.getUpdateSpendCount(),this.currentSpendPopup=!1,this.currentEditedSpendsType=[],this.currentSpend={date:new Date}})).catch((e=>console.log(e.response.data.errors)))},updateItem(){let e=this.currentSpend;e.date=xe(e.date).format("YYYY-MM-DD"),this.$store.dispatch("updateSpend",e).then((()=>{this.currentSpend={date:new Date,categories:[]},this.currentSpendPopup=!1,this.getUpdateSpendCount(),this.getItems(this.page)}))},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteSpend",e).then((()=>{alert("Successful!"),this.getUpdateSpendCount()})).catch((e=>console.log(e)))},getUpdateSpendCount(){let e=this.rowsPerPage,t=this.page,a=this.filterValues;this.$store.dispatch("getSpendCount",{filtersValues:a,rowsPerPage:e,page:t})},openFilters(){this.drawer=!this.drawer}}},qD={class:"v-flex flex-pagination top-pagination pagination is-rounded",style:{display:"flex","justify-content":"end"}},JD={class:"buttons"},KD={class:"v-flex flex-pagination top-pagination pagination is-rounded showing"},XD={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},ZD={key:0},QD={key:1},eL={class:"buttons"},tL={class:"business-dashboard company-dashboard"},aL={class:"company-header is-dark-card-bordered is-dark-bg-6",style:{"margin-bottom":"10px"}},sL={class:"item-inner"},lL={class:"dark-inverted"},iL=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),oL={class:"form-outer"},rL={class:"form-header stuck-header"},nL={class:"form-header-inner"},dL={class:"left"},uL={class:"right"},cL={class:"buttons"},mL={class:"form-body"},pL={class:"form-fieldset"},hL={class:"columns is-multiline"},gL={class:"column is-6"},fL={class:"column is-6"},yL={class:"column is-6"},_L={class:"column is-6"},vL={class:"h3-tooltip"},bL=[V("i",{class:"fas fa-question-circle","aria-hidden":"true"},null,-1)],SL={class:"column is-6"},kL={class:"column is-6"},wL=V("div",{class:"column is-12"},[V("hr")],-1);const VL=fe(GD,[["render",function(e,t,a,s,l,i){const o=bt,r=xi,n=nr,d=$("DatePicker"),u=$("Multiselect"),c=Nt,m=Et,p=$("SpendsFilter"),h=$("SpendsSimpleChart"),y=xr,_=$("EasyDataTable"),v=$("v-col"),b=$("v-row"),S=Ft,D=Wt,L=$("VDatePicker"),T=$("v-selects"),A=Qr,O=$("v-tooltip"),F=tn,E=Cr,z=$("v-dialog");return g(),f(j,null,[V("div",qD,[V("div",JD,[x(o,{class:"mb-0",color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[0]||(t[0]=e=>i.createOpen())},{default:w((()=>[C(" Add Spend ")])),_:1}),x(r,{style:{margin:"0","margin-right":"5px"},icon:"feather:refresh-cw",color:"primary",onClick:t[1]||(t[1]=e=>{this.getItems()})}),x(r,{icon:"feather:filter",color:"primary",onClick:t[2]||(t[2]=e=>i.openFilters()),style:{"margin-bottom":"0"}})])]),V("div",KD,[V("div",XD,[C(" Showing "),1==l.page?(g(),f("span",ZD,P(l.page),1)):(g(),f("span",QD,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(n,{key:0,style:{margin:"0 !important"},"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),V("div",eL,[x(d,{class:"mr-1",period:l.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(m,null,{default:w((()=>[x(c,null,{default:w((()=>[x(u,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[4]||(t[4]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[5]||(t[5]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),l.drawer?(g(),k(p,{key:0,drawer:l.drawer,ref:"spendsFilter",filters:a.filters,class:"pt-1"},null,8,["drawer","filters"])):I("",!0),e.spendingTotal?(g(),k(h,{key:1,simpleChart:e.spendingTotal.simple_chart},null,8,["simpleChart"])):I("",!0),e.spendingTotal?(g(!0),f(j,{key:2},K(e.spendingTotal.categories_total,(e=>(g(),f("div",tL,[V("div",aL,[(g(!0),f(j,null,K(e,(e=>(g(),f("div",{class:"header-item is-dark-bordered-12",key:e.title},[V("div",sL,[V("span",lL,P(e.spend),1),V("p",null,P(e.title),1)])])))),128))])])))),256)):I("",!0),x(b,null,{default:w((()=>[x(v,{cols:"12"},{default:w((()=>[x(_,{headers:a.mainTableHeaders,items:e.itemsPagination,"disable-pagination":!0,"hide-default-footer":!0,loading:l.loading,class:"elevation-1","server-options":l.serverOptions,"onUpdate:serverOptions":t[6]||(t[6]=e=>l.serverOptions=e)},{"empty-message":w((()=>[iL])),"item-action":w((t=>["teamlead"==e.getRole?(g(),f(j,{key:0},[t.user_id==e.userId?(g(),k(y,{key:0,onView:e=>i.updateDialog(t.id),onRemove:e=>i.deleteItem(t.id)},null,8,["onView","onRemove"])):I("",!0)],64)):(g(),k(y,{key:1,onView:e=>i.updateDialog(t.id),onRemove:e=>i.deleteItem(t.id)},null,8,["onView","onRemove"]))])),_:1},8,["headers","items","loading","server-options"])])),_:1})])),_:1}),x(z,{modelValue:l.currentSpendPopup,"onUpdate:modelValue":t[17]||(t[17]=e=>l.currentSpendPopup=e),persistent:"",class:"lead-dialog spend",style:{"max-width":"1440px"}},{default:w((()=>[x(E,{size:"large",active:l.isLoaderActive},{default:w((()=>[V("form",{class:"form-layout relative",onSubmit:t[16]||(t[16]=B((t=>e.onSubmit()),["prevent"]))},[V("div",oL,[V("div",rL,[V("div",nL,[V("div",dL,[V("h3",null,P("edit"==l.currentSpendAction?"Edit":"Create")+" Spend",1)]),V("div",uL,[V("div",cL,[x(o,{icon:"lnir lnir-close rem-100",onClick:t[7]||(t[7]=e=>i.closeDialog()),light:"","dark-outlined":""},{default:w((()=>[C(" Close ")])),_:1}),"create"==l.currentSpendAction?(g(),k(o,{key:0,onClick:t[8]||(t[8]=e=>i.create()),color:"primary",raised:""},{default:w((()=>[C(" Create ")])),_:1})):(g(),k(o,{key:1,onClick:t[9]||(t[9]=e=>i.updateItem()),color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1}))])])])]),V("div",mL,[V("div",pL,[V("div",hL,[V("div",gL,[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C("Date")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(L,{modelValue:l.currentSpend.date,"onUpdate:modelValue":t[10]||(t[10]=e=>l.currentSpend.date=e),mode:"date"},{default:w((({inputValue:e,inputEvents:t})=>[x(m,null,{default:w((()=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(D,R({value:e},ee(t)),null,16,["value"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1})]),V("div",fL,[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C("Funnel")])),_:1}),x(c,null,{default:w((()=>[x(T,{modelValue:l.currentSpend.landing_name_id,"onUpdate:modelValue":t[11]||(t[11]=e=>l.currentSpend.landing_name_id=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",yL,[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C("Source")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(T,{modelValue:l.currentSpend.source_id,"onUpdate:modelValue":t[12]||(t[12]=e=>l.currentSpend.source_id=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",_L,[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C("Country Group")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(T,{modelValue:l.currentSpend.country_id,"onUpdate:modelValue":t[13]||(t[13]=e=>l.currentSpend.country_id=e),reduce:e=>e.id,label:"ISO_2",options:e.countryGroupsSelect,"push-tags":""},{option:w((e=>[V("h3",vL,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(O,{key:0,text:"Tooltip",location:"top",width:"260px"},{activator:w((({props:e})=>[V("span",U(M(e)),bL,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(A,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",SL,["buyer"!=e.getRole?(g(),k(m,{key:0},{default:w((()=>[x(S,null,{default:w((()=>[C("User")])),_:1}),x(c,{class:"relative"},{default:w((()=>[x(T,{modelValue:l.currentSpend.user_id,"onUpdate:modelValue":t[14]||(t[14]=e=>l.currentSpend.user_id=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})):I("",!0)]),V("div",kL,[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C("Comment")])),_:1}),x(F,{modelValue:l.currentSpend.comment,"onUpdate:modelValue":t[15]||(t[15]=e=>l.currentSpend.comment=e),rows:"1",oninput:'this.style.height = "38px";this.style.height = this.scrollHeight + "px"'},null,8,["modelValue"])])),_:1})]),wL,e.spendTypes&&"create"==l.currentSpendAction?(g(!0),f(j,{key:0},K(e.spendTypes,(e=>(g(),f("div",{class:"column is-6",key:e.id},[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C(P(e.title),1)])),_:2},1024),x(c,{class:"block-copy-text relative"},{default:w((()=>[x(D,{type:"text",modelValue:l.currentEditedSpendsType[e.id],"onUpdate:modelValue":t=>l.currentEditedSpendsType[e.id]=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])))),128)):"edit"==l.currentSpendAction?(g(!0),f(j,{key:1},K(e.spendTypes,(e=>(g(),f("div",{class:"column is-6",key:e.id},[x(m,null,{default:w((()=>[x(S,null,{default:w((()=>[C(P(e.title),1)])),_:2},1024),x(c,{class:"block-copy-text relative"},{default:w((()=>[x(D,{type:"text",modelValue:l.currentSpend.categories[e.id],"onUpdate:modelValue":t=>l.currentSpend.categories[e.id]=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])))),128)):I("",!0)])])])])],32)])),_:1},8,["active"])])),_:1},8,["modelValue"])],64)}]]);const PL=fe({name:"AdminSpend",components:{SpendTable:VL},data:()=>({mainTableHeaders:[{text:"Date",sortable:!1,value:"date"},{text:"Buyer",sortable:!1,value:"user"},{text:"GEO",sortable:!1,value:"country"},{text:"Source",sortable:!1,value:"source"},{text:"Funnel",sortable:!1,value:"funnel"},{text:"Comment",sortable:!1,value:"comment"},{text:"Created At",sortable:!1,value:"created_at"}],filters:[{id:"created_date",type:"select",label:"Date"},{id:"webmasters",type:"input",label:"Phone"},{id:"funnels",type:"select",label:"Funnel"},{id:"countries",type:"select",label:"GEO"},{id:"sources",type:"select",label:"Source"},{id:"leads_type",type:"select",label:"Leads Type"},{id:"spend_categories",type:"select",label:"Spends Type"},{id:"comment",type:"input",label:"Search by comment"}]}),mounted(){s({title:this.$route.meta.title}),this.addCategoriesToHeaders()},methods:{addCategoriesToHeaders(){this.$store.dispatch("getSpendTypes").then((e=>{console.log(e.data.data),e.data.data&&e.data.data.length&&(e.data.data.forEach((e=>{this.mainTableHeaders.push({text:e.title,value:e.name})})),this.mainTableHeaders.push({text:"Action",value:"action"}))}))}}},[["render",function(e,t,a,s,l,i){const o=$("SpendTable"),r=$("v-container");return g(),k(r,{class:"page_spending",fluid:""},{default:w((()=>[x(o,{filters:l.filters,mainTableHeaders:l.mainTableHeaders},null,8,["filters","mainTableHeaders"])])),_:1})}]]),xL={name:"SpendingCategories",data:()=>({currentSpendCategory:{},searchModel:"",money_back:0,filterValues:{},rowsPerPage:25,page:1,loading:!0,title:"",inputLoading:!1,createDialog:!1,editDialog:!1,placement:"top",serverErrors:{},statusHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Category",sortable:!1,value:"title"},{text:"Actions",sortable:!1,value:"action"}]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","spendingCategories","getRole"]),nameErrors(){const e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Введите название"),!this.$v.name.minLength&&e.push("Не менее 2 символов"),!this.$v.name.maxLength&&e.push("Не более 20 символов"),!this.$v.name.serverFailed&&this.hasServerError("name")&&e.push(this.serverErrors.name[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getSpendingCategoriesSelect()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},title(){this.serverErrors={}}},methods:{...Se(["getSpendingCategoriesSelect","saveSpendingCategory"]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),editCategory(e){this.currentSpendCategory=e,this.editDialog=!0},withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"spending-categories",page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){let e={title:this.title,money_back:this.money_back};this.$store.dispatch("createSpendingCategory",e).then((()=>{this.createDialog=!1,this.title=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems()},save(){this.$store.dispatch("saveSpendingCategory",{data:this.currentSpendCategory}).then((()=>{this.editDialog=!1,this.currentSpendCategory={},this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Вы действительно хотите удалить категорию?")&&this.$store.dispatch("deleteSpendingCategory",e).then((()=>{alert("Успешно!")})).catch((e=>console.log(e)))}}},CL={class:"list-flex-toolbar flex-list-v1"},IL=V("span",{class:"headline"},"Create Category",-1),DL=V("span",{class:"headline"},"Edit Category",-1);const LL=fe(xL,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=xd,v=$("v-form"),b=$("v-col"),S=$("v-row"),P=$("v-container"),D=$("v-card-text"),L=$("v-spacer"),T=$("v-btn"),A=$("v-card-actions"),O=ft,F=$("v-dialog");return g(),f(j,null,[V("div",CL,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Category ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.statusHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((e=>[x(u,{onView:t=>i.editCategory(e),onRemove:t=>i.deleteItem(e.id)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(F,{modelValue:l.createDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(O,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[IL])),_:1}),x(D,null,{default:w((()=>[x(P,null,{default:w((()=>[x(S,null,{default:w((()=>[x(b,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(v,{ref:"form"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Title")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"Name like 'Facebook ADV / DROP FB'",modelValue:l.title,"onUpdate:modelValue":t[2]||(t[2]=e=>l.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(_,{modelValue:l.money_back,"onUpdate:modelValue":t[3]||(t[3]=e=>l.money_back=e),style:{"padding-left":"4px"},checked:l.money_back,label:"Money Back",color:"success"},null,8,["modelValue","checked"])])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(A,null,{default:w((()=>[x(L),x(T,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(T,{color:"#009688",text:"",dark:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(F,{modelValue:l.editDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>l.editDialog=e),"max-width":"500px"},{default:w((()=>[x(O,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[DL])),_:1}),x(D,null,{default:w((()=>[x(P,null,{default:w((()=>[x(S,null,{default:w((()=>[x(b,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(v,{ref:"form"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Title")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"Name like 'Facebook ADV / DROP FB'",modelValue:l.currentSpendCategory.title,"onUpdate:modelValue":t[5]||(t[5]=e=>l.currentSpendCategory.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(_,{modelValue:l.currentSpendCategory.money_back,"onUpdate:modelValue":t[6]||(t[6]=e=>l.currentSpendCategory.money_back=e),style:{"padding-left":"4px"},trueValue:"1",label:"Money Back",color:"success"},null,8,["modelValue"])])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(A,null,{default:w((()=>[x(L),x(T,{color:"#009688",text:"",dark:"",onClick:t[7]||(t[7]=e=>this.editDialog=!1)},{default:w((()=>[C("Cancel")])),_:1}),x(T,{color:"#009688",text:"",dark:"",onClick:t[8]||(t[8]=e=>i.save())},{default:w((()=>[C("Save")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),$L={name:"Log",props:{item:Object},data:()=>({show:!1,headers:[{text:"Date",sortable:!1,value:"pivot.date_send"},{text:"Comment",sortable:!1,value:"comment"}],rowsPerPage:20,loading:!0}),computed:{...be(["dialogDomainLogs","domainLogs"])},mounted(){this.getItems(1)},methods:{paginationChangeHandler(e){this.getItems(e)},getItems(e=1){this.rowsPerPage,this.loading=!0}}},TL={key:0,class:"log-right-panel"},AL={class:"log-panel-header"},OL=[J('<span class="active icon-box-toggle"><span class="rotate"><i aria-hidden="true" class="icon-line-top"></i><i aria-hidden="true" class="icon-line-center"></i><i aria-hidden="true" class="icon-line-bottom"></i></span></span>',1)],FL=V("h3",null,"Logs",-1),UL={class:"log-panel-inner"},ML={class:"log-panel-item"};const EL={name:"Domains",components:{filters:Tr,DomainLog:fe($L,[["render",function(e,t,a,s,l,i){return e.dialogDomainLogs?(g(),f("div",TL,[V("div",AL,[V("span",{class:"menu-toggle has-chevron",onClick:t[0]||(t[0]=e=>this.$store.commit("disableDialogDomainLogs"))},OL),FL]),V("div",UL,[(g(!0),f(j,null,K(e.domainLogs,(e=>(g(),f("div",ML,[V("p",null,[V("span",null,P(e.date)+" - "+P(e.type),1),V("code",null,P(e.comment),1)])])))),256))])])):I("",!0)}]])},props:["filters"],data:()=>({showLog:!1,logItem:{id:null},logDraw:!0,drawerLog:!1,rowsPerPage:25,page:1,placement:"top",loading:!0,name:"",deleteDialog:{item:{},open:!1},disabled:!1,inputLoading:!1,selectedUser:null,selectedServer:null,createDialog:!1,createDialog2:!1,drawer:!1,filterValues:{server_ids:[],domain_ids:[],user_ids:[],status:[]},editedDialog:{id:"",url:"",user_id:"",server_id:""},searchModel:"",updateDialogModel:!1,serverErrors:{},archives:"",archivesList:["Да","Нет"],offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Домен",sortable:!1,value:"url"},{text:"Сервер",sortable:!1,value:"server"},{text:"Юзер",sortable:!1,value:"user"},{text:"Действия",sortable:!1,value:"action"}]}),computed:{...be(["domainFilters","serverFilters","userFilters","newDomain","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","serversSelect","domainZones","namecheapSelect","cloudflareSelect","getRole"]),urlErrors(){const e=[];return this.$v.newDomain.url.$dirty?(!this.$v.newDomain.url.required&&e.push("Укажите домен"),!this.$v.newDomain.url.minLength&&e.push("Не менее 5 символов"),!this.$v.newDomain.url.maxLength&&e.push("Не более 255 символов"),!this.$v.newDomain.url.serverFailed&&this.hasServerError("url")&&e.push(this.serverErrors.url[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},domainFilters:function(e){console.log(e)},newDomain:{handler(){this.serverErrors={}},deep:!0}},methods:{...Se(["getUsersSelect","getServersSelect","getDomainZones","getCloudflareSelect","getNamecheapSelect"]),checkAvailable(e){console.log(e),this.$store.dispatch("checkAvailable",e).then((()=>{this.getItems()}))},openLog(e){this.$store.dispatch("getCurrentDomainLog",e.id).then((()=>this.$store.commit("enableDialogDomainLogs"))),this.logItem=e},generateDomainUrls(){console.log(2);let e=10;console.log(this.newDomain.count),0!=this.newDomain.count&&(console.log("pop"),e=this.newDomain.count),this.newDomain.url="";for(let t=0;t<e;t++){let e="";const t=["a","e","i","o","u"],a=["b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z"],s=6/2;for(let l=1;l<=s;l++)e+=a[Math.floor(20*Math.random())],e+=t[Math.floor(5*Math.random())];if(this.newDomain.prefix_domains){e+="-";for(let l=1;l<=s;l++)e+=a[Math.floor(20*Math.random())],e+=t[Math.floor(5*Math.random())]}this.newDomain.url+=e+"\n"}console.log(this.newDomain.url)},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},openFilters(){this.drawer=!this.drawer},updateDialog(e){this.getUsersSelect(),this.getServersSelect(),this.updateDialogModel=!0,this.editedDialog.id=e.id,this.editedDialog.url=e.url,this.editedDialog.user_id=e.user_id,this.editedDialog.server_id=e.server_id},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0,this.newDomain.count=10,this.getUsersSelect(),this.getServersSelect(),this.getDomainZones(),this.getNamecheapSelect(),this.getCloudflareSelect()},createOpenAdd(){this.newDomain.url="",this.createDialog2=!0,this.getUsersSelect(),this.getServersSelect(),this.getDomainZones(),this.getNamecheapSelect(),this.getCloudflareSelect()},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"domains",page:e,filtersValues:t}).then((()=>this.loading=!1))},createAdd(){this.$store.dispatch("createDomainAdd",{item:this.newDomain}).then((e=>{this.createDialog2=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},create(){console.log(this.newDomain),this.$store.dispatch("createDomain",{item:this.newDomain}).then((e=>{this.createDialog=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},updateItem(){this.$store.dispatch("updateDomain",this.editedDialog).then((()=>{this.updateDialogModel=!1,this.editedDialog.id="",this.editedDialog.user_id="",this.editedDialog.url="",this.editedDialog.server_id="",this.getItems()}))},showLog(e){this.drawerLog=!0},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteDomain",e.id).then((e=>{alert("Success!")}))},refundItem(e){this.deleteDialog.item=e,this.archiveItemConfirm("active")},archiveItemConfirm(e="archive"){this.deleteDialog.item.status=e,console.log(this.deleteDialog.item),this.$store.dispatch("archiveDomain",{item:this.deleteDialog.item}).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>{this.$store.commit("disableOverlay"),console.log(e)}))},deleteItemConfirm(){this.$store.dispatch("deleteDomain",this.deleteDialog.item.id).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>this.$store.commit("disableOverlay")))},toggleFilter(e,t,a){t=t.length!=e.length?e.map((e=>e.id)):[],this.filterValues[a]=t,this.getItems()},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))}}},BL={class:"list-flex-toolbar flex-list-v1"},zL=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),jL={key:0},RL=V("div",{style:{height:"40px",width:"40px"}},null,-1),NL={key:1},HL=[V("i",{style:{cursor:"pointer"},class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true"},null,-1)],WL={key:2,style:{"font-size":"20px"},class:"iconify","data-icon":"feather:alert-triangle","aria-hidden":"true"},YL={key:3},GL={key:0},qL={key:1},JL=["onClick"],KL={style:{color:"red"}},XL={key:0},ZL={key:0},QL=V("span",{class:"headline"},"New domain",-1),e$=[V("i",{class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true"},null,-1)],t$=V("span",{class:"headline"},"New domain",-1),a$=V("span",{class:"headline"},"Edit domain",-1);const s$=fe(EL,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=xi,u=yt,c=$("filters"),m=Cr,p=xr,h=$("EasyDataTable"),y=nr,_=$("v-card-title"),v=Ft,b=tn,S=xd,D=Wt,L=$("v-selects"),T=$("v-col"),A=$("v-row"),O=$("v-container"),F=$("v-card-text"),U=$("v-spacer"),M=$("v-btn"),E=$("v-card-actions"),B=ft,z=$("v-dialog"),R=$("DomainLog");return g(),f(j,null,[V("div",BL,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(u,null,{default:w((()=>["admin"==e.getRole||"support"==e.getRole?(g(),f(j,{key:0},[x(n,{color:"info",icon:"fas fa-dollar-sign",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Buy Domains ")])),_:1},8,["onClick"]),x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpenAdd},{default:w((()=>[C(" Add Domains ")])),_:1},8,["onClick"])],64)):I("",!0),a.filters.length?(g(),k(d,{key:1,icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters()),style:{"margin-bottom":"0"}})):I("",!0)])),_:1})]),l.drawer?(g(),k(c,{key:0,drawer:l.drawer,ref:"leadFilter",filters:a.filters},null,8,["drawer","filters"])):I("",!0),x(h,{headers:l.offersHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"empty-message":w((()=>[zL])),"item-id":w((e=>[e.is_loading?(g(),f("span",jL,[x(m,{active:!0,size:"small",center:"regular",translucent:!0},{default:w((()=>[RL])),_:1})])):e.is_error&&0==e.is_registrator?(g(),f("span",NL,HL)):e.is_error?(g(),f("i",WL)):(g(),f("span",YL,P(e.id),1))])),"item-url":w((({url:e,is_available:t,id:a})=>[e&&1==t?(g(),f("span",GL,P(e),1)):I("",!0),e&&0==t?(g(),f("div",qL,[V("i",{style:{cursor:"pointer"},class:"lnir lnir-reload mr-2","aria-hidden":"true",onClick:e=>i.checkAvailable(a)},null,8,JL),V("span",KL,P(e),1)])):I("",!0)])),"item-user":w((({user:e})=>[e?(g(),f("span",XL,P(e.name),1)):I("",!0)])),"item-server":w((({server:e})=>[e?(g(),f("span",ZL,P(e.name),1)):I("",!0)])),"item-action":w((t=>["admin"==e.getRole||"support"==e.getRole?(g(),k(p,{key:0,onView:e=>i.updateDialog(t),onRemove:e=>i.deleteItem(t),onLogs:e=>i.openLog(t),showLogs:!0},null,8,["onView","onRemove","onLogs"])):I("",!0)])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(y,{key:1,"current-page":l.page,"onUpdate:currentPage":t[2]||(t[2]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(z,{modelValue:l.createDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>l.createDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(B,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[QL])),_:1}),x(F,null,{default:w((()=>[x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,{style:{position:"relative"}},{default:w((()=>[x(v,null,{default:w((()=>[C("URL *")])),_:1}),x(o,null,{default:w((()=>[x(b,{modelValue:e.newDomain.url,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newDomain.url=t),rows:"5"},null,8,["modelValue"])])),_:1}),V("div",{onClick:t[4]||(t[4]=(...e)=>i.generateDomainUrls&&i.generateDomainUrls(...e)),style:{position:"absolute",right:"5px",bottom:"5px",cursor:"pointer"}},e$)])),_:1}),x(r,{class:"is-flex"},{default:w((()=>[x(o,null,{default:w((()=>[x(S,{modelValue:e.newDomain.prefix_domains,"onUpdate:modelValue":t[5]||(t[5]=t=>e.newDomain.prefix_domains=t),trueValue:"1",label:"Add Prefix",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox"},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Count")])),_:1}),x(o,null,{default:w((()=>[x(D,{type:"text",placeholder:"",modelValue:e.newDomain.count,"onUpdate:modelValue":t[6]||(t[6]=t=>e.newDomain.count=t)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Zones")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.zones,"onUpdate:modelValue":t[7]||(t[7]=t=>e.newDomain.zones=t),reduce:e=>e.id,label:"name",options:e.domainZones,"push-tags":"","calculate-position":i.withPopper,multiple:""},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),"admin"==e.getRole||"support"==e.getRole?(g(),k(r,{key:0},{default:w((()=>[x(v,null,{default:w((()=>[C("User")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.user_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.newDomain.user_id=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})):I("",!0),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Namecheap")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.namecheap_id,"onUpdate:modelValue":t[9]||(t[9]=t=>e.newDomain.namecheap_id=t),reduce:e=>e.id,label:"name",options:e.namecheapSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Cloudflare")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.cloudflare_id,"onUpdate:modelValue":t[10]||(t[10]=t=>e.newDomain.cloudflare_id=t),reduce:e=>e.id,label:"name",options:e.cloudflareSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Server")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.server_id,"onUpdate:modelValue":t[11]||(t[11]=t=>e.newDomain.server_id=t),reduce:e=>e.id,label:"name",options:e.serversSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(E,null,{default:w((()=>[x(U),x(M,{color:"#009688",text:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(M,{color:"#009688",text:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(z,{modelValue:l.createDialog2,"onUpdate:modelValue":t[18]||(t[18]=e=>l.createDialog2=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(B,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[t$])),_:1}),x(F,null,{default:w((()=>[x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,{style:{position:"relative"}},{default:w((()=>[x(v,null,{default:w((()=>[C("URL *")])),_:1}),x(o,null,{default:w((()=>[x(b,{modelValue:e.newDomain.url,"onUpdate:modelValue":t[13]||(t[13]=t=>e.newDomain.url=t),rows:"5"},null,8,["modelValue"])])),_:1})])),_:1}),"admin"==e.getRole||"support"==e.getRole?(g(),k(r,{key:0},{default:w((()=>[x(v,null,{default:w((()=>[C("User")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.user_id,"onUpdate:modelValue":t[14]||(t[14]=t=>e.newDomain.user_id=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})):I("",!0),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Cloudflare")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.cloudflare_id,"onUpdate:modelValue":t[15]||(t[15]=t=>e.newDomain.cloudflare_id=t),reduce:e=>e.id,label:"name",options:e.cloudflareSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Server")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:e.newDomain.server_id,"onUpdate:modelValue":t[16]||(t[16]=t=>e.newDomain.server_id=t),reduce:e=>e.id,label:"name",options:e.serversSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(E,null,{default:w((()=>[x(U),x(M,{color:"#009688",text:"",onClick:t[17]||(t[17]=e=>this.createDialog2=!1)},{default:w((()=>[C("Cancel")])),_:1}),x(M,{color:"#009688",text:"",onClick:i.createAdd},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(z,{modelValue:l.updateDialogModel,"onUpdate:modelValue":t[23]||(t[23]=e=>l.updateDialogModel=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(B,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[a$])),_:1}),x(F,null,{default:w((()=>[x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("URL *")])),_:1}),x(o,null,{default:w((()=>[x(D,{type:"text",placeholder:"",modelValue:l.editedDialog.url,"onUpdate:modelValue":t[19]||(t[19]=e=>l.editedDialog.url=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("User")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:l.editedDialog.user_id,"onUpdate:modelValue":t[20]||(t[20]=e=>l.editedDialog.user_id=e),"return-object":"",reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Server")])),_:1}),x(o,null,{default:w((()=>[x(L,{modelValue:l.editedDialog.server_id,"onUpdate:modelValue":t[21]||(t[21]=e=>l.editedDialog.server_id=e),"return-object":"",reduce:e=>e.id,label:"name",options:e.serversSelect,"push-tags":"","calculate-position":i.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(E,null,{default:w((()=>[x(U),x(M,{color:"#009688",text:"",onClick:t[22]||(t[22]=e=>l.updateDialogModel=!1)},{default:w((()=>[C("Cancel")])),_:1}),x(M,{color:"#009688",text:"",onClick:i.updateItem},{default:w((()=>[C("Save")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(R,{item:l.logItem,ref:"log"},null,8,["item"])],64)}]]);const l$=fe({name:"Domains",components:{Table:s$},setup(){Xr().setPageTitle("Domains")},data:()=>({filters:[{id:"servers",type:"select",label:"Created Date"},{id:"users",type:"input",label:"Phone"}],headers:[]})},[["render",function(e,t,a,s,l,i){const o=$("Table");return g(),k(o,{filters:l.filters,headers:l.headers},null,8,["filters","headers"])}]]),i$={name:"Integrations",components:{},data:()=>({MONACO_EDITOR_OPTIONS:{automaticLayout:!0,formatOnType:!0,formatOnPaste:!0},search:"",searchModel:"",filterValues:{},rowsPerPage:20,page:1,loading:!0,name:"",inputLoading:!1,createDialog:!1,createEmptyDialog:!1,emptyIntegrationTemplate:"",serverErrors:{},integrationsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Integration",sortable:!1,value:"name"},{text:"Actions",sortable:!1,value:"action"}]}),setup:()=>({darkmode:It()}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","findIntegrations","getIntegration","getRole"]),nameErrors(){const e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Введите название"),!this.$v.name.minLength&&e.push("Не менее 3 символов"),!this.$v.name.maxLength&&e.push("Не более 50 символов"),!this.$v.name.serverFailed&&this.hasServerError("name")&&e.push(this.serverErrors.name[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{search(){this.checkSearch()},searchModel(){this.checkSearchStr()},name(){this.serverErrors={}},page(){this.getItems(this.page)}},methods:{checkSearch:Ce.debounce((function(){this.search.length>2&&this.findIntegration()}),500),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},foundIntegration(e){this.loading=!0,this.$store.dispatch("foundIntegration",{fileName:e,search:this.search}).then((()=>this.loading=!1))},findIntegration(){this.loading=!0,this.$store.dispatch("findIntegrations",{search:this.search}).then((()=>this.loading=!1))},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"integrations",page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){if(!this.name||this.name.length<2)return void this.$store.commit("setAlert",{message:"Name field is required and must be more than 3 characters.",type:"error"});if(!this.getIntegration.template)return void this.$store.commit("setAlert",{message:"Choose a template.",type:"error"});let e={name:this.name,template:this.getIntegration.template,fields:this.getIntegration.fields};this.$store.dispatch("createIntegration",e).then((()=>{this.createDialog=!1,this.name="",this.search=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems(this.page)},createEmtpyIntegration(){if(!this.name||this.name.length<2)return void this.$store.commit("setAlert",{message:"Name field is required and must be more than 3 characters.",type:"error"});let e={name:this.name,content:this.emptyIntegrationTemplate};this.$store.dispatch("createEmptyIntegration",e).then((()=>{this.createEmptyDialog=!1,this.name=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems(this.page)},deleteItem(e){confirm("Are you sure?")&&this.$store.dispatch("deleteIntegration",e.id).then((()=>{alert("Success!")}))}}},o$={class:"list-flex-toolbar flex-list-v1"},r$={key:0},n$=V("span",{class:"headline"},"Create Integration",-1),d$={key:0,class:"files-find"},u$=["onClick"],c$=V("span",{class:"headline"},"Create integration",-1);const m$=fe(i$,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=$("v-col"),v=$("vue-monaco-editor"),b=$("v-spacer"),S=$("v-btn"),D=$("v-card-actions"),L=$("v-form"),T=$("v-row"),A=$("v-container"),O=$("v-card-text"),F=ft,U=$("v-dialog");return g(),f(j,null,[V("div",o$,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:t[1]||(t[1]=e=>l.createEmptyDialog=!l.createEmptyDialog)},{default:w((()=>[C(" Add Empty Integration ")])),_:1}),x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Template Integration ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.integrationsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-server":w((e=>[e?(g(),f("span",r$,P(e.ip),1)):I("",!0)])),"item-action":w((t=>[x(u,{onRemove:e=>i.deleteItem(t),onView:a=>this.$router.push("/"+e.getRole+"/integrations/"+t.id)},null,8,["onRemove","onView"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[2]||(t[2]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(U,{modelValue:l.createDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>l.createDialog=e),"max-width":"100%"},{default:w((()=>[x(F,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[n$])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(L,{onSubmit:t[6]||(t[6]=B((e=>i.create()),["prevent"]))},{default:w((()=>[x(_,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Integration *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[3]||(t[3]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("part of the path *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.search,"onUpdate:modelValue":t[4]||(t[4]=e=>l.search=e)},null,8,["modelValue"])])),_:1})])),_:1}),e.findIntegrations?(g(),f("div",d$,[(g(!0),f(j,null,K(e.findIntegrations,((e,t)=>(g(),f("span",{onClick:e=>i.foundIntegration(t),class:"file",key:e},P(e),9,u$)))),128))])):I("",!0),x(r,{class:"mt-3"},{default:w((()=>[x(v,{value:e.getIntegration.file,"onUpdate:value":t[5]||(t[5]=t=>e.getIntegration.file=t),theme:s.darkmode.isDark?"vs-dark":"vs",options:l.MONACO_EDITOR_OPTIONS,language:"php",style:{"min-height":"300px"}},null,8,["value","theme","options"])])),_:1}),x(_,{cols:"12",class:"mt-3 p-0"},{default:w((()=>[e.getIntegration?(g(!0),f(j,{key:0},K(e.getIntegration.fields,((e,t)=>(g(),k(r,{key:t},{default:w((()=>[x(h,null,{default:w((()=>[C(P(e.label),1)])),_:2},1024),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128)):I("",!0)])),_:1})])),_:1}),x(D,null,{default:w((()=>[x(b),x(S,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(S,{color:"#009688",text:"",dark:"",type:"submit"},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(U,{modelValue:l.createEmptyDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>l.createEmptyDialog=e),"max-width":"100%"},{default:w((()=>[x(F,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[c$])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(L,null,{default:w((()=>[x(_,{cols:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Integration *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",modelValue:l.name,"onUpdate:modelValue":t[8]||(t[8]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,{class:"mt-3"},{default:w((()=>[x(h,null,{default:w((()=>[C("Template")])),_:1})])),_:1})])),_:1}),x(v,{value:e.getIntegration.file,"onUpdate:value":t[9]||(t[9]=t=>e.getIntegration.file=t),theme:s.darkmode.isDark?"vs-dark":"vs",options:l.MONACO_EDITOR_OPTIONS,language:"php",style:{"min-height":"350px"}},null,8,["value","theme","options"]),x(D,null,{default:w((()=>[x(b),x(S,{color:"#009688",text:"",dark:"",onClick:t[10]||(t[10]=e=>l.createEmptyDialog=!l.createEmptyDialog)},{default:w((()=>[C("Cancel")])),_:1}),x(S,{color:"#009688",text:"",dark:"",onClick:t[11]||(t[11]=e=>i.createEmtpyIntegration())},{default:w((()=>[C("Create")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),p$={name:"CreateIntegration",data:()=>({search:"",name:""}),mounted(){s({title:this.$route.meta.title})},methods:{...Se([]),onSubmit(){this.$store.commit("enableOverlay");let e={name:this.name,fields:this.getIntegration.fields,template:this.getIntegration.template};this.$store.dispatch("createIntegration",e).then((e=>{this.createDialog=!1,this.name=""})).catch((e=>this.serverErrors=e.response.data.errors))},foundIntegration(e){this.$store.commit("enableOverlay"),this.loading=!0,this.$store.dispatch("foundIntegration",{fileName:e,search:this.search}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},findIntegration(){this.$store.commit("enableOverlay"),this.loading=!0,this.$store.dispatch("findIntegrations",{search:this.search}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},checkSearch:Ce.debounce((function(){this.findIntegration()}),500)},watch:{search(){console.log(414),this.checkSearch()}},computed:{...be(["findIntegrations","getIntegration"])}},h$={class:"form-outer"},g$={class:"form-header-inner"},f$=V("div",{class:"left"},[V("h3",null,"Schedule a meeting")],-1),y$={class:"right"},_$={class:"buttons"},v$={class:"form-body"},b$={class:"form-section"},S$={class:"columns is-multiline"},k$={class:"column is-12"},w$={class:"column is-12"},V$={class:"files-find"},P$=["onClick"],x$={class:"form-section is-grey"},C$={class:"form-section-inner"},I$={class:"form-section is-grey"},D$={class:"form-section-inner is-horizontal"},L$={class:"column is-12"};const $$=fe(p$,[["render",function(e,t,a,s,l,i){const o=bt,r=Wt,n=Nt,d=Et,u=tn,c=Ft;return g(),f("form",{class:"form-layout is-stacked",onSubmit:t[4]||(t[4]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"]))},[V("div",h$,[V("div",{class:_([[e.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",g$,[f$,V("div",y$,[V("div",_$,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[0]||(t[0]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])],2),V("div",v$,[V("div",b$,[V("div",S$,[V("div",k$,[x(d,null,{default:w((()=>[x(n,{icon:"feather:slack"},{default:w((()=>[x(r,{modelValue:l.search,"onUpdate:modelValue":t[1]||(t[1]=e=>l.search=e),type:"text",placeholder:"Search Integration"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",w$,[V("div",V$,[e.findIntegrations?(g(!0),f(j,{key:0},K(e.findIntegrations,((e,t)=>(g(),f("span",{onClick:e=>i.foundIntegration(t),class:"file",key:e},P(e),9,P$)))),128)):I("",!0)])])])]),V("div",x$,[V("div",C$,[x(d,null,{default:w((()=>[e.getIntegration?(g(),k(u,{key:0,modelValue:e.getIntegration.file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.getIntegration.file=t),"background-color":"#324550",solo:"",readonly:"",style:{height:"400px"}},null,8,["modelValue"])):I("",!0)])),_:1})])]),V("div",I$,[V("div",D$,[x(d,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Name")])),_:1}),x(n,null,{default:w((()=>[x(r,{type:"text",placeholder:"",modelValue:l.name,"onUpdate:modelValue":t[3]||(t[3]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),e.getIntegration?(g(!0),f(j,{key:0},K(e.getIntegration.fields,((e,t)=>(g(),f("div",L$,[x(d,null,{default:w((()=>[x(c,null,{default:w((()=>[C(P(e.label),1)])),_:2},1024),x(n,null,{default:w((()=>[x(r,{type:"text",placeholder:"",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])))),256)):I("",!0)])])])])],32)}]]),T$={name:"LogsBroker",components:{},data:()=>({datesModel:new Date,theme:"github",MONACO_EDITOR_OPTIONS:{automaticLayout:!0,formatOnType:!0,formatOnPaste:!0}}),setup:()=>({darkmode:It()}),computed:{...be(["integrationEdited"])},mounted(){s({title:this.$route.meta.title}),this.getItem(this.$route.params.id)},watch:{datesModel(){this.getItems()}},methods:{onSubmit(){this.integrationEdited.id=this.$route.params.id,this.$store.dispatch("updateIntegration",this.integrationEdited).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors}))},getItem(e){this.$store.dispatch("getIntegration",e)}}},A$={class:"form-outer"},O$={class:"form-header stuck-header"},F$={class:"form-header-inner"},U$={class:"left"},M$={class:"right"},E$={class:"buttons"};const B$=fe(T$,[["render",function(e,t,a,s,l,i){const o=bt,r=$("vue-monaco-editor"),n=Et,d=Ft,u=Wt,c=Nt,m=$("v-col"),p=$("v-row"),h=$("v-container");return g(),k(h,{fluid:"",style:{height:"100%"}},{default:w((()=>[V("form",{class:"form-layout",onSubmit:t[1]||(t[1]=B(((...e)=>i.onSubmit&&i.onSubmit(...e)),["prevent"])),style:{width:"100%","max-width":"100%"}},[V("div",A$,[V("div",O$,[V("div",F$,[V("div",U$,[V("h3",null,P(e.integrationEdited.title)+" #"+P(this.$route.params.id),1)]),V("div",M$,[V("div",E$,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[0]||(t[0]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(o,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])])])],32),x(p,null,{default:w((()=>[x(m,{cols:"12"},{default:w((()=>[x(n,{class:"mt-3"},{default:w((()=>[x(r,{value:e.integrationEdited.content,"onUpdate:value":t[2]||(t[2]=t=>e.integrationEdited.content=t),theme:s.darkmode.isDark?"vs-dark":"vs",options:e.MONACO_EDITOR_OPTIONS,language:"php",style:{"min-height":"600px"}},null,8,["value","theme","options"])])),_:1}),e.integrationEdited?(g(!0),f(j,{key:0},K(e.integrationEdited.fields,((e,t)=>(g(),k(n,{key:t},{default:w((()=>[x(d,null,{default:w((()=>[C(P(e.label),1)])),_:2},1024),x(c,null,{default:w((()=>[x(u,{type:"text",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)))),128)):I("",!0)])),_:1})])),_:1})])),_:1})}]]),z$={name:"CRM",data:()=>({duplicate_leads_settings:{lead_email_exist_period_is_active:!1,lead_phone_exist_period_is_active:!1,lead_ip_exist_period_is_active:!1,lead_email_exist_period:7,lead_phone_exist_period:7,lead_ip_exist_period:7},blackList:{},whitelist:{},tabs:[{label:"Duplicate Leads",value:"duplicate_leads"},{label:"Black List",value:"black_list"},{label:"Whitelist",value:"whitelist"}],approve_deposits_users:[]}),mounted(){s({title:this.$route.meta.title}),this.getSettings(),this.getUsersSelect(),this.getCrmSettings.approveDeposits&&this.tabs.push({label:"Approve deposits",value:"approve_deposits_users"})},computed:{...be(["getRole","getCrmSettings","useHead","unreadNotifications","usersSelect","settings"])},methods:{...Se(["getUsersSelect"]),getSettings(){this.$store.dispatch("getSettings").then((e=>{e.data.data.dulpicate_leads_settings&&(this.duplicate_leads_settings=e.data.data.dulpicate_leads_settings),e.data.data.blackList&&(this.blackList=e.data.data.blackList),e.data.data.whitelist&&(this.whitelist=e.data.data.whitelist)}))},updateDuplicateLeadsSettings(){let e=this.duplicate_leads_settings,t=this.blackList,a=this.whitelist;if(!0===this.duplicate_leads_settings.lead_email_exist_period_is_active&&!/^\d+$/.test(this.duplicate_leads_settings.lead_email_exist_period))return void this.$store.commit("setAlert",{message:"The period must be greater than 0.",type:"error"});if(!0===this.duplicate_leads_settings.lead_phone_exist_period_is_active&&!/^\d+$/.test(this.duplicate_leads_settings.lead_phone_exist_period))return void this.$store.commit("setAlert",{message:"The period must be greater than 0.",type:"error"});if(!0===this.duplicate_leads_settings.lead_ip_exist_period_is_active&&!/^\d+$/.test(this.duplicate_leads_settings.lead_ip_exist_period))return void this.$store.commit("setAlert",{message:"The period must be greater than 0.",type:"error"});console.log(this.blackList);let s={duplicate_leads_settings:{...e},blackList:{...t},whitelist:{...a}};console.log(s),this.$store.dispatch("updateSettings",s)},updateApproveDepositsUsers(){let e={approve_deposits_users:this.settings.approve_deposits_users};this.$store.dispatch("updateSettings",e)}}},j$={key:0},R$={key:1},N$={class:"row"},H$={class:"column is-5"},W$={class:"column is-5"},Y$={class:"column is-5"},G$={key:2},q$={class:"row"},J$={class:"column is-5"},K$={class:"column is-5"},X$={key:3},Z$={class:"row"},Q$={class:"column is-3"},eT={class:"column is-3"};const tT=fe(z$,[["render",function(e,t,a,s,l,i){const o=xd,r=Nt,n=Et,d=Ft,u=Wt,c=bt,m=$("v-row"),p=tn,h=$("v-selects"),y=ba;return g(),k(y,{selected:"duplicate_leads",tabs:l.tabs},{tab:w((({activeValue:a})=>["duplicate_leads"===a?(g(),f("div",j$,[x(m,{class:"d-flex",style:{"max-width":"400px"}},{default:w((()=>[x(n,{class:"is-flex"},{default:w((()=>[x(r,{raw:"",subcontrol:""},{default:w((()=>[x(o,{modelValue:l.duplicate_leads_settings.lead_email_exist_period_is_active,"onUpdate:modelValue":t[0]||(t[0]=e=>l.duplicate_leads_settings.lead_email_exist_period_is_active=e),label:"Is Lead Email period exist",color:"success"},null,8,["modelValue"])])),_:1})])),_:1}),1==this.duplicate_leads_settings.lead_email_exist_period_is_active?(g(),k(n,{key:0,style:{"margin-left":"40px"}},{default:w((()=>[x(d,null,{default:w((()=>[C("Email exist period")])),_:1}),x(r,{icon:"feather:mail"},{default:w((()=>[x(u,{type:"number",modelValue:l.duplicate_leads_settings.lead_email_exist_period,"onUpdate:modelValue":t[1]||(t[1]=e=>l.duplicate_leads_settings.lead_email_exist_period=e),min:"1",placeholder:"Email exist period"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0),x(n,{class:"is-flex"},{default:w((()=>[x(r,{raw:"",subcontrol:""},{default:w((()=>[x(o,{modelValue:l.duplicate_leads_settings.lead_phone_exist_period_is_active,"onUpdate:modelValue":t[2]||(t[2]=e=>l.duplicate_leads_settings.lead_phone_exist_period_is_active=e),checked:"1"==l.duplicate_leads_settings.lead_phone_exist_period_is_active,label:"Is Lead Phone period exist",color:"success"},null,8,["modelValue","checked"])])),_:1})])),_:1}),"1"==this.duplicate_leads_settings.lead_phone_exist_period_is_active?(g(),k(n,{key:1,style:{"margin-left":"40px"}},{default:w((()=>[x(d,null,{default:w((()=>[C("Phone exist period")])),_:1}),x(r,{icon:"feather:phone"},{default:w((()=>[x(u,{type:"number",modelValue:l.duplicate_leads_settings.lead_phone_exist_period,"onUpdate:modelValue":t[3]||(t[3]=e=>l.duplicate_leads_settings.lead_phone_exist_period=e),min:"1",placeholder:"Phone exist period"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0),x(n,{class:"is-flex"},{default:w((()=>[x(r,{raw:"",subcontrol:""},{default:w((()=>[x(o,{modelValue:l.duplicate_leads_settings.lead_ip_exist_period_is_active,"onUpdate:modelValue":t[4]||(t[4]=e=>l.duplicate_leads_settings.lead_ip_exist_period_is_active=e),checked:"1"==l.duplicate_leads_settings.lead_ip_exist_period_is_active,label:"Is Lead IP period exist",color:"success"},null,8,["modelValue","checked"])])),_:1})])),_:1}),"1"==this.duplicate_leads_settings.lead_ip_exist_period_is_active?(g(),k(n,{key:2,style:{"margin-left":"40px"}},{default:w((()=>[x(d,null,{default:w((()=>[C("IP exist period")])),_:1}),x(r,{icon:"feather:monitor"},{default:w((()=>[x(u,{type:"number",modelValue:l.duplicate_leads_settings.lead_ip_exist_period,"onUpdate:modelValue":t[5]||(t[5]=e=>l.duplicate_leads_settings.lead_ip_exist_period=e),min:"1",placeholder:"IP exist period"},null,8,["modelValue"])])),_:1})])),_:1})):I("",!0),x(c,{type:"submit",onClick:t[6]||(t[6]=e=>i.updateDuplicateLeadsSettings()),color:"primary",style:{width:"75%"}},{default:w((()=>[C(" Save ")])),_:1})])),_:1})])):I("",!0),"black_list"===a?(g(),f("div",R$,[V("div",N$,[V("div",H$,[x(n,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Black Ip")])),_:1}),x(r,null,{default:w((()=>[x(p,{type:"text",modelValue:l.blackList.ip,"onUpdate:modelValue":t[7]||(t[7]=e=>l.blackList.ip=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",W$,[x(n,null,{default:w((()=>[x(d,null,{default:w((()=>[C("User Agent")])),_:1}),x(r,null,{default:w((()=>[x(p,{type:"text",modelValue:l.blackList.user_agent,"onUpdate:modelValue":t[8]||(t[8]=e=>l.blackList.user_agent=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Y$,[x(c,{type:"submit",onClick:t[9]||(t[9]=e=>i.updateDuplicateLeadsSettings()),color:"primary",style:{width:"75%"}},{default:w((()=>[C(" Save ")])),_:1})])])])):I("",!0),"whitelist"===a?(g(),f("div",G$,[V("div",q$,[V("div",J$,[x(n,null,{default:w((()=>[x(d,null,{default:w((()=>[C("List IP")])),_:1}),x(r,null,{default:w((()=>[x(p,{type:"text",modelValue:l.whitelist.whitelist_ip,"onUpdate:modelValue":t[10]||(t[10]=e=>l.whitelist.whitelist_ip=e)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",K$,[x(c,{type:"submit",onClick:t[11]||(t[11]=e=>i.updateDuplicateLeadsSettings()),color:"primary",style:{width:"75%"}},{default:w((()=>[C(" Save ")])),_:1})])])])):I("",!0),"approve_deposits_users"===a?(g(),f("div",X$,[V("div",Z$,[V("div",Q$,[x(n,{class:""},{default:w((()=>[x(d,null,{default:w((()=>[C("Webmasters")])),_:1}),x(r,{class:"relative"},{default:w((()=>[x(h,{modelValue:e.settings.approve_deposits_users,"onUpdate:modelValue":t[12]||(t[12]=t=>e.settings.approve_deposits_users=t),reduce:e=>e.id,label:"name",options:e.usersSelect,multiple:"","push-tags":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",eT,[x(c,{type:"submit",onClick:t[13]||(t[13]=e=>i.updateApproveDepositsUsers()),color:"primary",style:{width:"75%"}},{default:w((()=>[C(" Save ")])),_:1})])])])):I("",!0)])),_:1},8,["tabs"])}],["__scopeId","data-v-c92a6a85"]]),aT={name:"CountryGroup",data:()=>({proxyHeaders:[{text:"IP",sortable:!1,value:"ip"},{text:"Port",sortable:!1,value:"port"},{text:"Country",sortable:!1,value:"country.ISO_2"},{text:"Actions",sortable:!1,value:"action"}],emailHeaders:[{text:"Country",sortable:!1,value:"full_name"},{text:"Emails",sortable:!1,value:"emails"},{text:"Actions",sortable:!1,value:"action"}],rowsPerPage:25,page:1,tabs:[{label:"Groups",value:"groups"},{label:"Proxies",value:"proxy"},{label:"Emails",value:"emails"}],selectedTab:"groups",loading:!0,searchModel:"",filterValues:{type:"groups"},countries:[],full_name:"",createDialog:!1,createDialogEmail:!1,popupAction:"create",editCountry:{},countriesHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"full_name"},{text:"Language",sortable:!1,value:"language.code"},{text:"Countries",sortable:!1,value:"groupCountries"},{text:"Actions",sortable:!1,value:"action"}],createDialogProxy:!1,editProxy:{}}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","currentCountry","countriesSelect","languagesSelect","currentProxy"])},mounted(){this.getCountriesSelect(),this.getOfferLanguagesSelect(),this.getItems()},watch:{searchModel(){this.checkSearchStr()}},methods:{...Se(["getOfferLanguagesSelect"]),updatePaginate(e){this.page=e,"proxy"==this.selectedTab?this.getItemsProxy(this.page):"groups"!=this.selectedTab&&"emails"!=this.selectedTab||this.getItems(this.page)},changedTab(e){switch(this.selectedTab=e,this.page=1,e){case"groups":this.filterValues.type="groups",this.getItems();break;case"proxy":this.filterValues.type="proxy",this.getItemsProxy();break;case"emails":this.filterValues.type="emails",this.getItems()}},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,"groups"==this.selectedTab||"emails"==this.selectedTab?this.getItems(1):"proxy"==this.selectedTab&&this.getItemsProxy(1)}),500),getCountriesSelect(){this.$store.dispatch("getCountriesSelect",{withoutGroup:!0})},editItem(e){this.loading=!0,this.popupAction="edit",this.$store.dispatch("getCurrentCountry",e.id).then((()=>{this.editCountry=this.currentCountry,this.createDialog=!0})).finally((()=>{this.loading=!1}))},editItemEmail(e){this.loading=!0,this.popupAction="edit",this.$store.dispatch("getCurrentCountry",e.id).then((()=>{this.editCountry=this.currentCountry,this.createDialogEmail=!0})).finally((()=>{this.loading=!1}))},editItemProxy(e){this.loading=!0,this.popupAction="edit",this.$store.dispatch("getCurrentProxy",e.id).then((()=>{this.editProxy=this.currentProxy,this.createDialogProxy=!0})).finally((()=>{this.loading=!1}))},createOpen(){this.createDialog=!0,this.popupAction="create",this.editCountry={}},createOpenProxy(){this.createDialogProxy=!0,this.popupAction="create",this.editProxy={}},createClose(){this.createDialog=!1},getItems(e=1){this.loading=!0;let t=this.filterValues,a=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"country",page:e,filtersValues:t,rowsPerPage:a}).finally((()=>this.loading=!1))},getItemsProxy(e=1){this.loading=!0;let t=this.filterValues,a=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"proxy",page:e,filtersValues:t,rowsPerPage:a}).finally((()=>this.loading=!1))},createProxy(){this.$store.dispatch("createProxy",this.editProxy).then((()=>{this.createDialogProxy=!1,this.editProxy={}})).finally((()=>{this.getItemsProxy(),this.loading=!1}))},updateProxy(){let e=this.editProxy.id;this.$store.dispatch("updateProxy",{item_id:e,data:this.editProxy}).finally((()=>{this.loading=!1,this.getItemsProxy(),this.createDialogProxy=!1}))},create(){if(!this.editCountry.full_name||this.editCountry.full_name.length<1||this.editCountry.full_name.length>7)return void this.$store.commit("setAlert",{message:"Maximum 7 letters in the Group Name field",type:"error"});if(!this.editCountry.group_countries||this.editCountry.group_countries.length<1)return void this.$store.commit("setAlert",{message:"You should choose at least one country",type:"error"});if(!this.editCountry.language||this.editCountry.language.length<1)return void this.$store.commit("setAlert",{message:"You should choose a language",type:"error"});this.loading=!0;let e={countries:this.editCountry.group_countries,full_name:this.editCountry.full_name,language_id:this.editCountry.language};this.$store.dispatch("createCountry",e).then((()=>{this.createDialog=!1,this.editCountry={}})).finally((()=>{this.getItems(),this.loading=!1}))},updateCountryEmail(){this.loading=!0;let e=this.editCountry.id,t=this.editCountry;t.is_email=!0,this.$store.dispatch("updateCountry",{item_id:e,data:t}).finally((()=>{this.loading=!1,this.getItems(),this.createDialogEmail=!1}))},update(){if(!this.editCountry.full_name||this.editCountry.full_name.length<1||this.editCountry.full_name.length>7)return void this.$store.commit("setAlert",{message:"Maximum 7 letters in the Group Name field",type:"error"});if(!this.editCountry.group_countries||this.editCountry.group_countries.length<1)return void this.$store.commit("setAlert",{message:"You should choose at least one country",type:"error"});if(!this.editCountry.language||this.editCountry.language.length<1)return void this.$store.commit("setAlert",{message:"You should choose a language",type:"error"});this.loading=!0;let e=this.editCountry.id,t=this.editCountry;t.group_countries=this.globalCallback(this.editCountry.group_countries),t.language_id=this.editCountry.language.id?this.editCountry.language.id:this.editCountry.language,this.$store.dispatch("updateCountry",{item_id:e,data:this.editCountry}).then((()=>this.disableLeadInputs=!0)).finally((()=>{this.loading=!1,this.getItems(),this.createClose()}))},deleteItem(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteCountry",e.id).then((()=>{this.loading=!1,alert("Successfully!")})).catch((()=>this.loading=!1)))},deleteItemProxy(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteProxy",e.id).then((()=>{this.loading=!1,alert("Successfully!")})).catch((()=>this.loading=!1)))}}},sT={class:"list-flex-toolbar flex-list-v1"},lT={key:0},iT={key:1},oT={key:2},rT={class:"headline"},nT={class:"headline"},dT={class:"headline"};const uT=fe({name:"AdminCountryGroups",components:{CountryGroupTable:fe(aT,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=nr,c=$("v-chip"),m=$("v-tooltip"),p=xr,h=$("EasyDataTable"),y=ba,_=$("v-card-title"),v=Ft,b=Wt,S=$("v-selects"),D=$("v-col"),L=$("v-row"),T=$("v-container"),A=$("v-card-text"),O=$("v-spacer"),F=$("v-btn"),U=$("v-card-actions"),M=ft,E=$("v-dialog"),B=tn;return g(),f(j,null,[V("div",sT,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),"groups"==l.selectedTab?(g(),k(d,{key:0},{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C("Add")])),_:1},8,["onClick"])])),_:1})):"proxy"==l.selectedTab?(g(),k(d,{key:1},{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpenProxy},{default:w((()=>[C("Add")])),_:1},8,["onClick"])])),_:1})):I("",!0)]),x(y,{selected:"groups",tabs:l.tabs,"onUpdate:selected":i.changedTab},{tab:w((({activeValue:a})=>["groups"===a?(g(),f("div",lT,[e.totalPagesItemsPagination>1?(g(),k(u,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(h,{headers:l.countriesHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-groupCountries":w((e=>[x(m,{bottom:""},{activator:w((({on:t})=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(c,{class:"ml-1 mt-1 mb-1",key:t},{default:w((()=>[C(P(e.ISO_2),1)])),_:2},1024)))),128))])),_:2},1024)])),"item-action":w((e=>[x(p,{onView:t=>i.editItem(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":t[2]||(t[2]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)])):I("",!0),"proxy"===a?(g(),f("div",iT,[e.totalPagesItemsPagination>1?(g(),k(u,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[3]||(t[3]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0),x(h,{headers:l.proxyHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-groupCountries":w((e=>[x(m,{bottom:""},{activator:w((({on:t})=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(c,{class:"ml-1 mt-1 mb-1",key:t},{default:w((()=>[C(P(e.ISO_2),1)])),_:2},1024)))),128))])),_:2},1024)])),"item-action":w((e=>[x(p,{onView:t=>i.editItemProxy(e),onRemove:t=>i.deleteItemProxy(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":[t[4]||(t[4]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)])):I("",!0),"emails"===a?(g(),f("div",oT,[e.totalPagesItemsPagination>1?(g(),k(u,{key:0,"current-page":l.page,"onUpdate:currentPage":[t[5]||(t[5]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0),x(h,{headers:l.emailHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-emails":w((e=>[x(m,{bottom:""},{activator:w((({on:t})=>[e.emails?(g(!0),f(j,{key:0},K(e.emails.split("\n"),((e,t)=>(g(),k(c,{class:"ml-1 mt-1 mb-1",key:t},{default:w((()=>[C(P(e),1)])),_:2},1024)))),128)):I("",!0)])),_:2},1024)])),"item-action":w((e=>[x(p,{onView:t=>i.editItemEmail(e)},null,8,["onView"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":[t[6]||(t[6]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)])):I("",!0)])),_:1},8,["tabs","onUpdate:selected"]),x(E,{modelValue:l.createDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>l.createDialog=e),persistent:"","no-click-animation":"","max-width":"500px"},{default:w((()=>[x(M,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[V("span",rT,P("create"==l.popupAction?"Create":"Edit")+" Country Group",1)])),_:1}),x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Group Name")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editCountry.full_name,"onUpdate:modelValue":t[7]||(t[7]=e=>l.editCountry.full_name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Language")])),_:1}),x(o,null,{default:w((()=>[x(S,{modelValue:l.editCountry.language,"onUpdate:modelValue":t[8]||(t[8]=e=>l.editCountry.language=e),reduce:e=>e.id,label:"code",options:e.languagesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Countries")])),_:1}),x(o,null,{default:w((()=>[x(S,{modelValue:l.editCountry.group_countries,"onUpdate:modelValue":t[9]||(t[9]=e=>l.editCountry.group_countries=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,multiple:"","push-tags":"","append-to-body":"","close-onSelect":!1},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(U,null,{default:w((()=>[x(O),x(F,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),"create"==l.popupAction?(g(),k(F,{key:0,color:"#009688",text:"",dark:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])):I("",!0),"edit"==l.popupAction?(g(),k(F,{key:1,color:"#009688",text:"",dark:"",onClick:t[10]||(t[10]=e=>i.update())},{default:w((()=>[C("Update")])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(E,{modelValue:l.createDialogEmail,"onUpdate:modelValue":t[15]||(t[15]=e=>l.createDialogEmail=e),persistent:"","no-click-animation":"","max-width":"500px"},{default:w((()=>[x(M,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[V("span",nT,P("create"==l.popupAction?"Create":"Edit")+" Email",1)])),_:1}),x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(B,{modelValue:l.editCountry.emails,"onUpdate:modelValue":t[12]||(t[12]=e=>l.editCountry.emails=e),"background-color":"#324550",solo:"",style:{height:"400px"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(U,null,{default:w((()=>[x(O),x(F,{color:"#009688",text:"",dark:"",onClick:t[13]||(t[13]=e=>this.createDialogEmail=!1)},{default:w((()=>[C("Cancel")])),_:1}),"edit"==l.popupAction?(g(),k(F,{key:0,color:"#009688",text:"",dark:"",onClick:t[14]||(t[14]=e=>i.updateCountryEmail())},{default:w((()=>[C("Update")])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(E,{modelValue:l.createDialogProxy,"onUpdate:modelValue":t[24]||(t[24]=e=>l.createDialogProxy=e),persistent:"","no-click-animation":"","max-width":"500px"},{default:w((()=>[x(M,{color:"#1E272C"},{default:w((()=>[x(_,null,{default:w((()=>[V("span",dT,P("create"==l.popupAction?"Create":"Edit")+" Proxy",1)])),_:1}),x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Countries")])),_:1}),x(o,null,{default:w((()=>[x(S,{modelValue:l.editProxy.country_id,"onUpdate:modelValue":t[16]||(t[16]=e=>l.editProxy.country_id=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"append-to-body":"","close-onSelect":!0},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("IP")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editProxy.ip,"onUpdate:modelValue":t[17]||(t[17]=e=>l.editProxy.ip=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Port")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editProxy.port,"onUpdate:modelValue":t[18]||(t[18]=e=>l.editProxy.port=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Login")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editProxy.login,"onUpdate:modelValue":t[19]||(t[19]=e=>l.editProxy.login=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Password")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editProxy.password,"onUpdate:modelValue":t[20]||(t[20]=e=>l.editProxy.password=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(v,null,{default:w((()=>[C("Update IP Url")])),_:1}),x(o,null,{default:w((()=>[x(b,{type:"text",modelValue:l.editProxy.update_ip_url,"onUpdate:modelValue":t[21]||(t[21]=e=>l.editProxy.update_ip_url=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(U,null,{default:w((()=>[x(O),x(F,{color:"#009688",text:"",dark:"",onClick:t[22]||(t[22]=e=>this.createDialogProxy=!1)},{default:w((()=>[C("Cancel")])),_:1}),"create"==l.popupAction?(g(),k(F,{key:0,color:"#009688",text:"",dark:"",onClick:i.createProxy},{default:w((()=>[C("Create")])),_:1},8,["onClick"])):I("",!0),"edit"==l.popupAction?(g(),k(F,{key:1,color:"#009688",text:"",dark:"",onClick:t[23]||(t[23]=e=>i.updateProxy())},{default:w((()=>[C("Update")])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]])},mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("CountryGroupTable");return g(),k(o)}]]),cT={name:"AdminFinanceStatistic",data:()=>({webmasterFinanceStatsTable:[],currExpand:null,expanded:[],expandedPayment:[],period:"today",tableKey:1,loading:!0,selectedYear:"",selectedMonth:null,expandedItems:[],userStatHeaders:[{text:"Time Period",sortable:!1,value:"period"},{text:"Total",sortable:!1,value:"leads"},{text:"Total Invalid",sortable:!1,value:"invalid_leads"},{text:"Blacklisted Countries",sortable:!1,value:"blacklisted_countries"},{text:"Final Invalid",sortable:!1,value:"f_invalid_leads"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Total Weekly $",sortable:!1,value:"total_weekly"},{text:"Status",sortable:!1,value:"status"}],years:[],months:[{id:"01",name:"January"},{id:"02",name:"February"},{id:"03",name:"March"},{id:"04",name:"April"},{id:"05",name:"May"},{id:"06",name:"June"},{id:"07",name:"July"},{id:"08",name:"August"},{id:"09",name:"September"},{id:"10",name:"October"},{id:"11",name:"November"},{id:"12",name:"December"}],expandHeaders:[{text:"User",sortable:!1,value:"user_name"},{text:"Total",sortable:!1,value:"totalLeads"},{text:"Total Invalid",sortable:!1,value:"invalidLeads"},{text:"Blacklisted Countries",sortable:!1,value:"blackListed"},{text:"Final Invalid",sortable:!1,value:"fInvalidLeads"},{text:"Valid",sortable:!1,value:"validLeads"},{text:"Total Weekly $",sortable:!1,value:"sale"},{text:"Status",sortable:!1,value:"status",class:"custom-class"}],expandPaymentHeaders:[{text:"Payment type",sortable:!1,value:"payment_type"},{text:"Total Leads",sortable:!1,value:"totalLeads"},{text:"Total Invalid Leads",sortable:!1,value:"invalidLeads"},{text:"Blacklisted Countries",sortable:!1,value:"blackListed"},{text:"Final Invalid Leads",sortable:!1,value:"fInvalidLeads"},{text:"Valid Leads",sortable:!1,value:"validLeads"},{text:"Total Weekly $",sortable:!1,value:"sale"},{text:"Status",sortable:!1,value:"status",class:"custom-class"}],filterValues:{date_start:"",date_end:""}}),computed:{...be(["webmasterFinanceStats","webmasterStats","landingStats","offerStats","statusStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","expandWebStats","expandWebPaymentStats"])},created(){this.selectedYear=(new Date).getFullYear().toString();let e=parseInt((new Date).getMonth().toString())+1;this.selectedMonth=e<10?"0"+e.toString():(new Date).getMonth().toString(),this.generateYears()},mounted(){s({title:this.$route.meta.title}),this.getUserStats()},methods:{async loadIntroduction(e,t){console.log("pop"),console.log(t),console.log(e),console.log("loadIntroduction");const a=t;a.expandLoading=!0;let s=a.start_period,l=a.end_period;await this.$store.dispatch("expandWebStats",{path:"statistic-buyer",data:{period1:s,period2:l}}).then((()=>{a.expandLoading=!1;let e=this.webmasterFinanceStats.findIndex((e=>e.start_period===t.start_period));this.webmasterFinanceStats[e].details=this.expandWebStats}))},async loadDetailsPayment(e,t){const a=t;console.log(a),a.expandLoading=!0;let s=a.start_period,l=a.end_period;await this.$store.dispatch("expandWebPaymentTypeStats",{path:"statistic-buyer-payment",data:{user_id:a.user_id,period1:s,period2:l}}).then((()=>{a.details=this.expandWebPaymentStats,a.expandLoading=!1}))},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.period=e,this.refreshTables()},generateYears(){for(let e=(new Date).getFullYear();e>=2e3;e--)this.years.push({id:e.toString(),name:e.toString()})},getUserStats(){let e;e="period="+(this.selectedYear+"-"+this.selectedMonth),this.loading=!0,this.$store.dispatch("getWebmasterFinanceStats",{path:"statistic-buyer",filterValues:e}).then((e=>{this.loading=!1;let t=e.data;console.log("arr"),console.log(t);for(let a in t)if(console.log("x"),console.log(t[a]),console.log(this.webmasterFinanceStatsTable[a]),this.webmasterFinanceStatsTable[a]&&this.webmasterFinanceStatsTable[a].hasOwnProperty("details")){let e=this.webmasterFinanceStatsTable[a].details;this.webmasterFinanceStatsTable[a]=t[a],this.webmasterFinanceStatsTable[a].details=e}else this.webmasterFinanceStatsTable[a]=t[a];console.log(),console.log("vv")})).finally((()=>{console.log("this.webmasterStats"),console.log(this.webmasterStats)}))},changeStatus(e){this.loading=!0,this.$store.dispatch("lockWebmasterStatistic",{path:"statistic-buyer",period:{start:e.start_period,end:e.end_period}}).then((()=>this.loading=!1)).finally((()=>{this.getUserStats(),this.loadIntroduction(0,e)}))},unlockStatus(e){this.loading=!0,this.$store.dispatch("unlockWebmasterStatistic",{path:"statistic-buyer",id:e.id}).then((()=>this.loading=!1)).finally((()=>{this.getUserStats(),this.loadIntroduction(0,e)}))},unlockWebmasterStatisticUser(e){this.loading=!0,this.$store.dispatch("unlockWebmasterStatisticUser",{path:"statistic-buyer",id:e.id,user_id:e.buyer_user_statistic_id}).then((()=>this.loading=!1)).finally((()=>{this.loadIntroduction(0,e)}))},changeStatusUser(e){this.loading=!0,this.$store.dispatch("lockWebmasterStatistic",{path:"statistic-buyer",period:{start:e.start_period,end:e.end_period,user_id:e.user_id}}).then((()=>this.loading=!1)).finally((()=>{console.log("item"),console.log(e),this.loadIntroduction(0,e)}))},changeStatusPaymentType(e){this.loading=!0,this.$store.dispatch("lockWebmasterStatistic",{path:"statistic-buyer",period:{start:e.start_period,end:e.end_period,user_id:e.user_id,payment_tyoe:e.user_id}}).then((()=>this.loading=!1)).finally((()=>{this.getUserStats()}))},unlockStatusPaymentType(e){this.loading=!0,this.$store.dispatch("unlockWebmasterStatisticUser",{path:"statistic-buyer",id:e.id,user_id:e.buyer_user_statistic_id}).then((()=>this.loading=!1)).finally((()=>{this.getUserStats()}))}}},mT={class:"v-flex flex-pagination top-pagination pagination is-rounded",style:{display:"flex","justify-content":"end"}},pT={class:"buttons"},hT={key:0,style:{"padding-right":"0","padding-left":"50px"}},gT={key:0,style:{"padding-right":"0","padding-left":"50px"}};const fT=fe(cT,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=xi,u=$("EasyDataTable"),c=$("v-container");return g(),k(c,{class:"page_statistics",fluid:""},{default:w((()=>[V("div",mT,[V("div",pT,[x(n,{class:"mr-2 mb-0",style:{width:"155px"}},{default:w((()=>[x(o,null,{default:w((()=>[C("Select Year")])),_:1}),x(r,{modelValue:l.selectedYear,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.selectedYear=e),t[1]||(t[1]=e=>{++l.tableKey,i.getUserStats()})],reduce:e=>e.id,label:"name",options:l.years,closeOnSelect:!0,clearable:!1},null,8,["modelValue","reduce","options"])])),_:1}),x(n,{class:"mb-0",style:{width:"155px"}},{default:w((()=>[x(o,null,{default:w((()=>[C("Select Month")])),_:1}),x(r,{modelValue:l.selectedMonth,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.selectedMonth=e),t[3]||(t[3]=e=>{++l.tableKey,i.getUserStats()})],reduce:e=>e.id,label:"name",options:l.months,closeOnSelect:!0,clearable:!1},null,8,["modelValue","reduce","options"])])),_:1})])]),x(u,{headers:l.userStatHeaders,items:l.webmasterFinanceStatsTable,loading:l.loading,"buttons-pagination":!1,"border-color":!1,onExpandRow:i.loadIntroduction,ref:"dataTable"},{"item-status":w(((e,t)=>[V("div",null,[0==e.status?(g(),k(d,{key:0,icon:"feather:unlock",onClick:t=>i.changeStatus(e),style:{margin:"5px"}},null,8,["onClick"])):(g(),k(d,{key:1,icon:"feather:lock",color:"primary",onClick:t=>i.unlockStatus(e),style:{margin:"5px"}},null,8,["onClick"]))])])),expand:w((e=>[e.details?(g(),f("div",hT,[x(u,{headers:l.expandHeaders,items:e.details,"disable-pagination":!0,"hide-default-footer":!0,loading:l.loading,class:"elevation-2-expand",onExpandRow:i.loadDetailsPayment},{"item-status":w((e=>[V("div",null,[0==e.status?(g(),k(d,{key:0,icon:"feather:unlock",onClick:t=>i.changeStatusUser(e),style:{margin:"5px"}},null,8,["onClick"])):(g(),k(d,{key:1,icon:"feather:lock",color:"primary",onClick:t=>i.unlockWebmasterStatisticUser(e),style:{margin:"5px"}},null,8,["onClick"]))])])),expand:w((e=>[e.details?(g(),f("div",gT,[x(u,{headers:l.expandPaymentHeaders,items:e.details,"disable-pagination":!0,"hide-default-footer":!0,loading:l.loading,class:"elevation-2-expand"},{"item-status":w((e=>[V("div",null,[0==e.status?(g(),k(d,{key:0,icon:"feather:unlock",onClick:t=>i.changeStatusPaymentType(e),style:{margin:"5px"}},null,8,["onClick"])):(g(),k(d,{key:1,icon:"feather:lock",color:"primary",onClick:t=>i.unlockStatusPaymentType(e),style:{margin:"5px"}},null,8,["onClick"]))])])),_:2},1032,["headers","items","loading"])])):I("",!0)])),_:2},1032,["headers","items","loading","onExpandRow"])])):I("",!0)])),_:1},8,["headers","items","loading","onExpandRow"])])),_:1})}]]),yT={name:"Landing",props:{item:Object},data:()=>({disableLeadInputs:!0,text:"",user:"",color:"",serverErrors:{},popupResend:!1,offerAccess:null,date:new Date,timezone:""}),computed:{...be(["dialogServer","archiveLand"])},mounted(){},watch:{item:{handler(){this.serverErrors={}},deep:!0}},methods:{...Se(["archiveLanding"]),hasServerError(e){return this.serverErrors.hasOwnProperty(e)},disablePopupLead(){this.$store.commit("disableDialogServer")},resendLeadCurrentOffer(){null!=this.offerAccess?(this.$store.commit("enableOverlay"),this.$store.dispatch("resendLeadByOfferId",{leadId:this.item.id,offerId:this.offerAccess}).then((()=>{this.popupResend=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))):alert("Select offer")},resendLead(){let e=this.item.id;this.$store.commit("enableOverlay"),this.$store.dispatch("resendLead",{leadId:e}).then((()=>{this.popupResend=!1,this.getItems()})).finally((()=>this.$store.commit("disableOverlay")))},switchEnableLeadInputs(){this.disableLeadInputs=!1},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},saveUser(){},updateLanding(){console.log(this.item),this.$store.commit("enableOverlay");let e=this.item.id;this.$store.dispatch("updateServer",{item_id:e,data:{id:this.item.id,name:this.item.name,tiny_host:this.item.tiny_host,tiny_login:this.item.tiny_login,tiny_password:this.item.tiny_password,tiny_port:this.item.tiny_port}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors,this.$store.commit("disableOverlay"),this.$v.$reset()})).finally((()=>{this.$parent.getItems(),this.$store.commit("disableOverlay")}))}}},_T=(e=>(N("data-v-6e31db9f"),e=e(),H(),e))((()=>V("span",{class:"headline"},"Edit server",-1)));const vT={name:"AdminServers",components:{"server-popup":fe(yT,[["render",function(e,t,a,s,l,i){const o=$("v-card-title"),r=Ft,n=Wt,d=Nt,u=Et,c=$("v-form"),m=$("v-col"),p=$("v-row"),h=$("v-container"),f=$("v-card-text"),y=$("v-spacer"),_=$("v-btn"),v=$("v-card-actions"),b=ft,S=$("v-dialog");return g(),k(S,{modelValue:e.dialogServer,"onUpdate:modelValue":t[7]||(t[7]=t=>e.dialogServer=t),"max-width":"500px"},{default:w((()=>[x(b,{color:"#1E272C"},{default:w((()=>[x(o,null,{default:w((()=>[_T])),_:1}),x(f,null,{default:w((()=>[x(h,null,{default:w((()=>[x(p,null,{default:w((()=>[x(m,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(c,{ref:"form"},{default:w((()=>[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Name *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.item.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Tiny Host *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.tiny_host,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.tiny_host=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Tiny Port *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.tiny_port,"onUpdate:modelValue":t[2]||(t[2]=e=>a.item.tiny_port=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Tiny Login *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.tiny_login,"onUpdate:modelValue":t[3]||(t[3]=e=>a.item.tiny_login=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Tiny Password *")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",modelValue:a.item.tiny_password,"onUpdate:modelValue":t[4]||(t[4]=e=>a.item.tiny_password=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(v,null,{default:w((()=>[x(y),x(_,{color:"#009688",text:"",dark:"",onClick:t[5]||(t[5]=e=>i.disablePopupLead())},{default:w((()=>[C("Cancel")])),_:1}),x(_,{color:"#009688",text:"",dark:"",onClick:t[6]||(t[6]=e=>i.updateLanding(a.item))},{default:w((()=>[C("Save")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}],["__scopeId","data-v-6e31db9f"]])},data:()=>({name:"",is_keitaro:!1,searchModel:"",filterValues:{},rowsPerPage:25,page:1,loading:!0,ip:"",login:"",password:"",domains_path:"/var/www",inputLoading:!1,editDialog:!1,createDialog:!1,serverErrors:{},serversHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"IP",sortable:!1,value:"ip"},{text:"Логин",sortable:!1,value:"login"},{text:"Пароль",sortable:!1,value:"password"},{text:"Путь",sortable:!1,value:"domains_path"},{text:"Keitaro",sortable:!1,value:"is_keitaro"},{text:"Действия",sortable:!1,value:"action"}]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","serverEdited","currentServer"]),ipErrors(){const e=[];return this.$v.ip.$dirty?(!this.$v.ip.required&&e.push("Введите IP"),!this.$v.ip.minLength&&e.push("Не менее 7 символов"),!this.$v.ip.maxLength&&e.push("Не более 36 символов"),!this.$v.ip.serverFailed&&this.hasServerError("ip")&&e.push(this.serverErrors.ip[0]),e):e},loginErrors(){const e=[];return this.$v.login.$dirty?(!this.$v.login.required&&e.push("Введите логин"),!this.$v.login.minLength&&e.push("Не менее 3 символов"),!this.$v.login.maxLength&&e.push("Не более 50 символов"),!this.$v.login.serverFailed&&this.hasServerError("login")&&e.push(this.serverErrors.login[0]),e):e},passwordErrors(){const e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Введите пароль"),!this.$v.password.minLength&&e.push("Не менее 3 символов"),!this.$v.password.maxLength&&e.push("Не более 100 символов"),!this.$v.password.serverFailed&&this.hasServerError("password")&&e.push(this.serverErrors.password[0]),e):e},domains_pathErrors(){const e=[];return this.$v.domains_path.$dirty?(!this.$v.domains_path.required&&e.push("Введите путь к доменам"),!this.$v.domains_path.minLength&&e.push("Не менее 3 символов"),!this.$v.domains_path.maxLength&&e.push("Не более 100 символов"),!this.$v.domains_path.serverFailed&&this.hasServerError("domains_path")&&e.push(this.serverErrors.domains_path[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},ip(){this.serverErrors={}},login(){this.serverErrors={}},password(){this.serverErrors={}},domains_path(){this.serverErrors={}}},methods:{checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},editItem(e){this.$store.dispatch("getCurrentServer",e.id).then((()=>this.$store.commit("enableDialogServer"))).finally((()=>this.$store.commit("disableOverlay")))},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},editClose(){this.editDialog=!1},getItems(e=1){let t=this.filterValues;this.$store.commit("enableOverlay"),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"servers",page:e,filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},create(){this.$store.commit("enableOverlay");let e={name:this.name,ip:this.ip,login:this.login,password:this.password,domains_path:this.domains_path,is_keitaro:this.is_keitaro};this.$store.dispatch("createServer",e).then((()=>{this.createDialog=!1,this.ip="",this.login="",this.password="",this.domains_path="",this.$v.$reset()})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.$store.commit("enableOverlay"),this.$store.dispatch("deleteServer",e.id).then((()=>{this.$store.commit("disableOverlay"),alert("Success!")})).catch((()=>this.$store.commit("disableOverlay"))))}}},bT={class:"list-flex-toolbar flex-list-v1"},ST={key:0},kT=[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"},null,-1)],wT={key:1},VT=[V("i",{class:"iconify","data-icon":"feather:minus","aria-hidden":"true"},null,-1)],PT={key:0},xT=V("span",{class:"headline"},"Create server",-1);const CT=fe(vT,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=xd,v=$("v-form"),b=$("v-col"),S=$("v-row"),D=$("v-container"),L=$("v-card-text"),T=$("v-spacer"),A=$("v-btn"),O=$("v-card-actions"),F=ft,U=$("v-dialog"),M=$("server-popup");return g(),f(j,null,[V("div",bT,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Server ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.serversHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-is_keitaro":w((e=>[1==e.is_keitaro?(g(),f("div",ST,kT)):(g(),f("div",wT,VT))])),"item-server":w((e=>[e?(g(),f("span",PT,P(e.ip),1)):I("",!0)])),"item-action":w((e=>[x(u,{onView:t=>i.editItem(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(U,{modelValue:l.createDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(F,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[xT])),_:1}),x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(S,null,{default:w((()=>[x(b,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(v,{ref:"form"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("IP *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.ip,"onUpdate:modelValue":t[3]||(t[3]=e=>l.ip=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Login *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.login,"onUpdate:modelValue":t[4]||(t[4]=e=>l.login=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Password *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.password,"onUpdate:modelValue":t[5]||(t[5]=e=>l.password=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Domain Path *")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.domains_path,"onUpdate:modelValue":t[6]||(t[6]=e=>l.domains_path=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(o,null,{default:w((()=>[x(_,{modelValue:l.is_keitaro,"onUpdate:modelValue":t[7]||(t[7]=e=>l.is_keitaro=e),trueValue:"1",label:"Is Keitaro",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:e.disableLeadInputs},null,8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(O,null,{default:w((()=>[x(T),x(A,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(A,{color:"#009688",text:"",dark:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(M,{item:e.currentServer},null,8,["item"])],64)}]]),IT={components:{"create-landing":lx,"landing-filter":ux},name:"AdminLandings",data:()=>({addLanding:!1,queryParams:"?add_name={{ad.name}}&placement={{placement}}",queryParamsGoogle:"?utm_content=text&utm_term=text&gclid={gclid}",createLanding:{},drawer:!1,createDialog:!1,deleteDialog:{item:{},open:!1},landing:{land:null,white:null,preland:null,domain_id:null,main_folder:"",pre_landing_id:null,pre_landing_folder:"",white_id:null,white_folder:"",land_id:null,land_folder:"",device_id:""},filterValues:{domain_ids:[],domain_archive_ids:null,status:[]},archives:"",archivesList:["Да","Нет"],loading:!0,serverErrors:{},page:1,rowsPerPage:25,Headers:[{text:"ID",sortable:!1,value:"id"},{text:"Buyer",sortable:!1,value:"user"},{text:"Source",sortable:!1,value:"source"},{text:"Domain",sortable:!1,value:"url"},{text:"Prelanding",sortable:!1,value:"prelanding"},{text:"Landing",sortable:!1,value:"landing"},{text:"White Page",sortable:!1,value:"white"},{text:"Pixel | TM",sortable:!1,value:"tag"},{text:"Клоака",value:"is_active",sortable:!1},{text:"Действия",value:"action",sortable:!1}]}),computed:{...be(["domainFilters","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","domainSelect","archivePreLand","archiveWhite","archiveLand"])},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getCountriesSelect(),this.getSourcesSelect(),this.getDomainsAllSelect(),this.getArchiveByTypeSelect(),this.getDomainArchiveFilters()},watch:{page(){this.getItems(this.page)}},methods:{...Se(["getDomainsAllSelect","getArchiveByTypeSelect","getDomainArchiveFilters","getCountriesSelect","getSourcesSelect"]),updateFilter(e){console.log(333),console.log(e),this.filterValues=e,this.getItems()},openFilters(){this.drawer=!this.drawer},openLanding(){this.createLanding.update=!1,this.addLanding=!this.addLanding},changeStatus(e){this.disabled=!0,this.$store.dispatch("landingActivityToggle",{item:e}).then((e=>{console.log(22)})).catch((e=>this.serverErrors=e.response.data.errors)).finally((()=>this.$store.commit("disableOverlay")))},copyText(e){let t="https://"+e+"?add_name={ad.name}&placement={placement}";navigator.clipboard.writeText(t).then((()=>{})).catch((()=>{}))},deleteItem(e){confirm("Are you sure you want to delete this landing?")&&this.$store.dispatch("deleteLanding",e.id).then((e=>{this.$store.commit("disableOverlay"),alert("Успешно!")})).catch((e=>this.$store.commit("disableOverlay")))},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",toggleFilter(e,t,a){t=t.length!=e.length?e.map((e=>e.id)):[],console.log(a),console.log(this.filterValues),this.filterValues[a]=t,this.getItems()},paginationChangeHandler(e){this.getItems(e)},getItems(e=1){console.log(321412);let t=this.filterValues;console.log(t),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"landings",page:e,filtersValues:t}).then((()=>this.loading=!1))},editItem(e){this.createLanding=e,this.createLanding.preland=e.pre_land,this.createLanding.update=!0,this.addLanding=!0},create(){this.$store.commit("enableOverlay"),this.landing.index="id"+Math.random().toString(16).slice(2),this.$store.dispatch("createLanding",this.landing).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},refundItem(e){this.deleteDialog.item=e,this.archiveItemConfirm("active")},archiveItemConfirm(e="archive"){this.$store.commit("enableOverlay"),this.deleteDialog.item.status=e,console.log(this.deleteDialog.item),this.$store.dispatch("archiveLanding",{item:this.deleteDialog.item}).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>{this.$store.commit("disableOverlay"),console.log(e)}))},deleteItemConfirm(){this.$store.commit("enableOverlay"),this.$store.dispatch("deleteLanding",this.deleteDialog.item).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>this.$store.commit("disableOverlay")))}}},DT={class:"list-flex-toolbar flex-list-v1"},LT={class:"filters__content"},$T={key:0},TT=V("div",{style:{height:"40px",width:"40px"}},null,-1),AT={key:1},OT={key:0},FT={key:0},UT={key:0},MT={key:0};const ET=fe(IT,[["render",function(e,t,a,s,l,i){const o=bt,r=xi,n=yt,d=$("landing-filter"),u=$("create-landing"),c=$("v-list"),m=$("v-col"),p=Cr,h=$("v-switch"),y=xr,_=$("EasyDataTable"),v=nr,b=$("v-container");return g(),k(b,{fluid:"",class:"landings-page"},{default:w((()=>[V("div",DT,[x(n,{style:{"margin-right":"5px"}},{default:w((()=>[x(o,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.openLanding},{default:w((()=>[C(" Add Landing")])),_:1},8,["onClick"]),x(r,{style:{"margin-bottom":"0"},icon:"feather:filter",color:"primary",onClick:t[0]||(t[0]=e=>i.openFilters())})])),_:1})]),l.drawer?(g(),k(d,{key:0,drawer:l.drawer,ref:"landingFilter",onUpdateFilter:t[1]||(t[1]=t=>i.updateFilter(t,e.arg2)),filters:[{id:"domains",type:"select",label:"Created Date"},{id:"users",type:"select",label:"Created Date"},{id:"archives",type:"select",label:"Created Date"}]},null,8,["drawer"])):I("",!0),l.addLanding?(g(),k(m,{key:1,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(c,{style:{overflow:"hidden",padding:"20px",position:"inherit"}},{default:w((()=>[V("div",LT,[x(u,{ref:"createLanding",landing:l.createLanding,domainSelect:e.domainSelect},null,8,["landing","domainSelect"])])])),_:1})])),_:1})):I("",!0),x(_,{headers:l.Headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-id":w((e=>[e.loading?(g(),f("span",$T,[x(p,{active:!0,size:"small",center:"regular",translucent:!0},{default:w((()=>[TT])),_:1})])):(g(),f("span",AT,P(e.id),1))])),"item-source":w((e=>[e.source?(g(),f("span",OT,P(e.source.name),1)):I("",!0)])),"item-prelanding":w((e=>[e.pre_land?(g(),f("span",FT,P(e.pre_land.name),1)):I("",!0)])),"item-landing":w((e=>[e.land?(g(),f("span",UT,P(e.land.name),1)):I("",!0)])),"item-white":w((e=>[e.white?(g(),f("span",MT,P(e.white.name),1)):I("",!0)])),"item-is_active":w((e=>[e.cloack_id?(g(),k(h,{key:0,color:"#009688",modelValue:e.is_active,"onUpdate:modelValue":t=>e.is_active=t,onChange:t=>i.changeStatus(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])):I("",!0)])),"item-action":w((e=>[x(y,{onView:t=>i.editItem(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(v,{key:2,"current-page":l.page,"onUpdate:currentPage":t[2]||(t[2]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)])),_:1})}]]),BT=[V("div",{class:"icon"},[V("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),V("div",{class:"meta"},[V("span",null,"Delete"),V("span",null,"Delete this file")],-1)],zT=m({__name:"FileTileDropdown",emits:["remove"],setup:(e,{emit:t})=>(e,a)=>{const s=hr;return g(),k(s,{icon:"feather:more-vertical",spaced:"",right:""},{content:w((()=>[V("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:a[0]||(a[0]=B((()=>{t("remove"),e.close()}),["prevent"]))},BT)])),_:1})}}),jT="/images/icons/files/zip-format.svg",RT={name:"Archives",components:{onceImageErrored:Ci,ApexChart:we},setup:()=>({themeColors:at()}),data(){return{uploadFiles:{},loader:{name:"name",count:50,series:[20],chart:{height:80,type:"radialBar",offsetY:0,offsetX:0,toolbar:{show:!1}},colors:[this.themeColors.primary],plotOptions:{radialBar:{hollow:{size:"20%"},dataLabels:{show:!1}}}},loaders:[],filterValues:{},searchModel:"",fileValue:{},rowsPerPage:20,page:1,loading:!0,type:null,file:[],inputLoading:!1,createDialog:!1,serverErrors:{},types:[{id:1,name:"Landing"},{id:2,name:"White"},{id:3,name:"Preland"}],integrationsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Название",sortable:!1,value:"name"},{text:"Тип",sortable:!1,value:"archive_type.name"},{text:"Действия",sortable:!1,value:"action"}]}},computed:{...be(["loadedFiles","archiveItemsPagination","archiveTotalItemsPagination","archiveCurrentPageItemsPagination","archiveTotalPagesItemsPagination"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{loadedFiles(e){console.log(e),this.uploadFiles=e},searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)}},methods:{uploadImage(e,t){let a={onUploadProgress(e){var t=Math.round(100*e.loaded/e.total);return console.log(t),t}};this.$store.dispatch("createArchive",{file:this.file,type:this.type},a).then((e=>{this.file=[],this.type=null})).catch((e=>this.serverErrors=e.response.data.errors)).finally((()=>this.getItems())),console.log("pop"),this.createDialog=!1},onProgress(e){console.log(e)},inputDidChange(e){let t=e.target.files[0];var a=new FormData;a.append("image",t),this.uploadImage(a,this.onProgress).then((e=>{console.log("success")}))},checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),uploadFile(e){console.log(e.target.files[0]),this.file=e.target.files[0],this.fileValue=this.$refs.fileInput},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},getItems(e=1){this.$store.commit("enableOverlay"),this.loading=!0;let t=this.filterValues;0===Object.keys(this.loadedFiles).length&&this.$store.dispatch("getArchiveItemsPagination",{path:"archives",page:e,filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},onUploadProgress:function(e){console.log(e)},create(){let e={name:"name",count:50,series:[20],chart:{height:80,type:"radialBar",offsetY:0,offsetX:0,toolbar:{show:!1}},colors:[this.themeColors.primary],plotOptions:{radialBar:{hollow:{size:"20%"},dataLabels:{show:!1}}}};this.loaders.push(e),console.log(this.type);let t={onUploadProgress:e=>Math.round(100*e.loaded/e.total)};this.$store.dispatch("createArchive",{file:this.file,type:this.type},t).then((e=>{console.log(1),this.file=[],this.type=null})).catch((e=>this.serverErrors=e.response.data.errors)),console.log(2),this.createDialog=!1},deleteItem(e){confirm("Вы действительно хотите удалить архив?")&&(this.$store.commit("enableOverlay"),this.$store.dispatch("deleteArchive",e.id).then((e=>{this.$store.commit("disableOverlay"),alert("Успешно!")})).catch((e=>this.$store.commit("disableOverlay"))))}}},NT={class:"tile-grid-toolbar"},HT={class:"buttons"},WT=V("span",{class:"icon"},[V("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),YT=V("span",null,"Add Archive",-1),GT={class:"tile-grid tile-grid-v2"},qT=V("div",null,null,-1),JT={class:"tile-grid-item"},KT={class:"tile-grid-item-inner"},XT={class:"meta"},ZT={class:"dark-inverted"},QT=V("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),eA={key:0,class:"group is-right",style:{width:"40px","margin-left":"auto"}},tA={class:"group-content"},aA={class:"chart-container"},sA=V("span",{class:"headline"},"Create archive",-1),lA={class:"file has-name is-right"},iA={class:"file-label"},oA=V("span",{class:"file-cta"},[V("span",{class:"file-icon"},[V("i",{class:"fas fa-cloud-upload-alt"})]),V("span",{class:"file-label"}," Choose a file… ")],-1),rA={class:"file-name light-text"};const nA=fe(RT,[["render",function(e,t,a,s,l,i){const o=Nt,r=$("v-selects"),n=Et,d=bt,u=$("ApexChart"),c=zT,m=nr,p=$("v-card-title"),h=Ft,y=$("v-form"),_=$("v-col"),v=$("v-row"),b=$("v-container"),S=$("v-card-text"),D=$("v-spacer"),L=$("v-btn"),T=$("v-card-actions"),A=ft,O=$("v-dialog");return g(),f(j,null,[V("div",NT,[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1}),V("div",HT,[x(n,{class:"h-hidden-mobile"},{default:w((()=>[x(o,null,{default:w((()=>[x(r,{modelValue:l.filterValues.type,"onUpdate:modelValue":[t[1]||(t[1]=e=>l.filterValues.type=e),t[2]||(t[2]=e=>i.getItems())],options:l.types,reduce:e=>e.id,label:"name","max-height":145,placeholder:"Archive Type"},null,8,["modelValue","options","reduce"])])),_:1})])),_:1}),x(d,{color:"primary",raised:"",onClick:i.createOpen},{default:w((()=>[WT,YT])),_:1},8,["onClick"])])]),V("div",GT,[qT,x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.archiveItemsPagination,(a=>(g(),f("div",{key:a.name,class:"column is-4"},[V("div",JT,[V("div",KT,[V("img",{src:jT,alt:"",onErrorOnce:t[3]||(t[3]=t=>e.onceImageErrored(150))},null,32),V("div",XT,[V("span",ZT,P(a.name),1),V("span",null,[V("span",null,P(a.size),1),QT,V("span",null,"Updated "+P(a.updated),1)])]),a.loading?(g(),f("div",eA,[V("div",tA,[V("div",aA,[x(u,{id:"group-radial-1",height:l.loader.chart.height,type:l.loader.chart.type,series:[e.loadedFiles[a.id]],options:l.loader},null,8,["height","type","series","options"])])])])):(g(),k(c,{key:1,onRemove:e=>i.deleteItem(a)},null,8,["onRemove"]))])])])))),128))])),_:1})]),e.archiveTotalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[4]||(t[4]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.archiveTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(O,{modelValue:l.createDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>l.createDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(A,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[sA])),_:1}),x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(y,{ref:"form"},{default:w((()=>[x(n,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Type")])),_:1}),x(o,null,{default:w((()=>[x(r,{modelValue:l.type,"onUpdate:modelValue":t[5]||(t[5]=e=>l.type=e),"return-object":"",reduce:e=>e.id,label:"name",options:l.types,"push-tags":"","append-to-body":"","calculate-position":e.withPopper},null,8,["modelValue","reduce","options","calculate-position"])])),_:1})])),_:1}),x(n,{grouped:""},{default:w((()=>[x(o,null,{default:w((()=>[V("div",lA,[V("label",iA,[V("input",{class:"file-input",type:"file",onChange:t[6]||(t[6]=(...e)=>i.uploadFile&&i.uploadFile(...e)),ref:"fileInput",name:"resume"},null,544),oA,V("span",rA,P(l.fileValue.value),1)])])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(T,null,{default:w((()=>[x(D),x(L,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(L,{color:"#009688",text:"",dark:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),dA=m({__name:"MinimalLayout",props:{theme:{default:"darker"}},setup(e){const t=e;return(e,a)=>(g(),f("div",{class:_(["minimal-wrapper",[t.theme]])},[y(e.$slots,"default")],2))}});const uA=fe({},[["render",function(e,t){const a=$("RouterView"),s=dA;return g(),k(s,{class:"not_darker"},{default:w((()=>[x(a)])),_:1})}]]),cA={name:"AdminServiceTypes",mounted(){this.getServiceCount()},methods:{...Se(["getServiceCount"])},computed:{...be(["serviceCount","getRole"])}},mA={class:"wizard-v1-wrapper"},pA={id:"wizard-step-0",class:"inner-wrapper is-active"},hA={class:"step-content"},gA={class:"wizard-types"},fA={class:"columns"},yA={class:"column is-4"},_A={class:"wizard-card"},vA=["src"],bA=["src"],SA=["src"],kA={class:"dark-inverted"},wA={class:"button-wrap mt-3"};const VA=fe(cA,[["render",function(e,t,a,s,l,i){const o=bt;return g(),f("form",mA,[V("div",pA,[V("div",hA,[V("div",gA,[(g(!0),f(j,null,K(e.serviceCount,(t=>(g(),f("div",fA,[(g(!0),f(j,null,K(t,(t=>(g(),f("div",yA,[V("div",_A,[""!=t.image2?(g(),f(j,{key:0},[V("img",{src:t.image1,class:"light-show",style:{height:"150px"}},null,8,vA),""!=t.image2?(g(),f("img",{key:0,class:"dark-show",src:t.image2,style:{height:"150px"}},null,8,bA)):I("",!0)],64)):(g(),f("img",{key:1,src:t.image1,style:{height:"150px"}},null,8,SA)),V("h3",kA,P(t.name),1),V("div",wA,[t.services_count?(g(),k(o,{key:0,color:"primary",class:"type-select-button",rounded:"",elevated:"",bold:"",to:"/"+e.getRole+"/services/"+t.slug},{default:w((()=>[C(" Continue ")])),_:2},1032,["to"])):(g(),k(o,{key:1,color:"primary",class:"type-select-button",rounded:"",elevated:"",bold:"",to:"/"+e.getRole+"/services/"+t.slug+"/create"},{default:w((()=>[C(" Create ")])),_:2},1032,["to"]))])])])))),256))])))),256))])])])])}]]),PA={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"facebook"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/facebook/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},xA={class:"list-flex-toolbar flex-list-v1"},CA={class:"card-grid card-grid-v2"},IA={class:"card-grid-item"},DA={class:"card"},LA={class:"card-header"},$A={class:"card-header-title"},TA={class:"meta",style:{"margin-left":"0"}},AA={class:"dark-inverted"},OA=V("div",{class:"card-header-icon"},null,-1),FA={class:"card-content",style:{"border-top":"0"}},UA={class:"card-content-flex"},MA={action:"",class:"form-services",style:{width:"100%"}},EA={class:"card-footer"},BA=["onClick"],zA={class:"card-content",style:{"border-top":"0"}},jA={class:"card-content-flex"},RA=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," UTM Field ")],-1),NA={class:"card-content-flex"},HA=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Pixel ")],-1),WA={class:"card-footer"},YA=["onClick"],GA=["onClick"];const qA=fe(PA,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=tn,d=Nt,u=Et,c=Ft,m=Wt;return g(),f(j,null,[V("div",xA,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Facebook Service ")])),_:1})])),_:1})]),V("div",CA,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",IA,[V("div",DA,[V("header",LA,[V("div",$A,[V("div",TA,[V("span",AA,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),OA]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",FA,[V("div",UA,[V("div",MA,[x(u,{label:"Access Token"},{default:w((()=>[x(d,{fullwidth:""},{default:w((()=>[x(n,{modelValue:l.currentService.data.access_token,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.access_token=e),class:"textarea",rows:"4"},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("UTM field")])),_:1}),x(d,null,{default:w((()=>[x(m,{type:"text",modelValue:l.currentService.data.utm_field,"onUpdate:modelValue":t[2]||(t[2]=e=>l.currentService.data.utm_field=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Pixel")])),_:1}),x(d,null,{default:w((()=>[x(m,{type:"text",modelValue:l.currentService.data.pixel,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentService.data.pixel=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",EA,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,BA)])],64)):(g(),f(j,{key:1},[V("div",zA,[V("div",jA,[RA,V("div",null,P(e.data.utm_field),1)]),V("div",NA,[HA,V("div",null,P(e.data.pixel),1)])]),V("footer",WA,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,YA),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,GA)])],64))])])])))),128))])),_:1})])],64)}]]),JA={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"gitlab"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/gitlab/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},KA={class:"list-flex-toolbar flex-list-v1"},XA={class:"card-grid card-grid-v2"},ZA={class:"card-grid-item"},QA={class:"card"},eO={class:"card-header"},tO={class:"card-header-title"},aO={class:"meta",style:{"margin-left":"0"}},sO={class:"dark-inverted"},lO=V("div",{class:"card-header-icon"},null,-1),iO={class:"card-content",style:{"border-top":"0"}},oO={class:"card-content-flex"},rO={action:"",class:"form-services",style:{width:"100%"}},nO={class:"card-footer"},dO=["onClick"],uO={class:"card-content",style:{"border-top":"0"}},cO={class:"card-content-flex"},mO=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Token ")],-1),pO={class:"card-footer"},hO=["onClick"],gO=["onClick"];const fO=fe(JA,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Wt,d=Nt,u=Et;return g(),f(j,null,[V("div",KA,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Gitlab Service ")])),_:1})])),_:1})]),V("div",XA,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",ZA,[V("div",QA,[V("header",eO,[V("div",tO,[V("div",aO,[V("span",sO,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),lO]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",iO,[V("div",oO,[V("div",rO,[x(u,{label:"API KEY"},{default:w((()=>[x(d,{fullwidth:""},{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.token,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.token=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",nO,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,dO)])],64)):(g(),f(j,{key:1},[V("div",uO,[V("div",cO,[mO,V("div",null,P(e.data.token),1)])]),V("footer",pO,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,hO),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,gO)])],64))])])])))),128))])),_:1})])],64)}]]),yO={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"keitaro"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/keitaro/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},_O={class:"list-flex-toolbar flex-list-v1"},vO={class:"card-grid card-grid-v2"},bO={class:"card-grid-item"},SO={class:"card"},kO={class:"card-header"},wO={class:"card-header-title"},VO={class:"meta",style:{"margin-left":"0"}},PO={class:"dark-inverted"},xO=V("div",{class:"card-header-icon"},null,-1),CO={class:"card-content",style:{"border-top":"0"}},IO={class:"card-content-flex"},DO={action:"",class:"form-services",style:{width:"100%"}},LO={class:"card-footer"},$O=["onClick"],TO={class:"card-content",style:{"border-top":"0"}},AO={class:"card-content-flex"},OO=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Domain ")],-1),FO={class:"card-content-flex"},UO=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Postback ")],-1),MO={class:"card-footer"},EO=["onClick"],BO=["onClick"];const zO=fe(yO,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Wt,d=Nt,u=Et,c=Ft;return g(),f(j,null,[V("div",_O,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Keitaro Service ")])),_:1})])),_:1})]),V("div",vO,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",bO,[V("div",SO,[V("header",kO,[V("div",wO,[V("div",VO,[V("span",PO,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),xO]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",CO,[V("div",IO,[V("div",DO,[x(u,{label:"API KEY"},{default:w((()=>[x(d,{fullwidth:""},{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.api_key,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.api_key=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Domain")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.domain,"onUpdate:modelValue":t[2]||(t[2]=e=>l.currentService.data.domain=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Postback")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.postback,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentService.data.postback=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",LO,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,$O)])],64)):(g(),f(j,{key:1},[V("div",TO,[V("div",AO,[OO,V("div",null,P(e.data.domain),1)]),V("div",FO,[UO,V("div",null,P(e.data.postback),1)])]),V("footer",MO,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,EO),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,BO)])],64))])])])))),128))])),_:1})])],64)}]]),jO={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"binom"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/binom/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},RO={class:"list-flex-toolbar flex-list-v1"},NO={class:"card-grid card-grid-v2"},HO={class:"card-grid-item"},WO={class:"card"},YO={class:"card-header"},GO={class:"card-header-title"},qO={class:"meta",style:{"margin-left":"0"}},JO={class:"dark-inverted"},KO=V("div",{class:"card-header-icon"},null,-1),XO={class:"card-content",style:{"border-top":"0"}},ZO={class:"card-content-flex"},QO={action:"",class:"form-services",style:{width:"100%"}},eF={class:"card-footer"},tF=["onClick"],aF={class:"card-content",style:{"border-top":"0"}},sF={class:"card-content-flex"},lF=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Url ")],-1),iF={class:"card-footer"},oF=["onClick"],rF=["onClick"];const nF=fe(jO,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Wt,d=Nt,u=Et;return g(),f(j,null,[V("div",RO,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Binom Service ")])),_:1})])),_:1})]),V("div",NO,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",HO,[V("div",WO,[V("header",YO,[V("div",GO,[V("div",qO,[V("span",JO,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),KO]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",XO,[V("div",ZO,[V("div",QO,[x(u,{label:"URL"},{default:w((()=>[x(d,{fullwidth:""},{default:w((()=>[x(n,{type:"text",placeholder:"http://1.1.1.1/click",modelValue:l.currentService.data.url,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.url=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",eF,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,tF)])],64)):(g(),f(j,{key:1},[V("div",aF,[V("div",sF,[lF,V("div",null,P(e.data.url),1)])]),V("footer",iF,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,oF),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,rF)])],64))])])])))),128))])),_:1})])],64)}]]),dF={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"cloudflare"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/cloudflare/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},uF={class:"list-flex-toolbar flex-list-v1"},cF={class:"card-grid card-grid-v2"},mF={class:"card-grid-item"},pF={class:"card"},hF={class:"card-header"},gF={class:"card-header-title"},fF={class:"meta",style:{"margin-left":"0"}},yF={class:"dark-inverted"},_F=V("div",{class:"card-header-icon"},null,-1),vF={class:"card-content",style:{"border-top":"0"}},bF={class:"card-content-flex"},SF={action:"",class:"form-services",style:{width:"100%"}},kF={class:"card-footer"},wF=["onClick"],VF={class:"card-content",style:{"border-top":"0"}},PF={class:"card-content-flex"},xF=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Email ")],-1),CF={class:"card-footer"},IF=["onClick"],DF=["onClick"];const LF=fe(dF,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Ft,d=Wt,u=Nt,c=Et;return g(),f(j,null,[V("div",uF,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Cloudflare Service ")])),_:1})])),_:1})]),V("div",cF,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",mF,[V("div",pF,[V("header",hF,[V("div",gF,[V("div",fF,[V("span",yF,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),_F]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",vF,[V("div",bF,[V("div",SF,[x(c,null,{default:w((()=>[x(n,null,{default:w((()=>[C("Profile ID")])),_:1}),x(u,null,{default:w((()=>[x(d,{type:"text",modelValue:l.currentService.data.profile_id,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.profile_id=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(n,null,{default:w((()=>[C("API Key")])),_:1}),x(u,null,{default:w((()=>[x(d,{type:"text",modelValue:l.currentService.data.api_key,"onUpdate:modelValue":t[2]||(t[2]=e=>l.currentService.data.api_key=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(n,null,{default:w((()=>[C("Email")])),_:1}),x(u,null,{default:w((()=>[x(d,{type:"text",modelValue:l.currentService.data.email,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentService.data.email=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",kF,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,wF)])],64)):(g(),f(j,{key:1},[V("div",VF,[V("div",PF,[xF,V("div",null,P(e.data.email),1)])]),V("footer",CF,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,IF),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,DF)])],64))])])])))),128))])),_:1})])],64)}]]),$F={name:"AdminServices",data:()=>({loading:!1,serviceDialog:!1,currentService:{},pageType:"namecheap"}),computed:{...be(["services","getRole"])},mounted(){this.getItems()},methods:{...Se(["getServices"]),updateStatus(e,t){let a=t?0:1;this.$store.dispatch("updateServiceStatus",{id:e,is_active:a}).then((()=>{this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))},createService(){let e={type:this.pageType};this.$store.commit("setService",e),this.$router.push(`/${this.getRole}/services/namecheap/create`)},editService(e){this.serviceDialog=!0,console.log(e),this.currentService=e},updateService(){let e=this.currentService;e.type=this.pageType,this.$store.dispatch("updateService",{id:e.id,...e}).then((()=>{this.serviceDialog=!1,this.getItems(),this.currentService=!1})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Are you sure?")&&(this.toggleLoading(),this.$store.dispatch("deleteService",e.id).then((()=>{alert("Success!")})).finally((()=>{this.getItems(),this.toggleLoading()})))},getItems(){this.toggleLoading(),this.$store.dispatch("getServices",this.pageType).finally((()=>this.toggleLoading()))},toggleLoading(){this.loading=!this.loading},closeDialog(){this.serviceDialog=!1,this.currentService={}}}},TF={class:"list-flex-toolbar flex-list-v1"},AF={class:"card-grid card-grid-v2"},OF={class:"card-grid-item"},FF={class:"card"},UF={class:"card-header"},MF={class:"card-header-title"},EF={class:"meta",style:{"margin-left":"0"}},BF={class:"dark-inverted"},zF=V("div",{class:"card-header-icon"},null,-1),jF={class:"card-content",style:{"border-top":"0"}},RF={class:"card-content-flex"},NF={action:"",class:"form-services",style:{width:"100%"}},HF={class:"card-footer"},WF=["onClick"],YF={class:"card-content",style:{"border-top":"0"}},GF={class:"card-content-flex"},qF=V("div",{class:"card-info"},[V("h3",{class:"dark-inverted"}," Username ")],-1),JF={class:"card-footer"},KF=["onClick"],XF=["onClick"];const ZF=fe($F,[["render",function(e,t,a,s,l,i){const o=bt,r=yt,n=Wt,d=Nt,u=Et,c=Ft;return g(),f(j,null,[V("div",TF,[x(r,null,{default:w((()=>[x(o,{color:"primary",onClick:t[0]||(t[0]=e=>i.createService()),icon:"fas fa-plus",elevated:""},{default:w((()=>[C(" Add Namecheap Service ")])),_:1})])),_:1})]),V("div",AF,[x(ie,{name:"list",tag:"div",class:"columns is-multiline"},{default:w((()=>[(g(!0),f(j,null,K(e.services,(e=>(g(),f("div",{class:"column is-3",key:e.id},[V("div",OF,[V("div",FF,[V("header",UF,[V("div",MF,[V("div",EF,[V("span",BF,P(e.name),1),V("span",null,"Created - "+P(e.created_at),1)])]),zF]),this.currentService.id==e.id?(g(),f(j,{key:0},[V("div",jF,[V("div",RF,[V("div",NF,[x(u,{label:"Api User"},{default:w((()=>[x(d,{fullwidth:""},{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.api_user,"onUpdate:modelValue":t[1]||(t[1]=e=>l.currentService.data.api_user=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Api key")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.api_key,"onUpdate:modelValue":t[2]||(t[2]=e=>l.currentService.data.api_key=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(u,null,{default:w((()=>[x(c,null,{default:w((()=>[C("Username")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",modelValue:l.currentService.data.username,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentService.data.username=e)},null,8,["modelValue"])])),_:1})])),_:1})])])]),V("footer",HF,[V("a",{class:"card-footer-item",onClick:t=>i.updateService(e)},"Save",8,WF)])],64)):(g(),f(j,{key:1},[V("div",YF,[V("div",GF,[qF,V("div",null,P(e.data.username),1)])]),V("footer",JF,[V("a",{class:"card-footer-item",onClick:t=>i.editService(e)},"Edit",8,KF),V("a",{class:"card-footer-item",onClick:t=>i.deleteItem(e)},"Delete",8,XF)])],64))])])])))),128))])),_:1})])],64)}]]),QF={name:"ActivityLogsFilter",data:()=>({loading:!1,typeFilters:[{id:"user_destroy",name:"User Delete"},{id:"user_update",name:"User Update"},{id:"user_create",name:"User Create"},{id:"generate_token",name:"Generate Token"},{id:"offer_destroy",name:"Campaign Delete"},{id:"offer_update",name:"Campaign Update"},{id:"offer_activity",name:"Campaign On/Off"},{id:"get_leads",name:"Get Leads"},{id:"export",name:"Export"}],filterValues:{},comment:"",sale:""}),props:{filters:Array,drawer:Boolean},computed:{...be(["userFilters"])},methods:{...Se(["getUsersSelect"]),getItems(){let e=this.$parent.filterValues.period;this.$parent.filterValues=this.filterValues,this.$parent.filterValues.period=e,this.$parent.page=1,this.$parent.getItems()},generateFilterValues(){let e=this.filterValues;return e.period=this.$parent.filterValues.period,e.search=this.$parent.filterValues.search,"custom_date"==e.period?(e.date_start_sended=this.$parent.filterValues.date_start_sended,e.date_end_sended=this.$parent.filterValues.date_end_sended):(e.date_start_sended="",e.date_end_sended=""),e},getUserFilters(){let e=this.generateFilterValues();this.loading=!0,this.$store.dispatch("getUserForActivityLogFilters",{filtersValues:e}).then((()=>{this.loading=!1}))}}},eU={class:"columns is-multiline"},tU={key:0,class:"column is-3"},aU={key:1,class:"column is-3"},sU={key:2,class:"column is-3"},lU={key:3,class:"column is-3"};const iU={name:"AdminActivityLogs",components:{ActivityLogsFilter:fe(QF,[["render",function(e,t,a,s,l,i){const o=Ft,r=$("v-selects"),n=Et,d=Wt,u=$("v-list"),c=$("v-col");return a.drawer?(g(),k(c,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(u,{style:{overflow:"hidden",padding:"20px",position:"inherit"},class:"filters__content"},{default:w((()=>[V("div",eU,[(g(!0),f(j,null,K(a.filters,((a,s)=>(g(),f(j,{key:s},["brokers"==a.id?(g(),f("div",tU,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Campaign")])),_:1}),x(r,{modelValue:l.filterValues.offer_ids,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.filterValues.offer_ids=e),t[1]||(t[1]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.offerFilters,multiple:"","push-tags":"",closeOnSelect:!1,onClick:e.test,"onSearch:focus":e.getOfferFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onClick","onSearch:focus"])])),_:1})])):I("",!0),"users"==a.id?(g(),f("div",aU,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Users")])),_:1}),x(r,{modelValue:l.filterValues.user_ids,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.filterValues.user_ids=e),t[3]||(t[3]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.userFilters,multiple:"","push-tags":"",closeOnSelect:!1,"onSearch:focus":i.getUserFilters,"append-to-body":""},null,8,["modelValue","reduce","options","onSearch:focus"])])),_:1})])):I("",!0),"types"==a.id?(g(),f("div",sU,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C(P(a.label),1)])),_:2},1024),x(r,{modelValue:l.filterValues.type_names,"onUpdate:modelValue":[t[4]||(t[4]=e=>l.filterValues.type_names=e),t[5]||(t[5]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:l.typeFilters,multiple:"","push-tags":"",closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:2},1024)])):I("",!0),"comment"==a.id?(g(),f("div",lU,[x(n,null,{default:w((()=>[x(o,null,{default:w((()=>[C("Comment")])),_:1}),x(d,{type:"text",modelValue:l.comment,"onUpdate:modelValue":t[6]||(t[6]=e=>l.comment=e)},null,8,["modelValue"])])),_:1})])):I("",!0)],64)))),128))])])),_:1})])),_:1})):I("",!0)}]])},data:()=>({searchModel:"",headers:[{text:"id",sortable:!1,value:"id",width:10},{text:"Date",sortable:!1,value:"date",width:100},{text:"User",sortable:!1,value:"user.name"},{text:"Action",sortable:!1,value:"comment",width:700}],filters:[{id:"users",type:"input",label:"Users"},{id:"types",type:"input",label:"Types"},{id:"comments",type:"input",label:"Comment"}],filterValues:{},rowsPerPage:25,page:1,loading:!0,drawer:!1}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)}},methods:{...Se([]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),toggleFilters(){this.drawer=!this.drawer},getItems(e=1){this.page=e;let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"activity-log",page:e,filtersValues:t}).then((()=>this.loading=!1))}}},oU={class:"list-flex-toolbar flex-list-v1"},rU={style:{"max-width":"700px","word-wrap":"break-word","text-align":"left"}},nU={key:0,style:{"white-space":"break-spaces"}},dU={key:1,style:{"white-space":"break-spaces"}},uU={key:1};const cU=fe(iU,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=xi,d=yt,u=$("ActivityLogsFilter"),c=Qr,m=xr,p=$("EasyDataTable"),h=nr;return g(),f(j,null,[V("div",oU,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(n,{icon:"feather:refresh-cw",color:"primary",onClick:t[1]||(t[1]=e=>{l.page=1,this.getItems()})}),x(n,{icon:"feather:filter",color:"primary",onClick:t[2]||(t[2]=e=>i.toggleFilters())})])),_:1})]),x(u,{drawer:l.drawer,ref:"leadFilter",filters:l.filters},null,8,["drawer","filters"]),x(p,{headers:l.headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-comment":w((e=>[V("div",rU,[e.full_comment?(g(),f("div",nU,P(e.full_comment),1)):(g(),f("div",dU,P(e.comment),1))])])),"item-filters":w((e=>[e.filters.length?(g(!0),f(j,{key:0},K(e.filters,((e,t)=>(g(),k(c,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.name+" -> "+e.filter.value,key:t},null,8,["label"])))),128)):(g(),f("div",uU,"-"))])),"item-action":w((t=>[x(m,{showView:!1,onRemove:a=>e.deleteItem(t)},null,8,["onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(h,{key:0,"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0)],64)}]]),mU={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="gitlab",this.$store.dispatch("createService",e).then((t=>{console.log(t),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},pU={class:"wizard-v1-wrapper"},hU={id:"wizard-step-1",class:"inner-wrapper is-active"},gU={class:"step-content"},fU=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"Gitlab"),V("p",null,"Manage better by adding all relevant service information")],-1),yU={class:"project-info"},_U={class:"project-info-head"},vU={class:"project-info"},bU={class:"project-name"},SU={class:"project-description p-t-10"},kU={class:"wizard-buttons is-active"},wU={class:"wizard-buttons-inner"};const VU=fe(mU,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=tn,u=bt,c=dA;return g(),k(c,null,{default:w((()=>[V("form",pU,[V("div",hU,[V("div",gU,[fU,V("div",yU,[V("div",_U,[V("div",vU,[V("div",bU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Service Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",SU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.token,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.token=e),class:"textarea",rows:"4",placeholder:"Token"},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",kU,[V("div",wU,[x(u,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[2]||(t[2]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(u,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[3]||(t[3]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),PU={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="keitaro",this.$store.dispatch("createService",e).then((t=>{console.log(t),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},xU={class:"wizard-v1-wrapper"},CU={id:"wizard-step-1",class:"inner-wrapper is-active"},IU={class:"step-content"},DU=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"Keitaro"),V("p",null,"Manage better by adding all relevant service information")],-1),LU={class:"project-info"},$U={class:"project-info-head"},TU={class:"project-info"},AU={class:"project-name"},OU={class:"project-description p-t-10"},FU={class:"wizard-buttons is-active"},UU={class:"wizard-buttons-inner"};const MU=fe(PU,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=tn,u=bt,c=dA;return g(),k(c,null,{default:w((()=>[V("form",xU,[V("div",CU,[V("div",IU,[DU,V("div",LU,[V("div",$U,[V("div",TU,[V("div",AU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Service Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",OU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.api_key,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.api_key=e),class:"textarea",rows:"4",placeholder:"API KEY..."},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.domain,"onUpdate:modelValue":t[2]||(t[2]=e=>l.service.data.domain=e),class:"textarea",rows:"4",placeholder:"Domain"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.postback,"onUpdate:modelValue":t[3]||(t[3]=e=>l.service.data.postback=e),class:"textarea",rows:"4",placeholder:"Postback..."},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",FU,[V("div",UU,[x(u,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[4]||(t[4]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(u,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[5]||(t[5]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),EU={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="namecheap",this.$store.dispatch("createService",e).then((t=>{console.log(t),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},BU={class:"wizard-v1-wrapper"},zU={id:"wizard-step-1",class:"inner-wrapper is-active"},jU={class:"step-content"},RU=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"NameCheap"),V("p",null,"Manage better by adding all relevant service information")],-1),NU={class:"project-info"},HU={class:"project-info-head"},WU={class:"project-info"},YU={class:"project-name"},GU={class:"project-description p-t-10"},qU={class:"wizard-buttons is-active"},JU={class:"wizard-buttons-inner"};const KU=fe(EU,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=bt,u=dA;return g(),k(u,null,{default:w((()=>[V("form",BU,[V("div",zU,[V("div",jU,[RU,V("div",NU,[V("div",HU,[V("div",WU,[V("div",YU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Service Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",GU,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.data.api_user,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.api_user=e),placeholder:"Api User"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.data.api_key,"onUpdate:modelValue":t[2]||(t[2]=e=>l.service.data.api_key=e),placeholder:"Api key"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.data.username,"onUpdate:modelValue":t[3]||(t[3]=e=>l.service.data.username=e),placeholder:"Username"},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",qU,[V("div",JU,[x(d,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[4]||(t[4]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(d,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[5]||(t[5]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),XU={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="facebook",this.$store.dispatch("createService",e).then((t=>{console.log(t),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},ZU={class:"wizard-v1-wrapper"},QU={id:"wizard-step-1",class:"inner-wrapper is-active"},eM={class:"step-content"},tM=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"Facebook"),V("p",null,"Manage better by adding all relevant service information")],-1),aM={class:"project-info"},sM={class:"project-info-head"},lM={class:"project-info"},iM={class:"project-name"},oM={class:"project-description p-t-10"},rM={class:"wizard-buttons is-active"},nM={class:"wizard-buttons-inner"};const dM=fe(XU,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=tn,u=bt,c=dA;return g(),k(c,null,{default:w((()=>[V("form",ZU,[V("div",QU,[V("div",eM,[tM,V("div",aM,[V("div",sM,[V("div",lM,[V("div",iM,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",oM,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.access_token,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.access_token=e),class:"textarea",rows:"4",placeholder:"Access Token"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.utm_field,"onUpdate:modelValue":t[2]||(t[2]=e=>l.service.data.utm_field=e),class:"textarea",rows:"4",placeholder:"UTM field"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.pixel,"onUpdate:modelValue":t[3]||(t[3]=e=>l.service.data.pixel=e),class:"textarea",rows:"4",placeholder:"Pixel"},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",rM,[V("div",nM,[x(u,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[4]||(t[4]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(u,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[5]||(t[5]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),uM={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="cloudflare",this.$store.dispatch("createService",e).then((t=>{console.log(t),console.log(e.type),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){console.log(421),this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},cM={class:"wizard-v1-wrapper"},mM={id:"wizard-step-1",class:"inner-wrapper is-active"},pM={class:"step-content"},hM=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"Cloudflare"),V("p",null,"Manage better by adding all relevant service information")],-1),gM={class:"project-info"},fM={class:"project-info-head"},yM={class:"project-info"},_M={class:"project-name"},vM={class:"project-description p-t-10"},bM={class:"wizard-buttons is-active"},SM={class:"wizard-buttons-inner"};const kM=fe(uM,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=tn,u=bt,c=dA;return g(),k(c,null,{default:w((()=>[V("form",cM,[V("div",mM,[V("div",pM,[hM,V("div",gM,[V("div",fM,[V("div",yM,[V("div",_M,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Service Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",vM,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.profile_id,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.profile_id=e),class:"textarea",rows:"4",placeholder:"Profile ID"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.api_key,"onUpdate:modelValue":t[2]||(t[2]=e=>l.service.data.api_key=e),class:"textarea",rows:"4",placeholder:"API Key"},null,8,["modelValue"])])),_:1})])),_:1}),x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.email,"onUpdate:modelValue":t[3]||(t[3]=e=>l.service.data.email=e),class:"textarea",rows:"4",placeholder:"Email"},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",bM,[V("div",SM,[x(u,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[4]||(t[4]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(u,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[5]||(t[5]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),wM={name:"AdminServiceTypes",data:()=>({loading:!1,service:{data:{}}}),mounted(){},computed:{...be(["serviceTypes","getRole"])},methods:{...Se(["getServiceTypes"]),createService(){this.toggleLoading();let e=this.service;e.type="binom",this.$store.dispatch("createService",e).then((t=>{console.log(t),this.$store.commit("setService",{}),this.$router.push(`/${this.getRole}/services/${e.type}`)})).catch((e=>console.log(e.response.data.errors))).finally((()=>this.toggleLoading()))},cancelCreateService(){this.$router.go(-1)},toggleLoading(){this.loading=!this.loading}}},VM={class:"wizard-v1-wrapper"},PM={id:"wizard-step-1",class:"inner-wrapper is-active"},xM={class:"step-content"},CM=V("div",{class:"step-title"},[V("h2",{class:"dark-inverted",style:{"padding-top":"25px"}},"Binom"),V("p",null,"Manage better by adding all relevant service information")],-1),IM={class:"project-info"},DM={class:"project-info-head"},LM={class:"project-info"},$M={class:"project-name"},TM={class:"project-description p-t-10"},AM={class:"wizard-buttons is-active"},OM={class:"wizard-buttons-inner"};const FM=fe(wM,[["render",function(e,t,a,s,l,i){const o=Wt,r=Nt,n=Et,d=tn,u=bt,c=dA;return g(),k(c,null,{default:w((()=>[V("form",VM,[V("div",PM,[V("div",xM,[CM,V("div",IM,[V("div",DM,[V("div",LM,[V("div",$M,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(o,{modelValue:l.service.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.service.name=e),placeholder:"Service Name"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",TM,[x(n,null,{default:w((()=>[x(r,null,{default:w((()=>[x(d,{modelValue:l.service.data.url,"onUpdate:modelValue":t[1]||(t[1]=e=>l.service.data.url=e),class:"textarea",rows:"4",placeholder:"URL http://1.1.1.1/click"},null,8,["modelValue"])])),_:1})])),_:1})])])])])])]),V("div",AM,[V("div",OM,[x(u,{class:"wizard-button-previous",color:"danger",bold:"",elevated:"",onClick:t[2]||(t[2]=e=>i.cancelCreateService())},{default:w((()=>[C(" Cancel ")])),_:1}),x(u,{class:"wizard-button-previous",color:"primary",bold:"",elevated:"",onClick:t[3]||(t[3]=e=>i.createService())},{default:w((()=>[C(" Create ")])),_:1})])])])])),_:1})}]]),UM={name:"TeamleadStats",components:{StatisticsTable:Hw},data:()=>({drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"}],filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),mounted(){s({title:this.$route.meta.title})},methods:{statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},MM=V("span",{class:"headline"},"Please, select statistics to export",-1),EM=V("span",{class:"headline"},"Your link",-1);const BM=fe(UM,[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-card-title"),n=bt,d=$("v-col"),u=$("v-row"),c=$("v-container"),m=$("v-card-text"),p=ft,h=$("v-dialog");return g(),k(c,{fluid:""},{default:w((()=>[x(o,{teamleadsTable:!0,filters:l.filters},null,8,["filters"]),x(h,{modelValue:l.exportModel,"onUpdate:modelValue":t[0]||(t[0]=e=>l.exportModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[MM])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getWebmastersStats},{default:w((()=>[C("Webmasters")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getLandingsStats},{default:w((()=>[C("Landings")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.geOffersStats},{default:w((()=>[C("Offers")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(h,{modelValue:l.createOffersStatsLinkModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.createOffersStatsLinkModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[EM])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"mb-4",color:"info",to:"/all/offers-statistic/"+l.currentOffersStatsLink,target:"_blank"},{default:w((()=>[C("Your current public link")])),_:1},8,["to"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.createStatisticLink},{default:w((()=>[C("Create new one")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}]]);const zM=fe({name:"TeamleadLeads",components:{Table:ah,LeadSettings:Lh},data:()=>({settingsOpen:!1,leadFilters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers_id",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"keitaro_id",type:"input",label:"Sub ID"},{id:"statuses",type:"input",label:"Phone"},{id:"urls",type:"input",label:"Phone"},{id:"ftd",type:"input",label:"Phone"},{id:"payment_type_id",type:"input",label:"Payment type"},{id:"sale",type:"input",label:"Sale"},{id:"is_autologin",type:"input",label:"Autologin"},{id:"comment",type:"input",label:"Comment"},{id:"webmasters",type:"input",label:"Webmasters"},{id:"utm",type:"input",label:"Phone"}],leadsSettingsData:[{name:"Offer",id:"offer_id"},{name:"Email",id:"email"},{name:"Name",id:"full_name"},{name:"GEO",id:"country"},{name:"City",id:"city"},{name:"Domain",id:"landing"},{name:"Source",id:"source"},{name:"Phone",id:"phone"},{name:"Funnel",id:"landing_name"},{name:"Status",id:"status"},{name:"FTD",id:"is_action"},{name:"Broker Comment",id:"broker_comment"},{name:"Lang",id:"language"},{name:"User",id:"user"},{name:"UTM",id:"query_parameters"},{name:"Created Date",id:"date"},{name:"Date Send",id:"sended_date"},{name:"Date FTD",id:"action_time"},{name:"Auth",id:"is_autologin"},{name:"Sub Id",id:"keitaro_id"},{name:"Buy",id:"buy"},{name:"Description",id:"description"},{name:"Sale",id:"sale"},{name:"Payment Type",id:"payment_type"}],leadsHeader:[{bold:!0,text:"ID",value:"id",icon:""},{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Domain",value:"landing",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"Status",value:"status",align:"center",icon:""},{bold:!0,text:"FTD",value:"is_action",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"UTM",value:"query_parameters",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Date Send",value:"sended_date",align:"center",icon:""},{bold:!0,text:"Description",value:"description",align:"center",icon:""},{bold:!0,text:"Auth",value:"is_autologin",align:"center",icon:""}],leadsSettingsDataUtms:[],leadsSettingsTabs:[{title:"Sent / Hold",name:"all",checkbox:!0},{title:"Sent",name:"send",checkbox:!0},{title:"Hold",name:"hold",checkbox:!0},{title:"Valid",name:"valid",checkbox:!1},{title:"Invalid",name:"invalid",checkbox:!0},{title:"Duplicate",name:"duplicate",checkbox:!0},{title:"Error",name:"error",checkbox:!0},{title:"Removed",name:"removed",checkbox:!0},{title:"Imported",name:"imported",checkbox:!1}]}),mounted(){s({title:this.$route.meta.title}),this.getUtmFields(),this.leadsPageTabs&&this.leadsPageTabs.length&&(this.leadsSettingsTabs=this.leadsPageTabs)},methods:{updateLeadsSettingsData(e){this.leadsSettingsData=e},updateLeadsHeader(e){this.leadsHeader=e},updateSettingsOpen(){this.settingsOpen=!1},updateLeadsSettingsTabs(e){this.leadsSettingsTabs=e},updateLeadsSettingsDataUtms(e){this.leadsSettingsDataUtms=e},getUtmFields(){this.$store.dispatch("getUtmFields").then((e=>{if(console.log(e.data.data),e.data.data&&e.data.data.length)for(let t=0;t<e.data.data.length;t++)this.leadsSettingsDataUtms.push(e.data.data[t])}))}},computed:{...be(["leadsPageTabs"])}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("LeadSettings");return g(),f(j,null,[x(o,{leadFilters:l.leadFilters,headers:l.leadsHeader,leadsSettingsTabs:l.leadsSettingsTabs,ref:"table"},null,8,["leadFilters","headers","leadsSettingsTabs"]),x(r,{smallFormOpen:l.settingsOpen,leadsSettingsData:l.leadsSettingsData,leadsHeader:l.leadsHeader,leadsSettingsDataUtms:l.leadsSettingsDataUtms,leadsSettingsTabs:l.leadsSettingsTabs,"onUpdate:leadsStetingsDataUtms":i.updateLeadsSettingsDataUtms,"onUpdate:leadsSettingsData":i.updateLeadsSettingsData,"onUpdate:leadsHeader":i.updateLeadsHeader,"onUpdate:settingsOpen":i.updateSettingsOpen,"onUpdate:leadsSettingsTabs":i.updateLeadsSettingsTabs},null,8,["smallFormOpen","leadsSettingsData","leadsHeader","leadsSettingsDataUtms","leadsSettingsTabs","onUpdate:leadsStetingsDataUtms","onUpdate:leadsSettingsData","onUpdate:leadsHeader","onUpdate:settingsOpen","onUpdate:leadsSettingsTabs"])],64)}]]);const jM=fe({name:"TeamleadStatistics",components:{StatisticsTable:Hw},data:()=>({filters:[{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-container");return g(),k(r,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{funnelTable:!0,userTable:!0,filters:l.filters},null,8,["filters"])])),_:1})}]]);const RM=fe({name:"TeamleadDashboard",components:{DashboardTable:Jo},data:()=>({dashboardFilters:[{id:"users",type:"select",label:"Users"},{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"},{id:"campaigns",type:"select",label:"Campaigns"}],mainCharts:[{id:"leads",name:"Leads"},{id:"ftd",name:"FTD"},{id:"profit",name:"Profit"},{id:"net_profit",name:"Net Profit"},{id:"cost",name:"Cost"},{id:"income",name:"Income"},{id:"cpl",name:"CPL"},{id:"cpa",name:"CPA"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("DashboardTable");return g(),k(o,{filters:l.dashboardFilters,mainCharts:l.mainCharts},null,8,["filters","mainCharts"])}]]),NM={name:"TeamleadNotifications",data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1}),mounted(){s({title:this.$route.meta.title}),this.getItems(1)},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"]),classObject:()=>({})},methods:{dateFormat:e=>xe(e).fromNow(),allDateFormat(e){return this.dateToYMD(e)},isToday(e){let t=new Date(e);return(new Date).toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},HM=e=>(N("data-v-cadbc6a2"),e=e(),H(),e),WM={class:"timeline-wrapper"},YM=HM((()=>V("div",{class:"timeline-header"},null,-1))),GM={class:"timeline-wrapper-inner"},qM={class:"timeline-container"},JM={class:"date"},KM={class:"content-wrap"},XM={class:"content-box"},ZM=HM((()=>V("div",{class:"status"},null,-1))),QM={class:"box-text"},eE={class:"meta-text"},tE={class:"name"},aE={class:"name"},sE=HM((()=>V("br",null,null,-1))),lE={class:"box-end"},iE={key:0,class:"load-more-wrap has-text-centered"};const oE=fe(NM,[["render",function(e,t,a,s,l,i){const o=$i,r=bt;return g(),f("div",WM,[YM,V("div",GM,[V("div",qM,[(g(!0),f(j,null,K(l.notifications,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[V("div",JM,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",KM,[V("div",XM,[ZM,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",QM,[V("div",eE,[V("p",null,[V("span",tE,P(e.data.name),1),C(" new FTD on "),V("span",aE,"Lead #"+P(e.data.id),1),sE,C(" Created Date - "+P(e.data.created_at),1)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",lE,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],2)))),128))]),e.totalPagesItemsPagination!=e.currentPageItemsPagination?(g(),f("div",iE,[x(r,{onClick:t[0]||(t[0]=t=>i.getItems(e.currentPageItemsPagination+1)),"dark-outlined":""},{default:w((()=>[C("Load More")])),_:1})])):I("",!0)])])}],["__scopeId","data-v-cadbc6a2"]]);const rE=fe({name:"TeamleadSpend",components:{SpendTable:VL},data:()=>({mainTableHeaders:[{text:"Date",sortable:!1,value:"date"},{text:"Buyer",sortable:!1,value:"user"},{text:"GEO",sortable:!1,value:"country"},{text:"Source",sortable:!1,value:"source"},{text:"Funnel",sortable:!1,value:"funnel"},{text:"Comment",sortable:!1,value:"comment"},{text:"Created At",sortable:!1,value:"created_at"}],filters:[{id:"created_date",type:"select",label:"Date"},{id:"webmasters",type:"input",label:"Phone"},{id:"funnels",type:"select",label:"Funnel"},{id:"countries",type:"select",label:"GEO"},{id:"sources",type:"select",label:"Source"},{id:"leads_type",type:"select",label:"Leads Type"},{id:"spend_categories",type:"select",label:"Spends Type"},{id:"comment",type:"input",label:"Search by comment"}]}),mounted(){s({title:this.$route.meta.title}),this.addCategoriesToHeaders()},methods:{addCategoriesToHeaders(){this.$store.dispatch("getSpendTypes").then((e=>{console.log(e.data.data),e.data.data&&e.data.data.length&&(e.data.data.forEach((e=>{this.mainTableHeaders.push({text:e.title,value:e.name})})),this.mainTableHeaders.push({text:"Action",value:"action"}))}))}}},[["render",function(e,t,a,s,l,i){const o=$("SpendTable"),r=$("v-container");return g(),k(r,{class:"page_spending",fluid:""},{default:w((()=>[x(o,{filters:l.filters,mainTableHeaders:l.mainTableHeaders},null,8,["filters","mainTableHeaders"])])),_:1})}]]),nE={name:"Dashboard",components:{ApexChart:we,"dashboard-filter":Ei,DatePicker:io},data:()=>({drawer:!1,filterValues:{period:"this_month",lead_type:"all",country_ids:[]}}),mounted(){s({title:this.$route.meta.title}),this.getGeneral(),this.getRevenue(),this.getCaps()},methods:{...Se(["getGeneralDashboard"]),selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1)},changeDate(e){this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1)},getItems(e=1){this.page=e,this.getGeneral()},async getGeneral(){let e=this.filterValues;return this.$store.dispatch("getGeneralDashboard",{path:"dashboard/general",filtersValues:e}).then((()=>this.loading=!1)).finally((()=>{window.ApexCharts.exec("sparkline1","updateOptions",{labels:this.leadChart.labels,series:this.leadChart.series,subtitle:{text:this.leadChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}}),window.ApexCharts.exec("sparkline2","updateOptions",{labels:this.ftdChart.labels,series:this.ftdChart.series,subtitle:{text:this.ftdChart.subtitle.text,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}}})}))},async getRevenue(){return this.$store.dispatch("getRevenueDashboard",{path:"dashboard/revenue"}).then((()=>this.loading=!1)).finally((()=>{this.$refs.revenueChart.refresh()}))},async getCaps(){return this.$store.dispatch("getCapsDashboard",{path:"dashboard/caps"})},openFilters(){this.drawer=!this.drawer}},computed:{...be(["leadChart","ftdChart","totalOrdersChart","profitChart","revenueChart","capsChart","getUserName"])}},dE={class:"finance-dashboard sales-dashboard"},uE={class:"dashboard-header justify-space-between"},cE={class:"d-flex"},mE={class:"start pt-3"},pE={class:"dark-inverted"},hE=V("p",null,"We're very happy to see you again on your dashboard.",-1),gE={class:"spark-tiles"},fE={class:"columns is-multiline"},yE={class:"column is-3"},_E={class:"spark-tile"},vE={class:"column is-3"},bE={class:"spark-tile"};const SE=fe(nE,[["render",function(e,t,a,s,l,i){const o=$i,r=xi,n=yt,d=$("DatePicker"),u=Et,c=$("dashboard-filter"),m=$("ApexChart");return g(),f("div",dE,[V("div",uE,[V("div",cE,[x(o,{size:"large",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",mE,[V("h3",pE,"Welcome back, "+P(e.getUserName),1),hE])]),V("div",null,[x(n,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(r,{icon:"feather:filter",color:"primary",onClick:t[0]||(t[0]=e=>i.openFilters())})])),_:1}),x(u,null,{default:w((()=>[x(d,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"])])),_:1})])]),l.drawer?(g(),k(c,{key:0,drawer:l.drawer,ref:"DashboardFilter",filters:[{id:"created_date",type:"select",label:"Created Date"},{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"}]},null,8,["drawer"])):I("",!0),V("div",gE,[V("div",fE,[V("div",yE,[V("div",_E,[e.leadChart?(g(),k(m,{key:0,ref:"chart1",id:"spark1",height:e.leadChart.chart.height,type:e.leadChart.chart.type,series:e.leadChart.series,options:e.leadChart},null,8,["height","type","series","options"])):I("",!0)])]),V("div",vE,[V("div",bE,[x(m,{ref:"chart2",id:"spark2",height:e.ftdChart.chart.height,type:e.ftdChart.chart.type,series:e.ftdChart.series,options:e.ftdChart},null,8,["height","type","series","options"])])])])])])}]]),kE={components:{"lead-filter":wd,DatePicker:io},name:"WebmasterLeads",data:()=>({loading:!0,drawer:!1,group:null,datesModel:{start:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+new Date((new Date).getTime()-864e5).getDate()+" 00:00:00",end:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate()+" 23:59:59"},emailModel:"",filterValues:{search:"",lead_type:"all",period:"this_month"},datesDepModel:{start:null,end:null},leadsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Email",sortable:!1,value:"email"},{text:"Name",sortable:!1,value:"full_name"},{text:"GEO",sortable:!1,value:"country.ISO_2"},{text:"Domain",sortable:!1,value:"landing.url"},{text:"Lang",sortable:!1,value:"language"},{text:"UTM",sortable:!1,value:"query_parameters"},{text:"Funnel",sortable:!1,value:"landing_name.name"},{text:"Status",sortable:!1,value:"status"},{text:"FTD",sortable:!1,value:"is_action"},{text:"Description",sortable:!1,value:"description"},{text:"Created date",sortable:!1,value:"date"}],depositStatus:"",depositStatusList:["Да","Нет"],page:1,rowsPerPage:25,perPages:[25,50,100],isActive:"all",typeLeads:"all"}),computed:{...be(["leadCounts","sourceFilters","offerFilters","countryFilters","webmasterFilters","statusFilters","landingNameFilters","landingFilters","currentLead","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"])},provide:function(){return{getItems:this.getItems}},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getLeadCountsByType()},watch:{group(){this.drawer=!1},emailModel(){this.filterValues.search=this.emailModel,this.getItems(1)},datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();this.filterValues.date_start_registration=a,this.filterValues.date_end_registration=s}else this.filterValues.date_start_registration="",this.filterValues.date_end_registration="";this.getItems(1)},datesDepModel(){if("object"==typeof this.datesDepModel&&null!=this.datesDepModel){let e=new Date(this.datesDepModel.start),t=new Date(this.datesDepModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_dep=a,this.filterValues.date_end_dep=s}else this.filterValues.date_start_dep="",this.filterValues.date_end_dep="";this.getItems(1)}},methods:{...Se(["getLeadCounts"]),copyText(e){navigator.clipboard.writeText(e)},selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1)},changeDate(e){console.log(e),this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1)},updatePaginate(e){console.log(e),this.page=e,this.getItems(this.page)},openFilters(){this.drawer||(this.getCountryFilters(),this.getLandingNameFilters(),this.getLandingFilters(),this.getStatusFilters(),this.getSourceFilters()),this.drawer=!this.drawer},getStatusFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getStatusFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",getSourceFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getSourceFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},depositStatusFilter(){"Да"===this.depositStatus?this.filterValues.is_action="1":"Нет"===this.depositStatus?this.filterValues.is_action="0":this.filterValues.is_action=null,this.getItems(1)},getCountryFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getCountryFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLandingNameFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getLandingNameFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},getLandingFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getLandingFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},paginationChangeHandler(e){this.getItems(e)},getItems(e=1){let t=this.filterValues,a=this.rowsPerPage;t.lead_type=this.typeLeads,re.start(),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"leads",page:e,rowsPerPage:a,filtersValues:t}).then((()=>{this.loading=!1,re.done()})),this.getLeadCountsByType()},getLeadsByType(e="all"){this.typeLeads=e,this.filterValues.lead_type=e,this.isActive=e,this.page=1,this.getItems(1)},getLeadCountsByType(){let e=this.filterValues;e.lead_type=null,this.$store.dispatch("getLeadCounts",{filtersValues:e}).then((()=>{})).finally((()=>{this.buttonLoading=!1}))}}},wE={class:"v-flex flex-pagination top-pagination pagination is-rounded"},VE={style:{display:"flex","align-items":"center"}},PE={class:"buttons"},xE={class:"pagination_wrap"},CE={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},IE={key:0},DE={key:1};const LE=fe(kE,[["render",function(e,t,a,s,l,i){const o=xi,r=yt,n=Nt,d=Et,u=$("DatePicker"),c=$("Multiselect"),m=$("lead-filter"),p=nr,h=$("v-btn"),y=$("v-col"),v=Qr,b=$("EasyDataTable"),S=te("tooltip");return g(),f(j,null,[x(r,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(o,{icon:"feather:refresh-cw",color:"primary",onClick:t[0]||(t[0]=e=>{l.page=1,this.getItems()})}),x(o,{icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters())})])),_:1}),V("div",wE,[V("div",VE,[x(d,null,{default:w((()=>[x(n,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.emailModel=e),class:"input custom-text-filter",placeholder:"Email or ID"},null,512),[[G,l.emailModel]])])),_:1})])),_:1})]),V("div",PE,[x(u,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{class:""},{default:w((()=>[x(n,null,{default:w((()=>[x(c,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[3]||(t[3]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[4]||(t[4]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),l.drawer?(g(),k(m,{key:0,drawer:l.drawer,ref:"leadFilter",filters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date_approve",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"statuses",type:"input",label:"Phone"},{id:"urls",type:"input",label:"Phone"},{id:"ftd",type:"input",label:"Phone"}]},null,8,["drawer"])):I("",!0),V("div",xE,[V("div",CE,[C(" Showing "),1==l.page?(g(),f("span",IE,P(l.page),1)):(g(),f("span",DE,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(p,{key:0,style:{},"current-page":l.page,"onUpdate:currentPage":[t[5]||(t[5]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(y,{class:"d-flex flex-start status-button choose_filter",style:{"padding-left":"0"}},{default:w((()=>[x(h,{loading:e.buttonLoading,class:_([[{active:"all"==l.isActive}],"mt-1 mr-1"]),onClick:t[6]||(t[6]=e=>i.getLeadsByType("all"))},{default:w((()=>[C("Sent / Hold - "+P(e.leadCounts.all),1)])),_:1},8,["loading","class"]),x(h,{loading:e.buttonLoading,class:_([[{active:"send"==l.isActive}],"mt-1 mr-1"]),onClick:t[7]||(t[7]=e=>i.getLeadsByType("send"))},{default:w((()=>[C("Sent - "+P(e.leadCounts.send),1)])),_:1},8,["loading","class"]),x(h,{loading:e.buttonLoading,class:_([[{active:"hold"==l.isActive}],"mt-1 mr-1"]),onClick:t[8]||(t[8]=e=>i.getLeadsByType("hold"))},{default:w((()=>[C("Hold - "+P(e.leadCounts.hold),1)])),_:1},8,["loading","class"]),x(h,{loading:e.buttonLoading,class:_([[{active:"not_valid"==l.isActive}],"mt-1 mr-1"]),onClick:t[9]||(t[9]=e=>i.getLeadsByType("invalid"))},{default:w((()=>[C("Invalid - "+P(e.leadCounts.invalid),1)])),_:1},8,["loading","class"]),x(h,{loading:e.buttonLoading,class:_([[{active:"duplicates"==l.isActive}],"mt-1 mr-1"]),onClick:t[10]||(t[10]=e=>i.getLeadsByType("duplicate"))},{default:w((()=>[C("Duplicate - "+P(e.leadCounts.duplicate),1)])),_:1},8,["loading","class"]),x(h,{loading:e.buttonLoading,class:_([[{active:"error_leads"==l.isActive}],"mt-1"]),onClick:t[11]||(t[11]=e=>i.getLeadsByType("error"))},{default:w((()=>[C("Error - "+P(e.leadCounts.error),1)])),_:1},8,["loading","class"])])),_:1}),x(b,{headers:l.leadsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,class:"leads-table"},{"item-status":w((({status:e,valid:t,is_double:a,is_double_b:s})=>["New"==e?(g(),k(v,{key:0,color:"info",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):"No send"==e?(g(),k(v,{key:1,color:"solid",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):"Error"==e||"error"==e?(g(),k(v,{key:2,color:"danger",style:{background:"#c4184e"},rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):1==a||1==s?(g(),k(v,{key:3,style:{background:"#39c3ff",color:"white"},rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):e&&1==t?(g(),k(v,{key:4,color:"primary",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024)):!e||0!=t&&null!=t?I("",!0):(g(),k(v,{key:5,color:"danger",rounded:""},{default:w((()=>[C(P(e),1)])),_:2},1024))])),"item-is_action":w((e=>[e.is_action?(g(),f(j,{key:0},[C(" Yes ")],64)):(g(),f(j,{key:1},[C(" No ")],64))])),"item-query_parameters":w((e=>[e.query_parameters?Y((g(),k(v,{key:0,color:"solid",label:e.query_parameters.substring(0,10),onClick:t=>{i.copyText(e.query_parameters)},style:{"border-radius":"10px",padding:"12px","font-size":"12px"}},null,8,["label","onClick"])),[[S,e.query_parameters.substring(0,150)+"..."]]):I("",!0)])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(p,{key:1,"current-page":l.page,"onUpdate:currentPage":[t[12]||(t[12]=e=>l.page=e),i.updatePaginate],"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)],64)}]]),$E={components:{"create-landing":lx},name:"WebmasterLandings",data:()=>({addLanding:!1,queryParams:"?add_name={{ad.name}}&placement={{placement}}",queryParamsGoogle:"?utm_content=text&utm_term=text&gclid={gclid}",createLanding:{},drawer:!1,createDialog:!1,deleteDialog:{item:{},open:!1},landing:{land:null,white:null,preland:null,domain_id:null,main_folder:"",pre_landing_id:null,pre_landing_folder:"",white_id:null,white_folder:"",land_id:null,land_folder:"",device_id:""},filterValues:{domain_ids:[],status:[]},archives:"",archivesList:["Да","Нет"],loading:!0,serverErrors:{},page:1,rowsPerPage:25,Headers:[{text:"ID",sortable:!1,value:"id"},{text:"Buyer",sortable:!1,value:"user"},{text:"Source",sortable:!1,value:"source"},{text:"Domain",sortable:!1,value:"url"},{text:"Prelanding",sortable:!1,value:"prelanding"},{text:"Landing",sortable:!1,value:"landing"},{text:"White Page",sortable:!1,value:"white"},{text:"Pixel | TM",sortable:!1,value:"tag"},{text:"Клоака",value:"is_active",sortable:!1},{text:"Действия",value:"action",sortable:!1}]}),computed:{...be(["domainFilters","itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","domainSelect","archivePreLand","archiveWhite","archiveLand"])},mounted(){s({title:this.$route.meta.title}),this.getDomainsForCurrentUser(),this.getArchiveByTypeSelect(),this.getItems()},methods:{...Se(["getDomainsForCurrentUser","getArchiveByTypeSelect"]),openLanding(){this.addLanding=!this.addLanding},changeStatus(e){this.disabled=!0,this.$store.dispatch("landingActivityToggle",{item:e}).then((e=>{console.log(22)})).catch((e=>this.serverErrors=e.response.data.errors)).finally((()=>this.$store.commit("disableOverlay")))},copyText(e){let t="https://"+e+"?add_name={ad.name}&placement={placement}";navigator.clipboard.writeText(t).then((()=>{})).catch((()=>{}))},deleteItem(e){this.deleteDialog.open=!0,this.deleteDialog.item=e},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},iconFilter:(e,t)=>e.length==t.length?"mdi-close-box":0!=t.length?"mdi-minus-box":"mdi-checkbox-blank-outline",toggleFilter(e,t,a){t=t.length!=e.length?e.map((e=>e.id)):[],console.log(a),console.log(this.filterValues),this.filterValues[a]=t,this.getItems()},paginationChangeHandler(e){this.getItems(e)},getItems(e=1){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.$store.commit("enableOverlay"),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"landings",page:e,filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},editItem(e){this.$refs.createLanding.disableLeadInputs=!0,this.$refs.createLanding.landing=e,this.$refs.createLanding.landing.preland=e.pre_land,this.$refs.createLanding.landing.update=!0,console.log(this.$refs.createLanding.landing)},getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))},create(){this.$store.commit("enableOverlay"),this.$store.dispatch("createLanding",this.landing).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))},refundItem(e){this.deleteDialog.item=e,this.archiveItemConfirm("active")},archiveItemConfirm(e="archive"){this.$store.commit("enableOverlay"),this.deleteDialog.item.status=e,console.log(this.deleteDialog.item),this.$store.dispatch("archiveLanding",{item:this.deleteDialog.item}).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>{this.$store.commit("disableOverlay"),console.log(e)}))},deleteItemConfirm(){this.$store.commit("enableOverlay"),this.$store.dispatch("deleteLanding",this.deleteDialog.item.id).then((e=>{this.$store.commit("disableOverlay"),this.deleteDialog.open=!1})).catch((e=>this.$store.commit("disableOverlay")))}}},TE={class:"list-flex-toolbar flex-list-v1"},AE={key:0},OE={key:0},FE={key:1},UE={key:2},ME={key:0},EE={key:0},BE={key:0};const zE=fe($E,[["render",function(e,t,a,s,l,i){const o=bt,r=xi,n=yt,d=$("create-landing"),u=$("v-list-item-group"),c=$("v-list"),m=$("v-col"),p=$("v-btn"),h=$("v-tooltip"),y=$("v-switch"),_=$("EasyDataTable"),v=nr,b=$("v-row"),S=$("v-container");return g(),k(S,{fluid:""},{default:w((()=>[V("div",TE,[x(n,{style:{"margin-right":"5px"}},{default:w((()=>[x(o,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.openLanding},{default:w((()=>[C(" Add Landing")])),_:1},8,["onClick"]),x(r,{style:{"margin-bottom":"0"},icon:"feather:filter",color:"primary",onClick:t[0]||(t[0]=t=>e.openFilters())})])),_:1})]),l.addLanding?(g(),k(m,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(c,{style:{overflow:"hidden",padding:"20px",position:"inherit"}},{default:w((()=>[x(u,{class:"filters__content"},{default:w((()=>[x(d,{ref:"createLanding",domainSelect:e.domainSelect},null,8,["domainSelect"])])),_:1})])),_:1})])),_:1})):I("",!0),x(_,{headers:l.Headers,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-source":w((e=>[C("--\x3e "),e.source?(g(),f("span",AE,P(e.source.name),1)):I("",!0)])),"item-url":w((e=>[x(h,{bottom:""},{activator:w((({on:t,attrs:a})=>[e.source&&"FB"==e.source.name?(g(),k(p,R({key:0,text:"",class:"font-weight-light copy-btn"},a,ee(t),{onClick:t=>i.copyText(e.url+l.queryParams)}),{default:w((()=>[C(P(e.url),1)])),_:2},1040,["onClick"])):!e.source||"Google"!=e.source.name&&"YouTube"!=e.source.name?(g(),k(p,R({key:2,text:"",class:"font-weight-light copy-btn"},a,ee(t),{onClick:t=>i.copyText(e.url)}),{default:w((()=>[C(P(e.url),1)])),_:2},1040,["onClick"])):(g(),k(p,R({key:1,text:"",class:"font-weight-light copy-btn"},a,ee(t),{onClick:t=>i.copyText(e.url+l.queryParamsGoogle)}),{default:w((()=>[C(P(e.url),1)])),_:2},1040,["onClick"]))])),default:w((()=>[e.source&&"FB"==e.source.name?(g(),f("span",OE," https://"+P(e.url+l.queryParams),1)):I("",!0),!e.source||"Google"!=e.source.name&&"YouTube"!=e.source.name?(g(),f("span",UE,"https://"+P(e.url),1)):(g(),f("span",FE," https://"+P(e.url+l.queryParamsGoogle),1))])),_:2},1024)])),"item-prelanding":w((e=>[e.pre_land?(g(),f("span",ME,P(e.pre_land.name),1)):I("",!0)])),"item-landing":w((e=>[e.land?(g(),f("span",EE,P(e.land.name),1)):I("",!0)])),"item-white":w((e=>[e.white?(g(),f("span",BE,P(e.white.name),1)):I("",!0)])),"item-is_active":w((e=>[e.cloack_id?(g(),k(y,{key:0,color:"#009688",modelValue:e.is_active,"onUpdate:modelValue":t=>e.is_active=t,onChange:t=>i.changeStatus(e)},null,8,["modelValue","onUpdate:modelValue","onChange"])):I("",!0)])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(v,{key:1,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(b,null,{default:w((()=>[x(m,{cols:"12"})])),_:1})])),_:1})}]]),jE={name:"Spending",data:()=>({drawer:!1,editItem:{id:null},showEdit:null,newItem:{spend:"",date:xe(new Date).format("YYYY-MM-DD"),spending_category_id:"",name:""},dateModel:new Date,dateCreate:xe(new Date).format("YYYY-MM-DD"),datesModel:{start:"",end:""},loading:!0,createDialog:!1,editedDialog:{id:"",url:"",user:""},serverErrors:{},headers:[{text:"Название",sortable:!1,value:"name"},{text:"Дата",sortable:!1,value:"date"},{text:"Категория",sortable:!1,value:"spending_category"},{text:"Потрачено",sortable:!1,value:"spend_total"},{text:"Заработано",sortable:!1,value:"total_pay"},{text:"Профит",sortable:!1,value:"profit"},{text:"CPL",sortable:!1,value:"CPL"},{text:"Кол-во лидов",sortable:!1,value:"count_leads"},{text:"",value:"data-table-expand"}],headersCategories:[],filterValues:{date_start:xe().startOf("month").format("YYYY-MM-DD"),date_end:xe().endOf("month").format("YYYY-MM-DD"),country_ids:[],source_ids:[]},spending_cats:[]}),computed:{...be(["spending","countriesSelect","sourcesSelect","spendingCategoriesSelect"])},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getCountriesSelect(),this.getSourcesSelect(),this.getSpendingCategoriesSelect()},watch:{newItem:{handler(){this.serverErrors={}},deep:!0},dateModel(){this.newItem.date=xe(this.dateModel).format("YYYY-MM-DD")},dateCreate(){let e=new Date(this.dateCreate);this.newItem.date=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()},datesModel(){"object"==typeof this.datesModel&&null!=this.datesModel?(this.filterValues.date_start=xe(this.datesModel.start).format("YYYY-MM-DD"),this.filterValues.date_end=xe(this.datesModel.end).format("YYYY-MM-DD")):(this.filterValues.date_start="",this.filterValues.date_end=""),this.getItems()}},methods:{...Se(["getCountriesSelect","getSourcesSelect"]),getSpendingCategoriesSelect(){this.$store.dispatch("getSpendingCategoriesSelect").then((e=>{this.spending_cats=e.data.data,e.data.data&&this.spending_cats.forEach((e=>{this.headersCategories.push({text:e.title,sortable:!1,value:e.name})}))})).catch((e=>this.serverErrors=e.response.data.errors))},updateItem(e){this.saveSpend(e)},openFilters(){this.drawer=!this.drawer},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},createOpen(){this.createDialog=!0},getItems(){this.loading=!0;let e=this.filterValues;this.$store.dispatch("getSpending",{filtersValues:e}).then((()=>this.loading=!1))},addEdit(e){this.showEdit=e},edit(e){this.editItem=e},cancelEdit(){this.editItem={}},saveSpend(e){let t={item:e};this.$store.dispatch("updateSpending",t).then((()=>{})).catch((e=>{console.log(e),this.serverErrors=e.response.data.errors})).finally((()=>{this.editItem={},this.showEdit=null,this.getItems()}))},create(){this.$store.dispatch("createSpending",this.newItem).then((()=>{this.createDialog=!1,this.newItem.spend="",this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors)).finally((()=>{this.$store.dispatch("getBalance",{})}))},deleteItem(e){confirm("Вы действительно хотите удалить трату?")&&this.$store.dispatch("deleteSpending",e).then((()=>{this.getItems(),alert("Успешно!")}))}}},RE={class:"list-flex-toolbar flex-list-v1"},NE={class:"columns is-multiline"},HE={class:"column is-4"},WE={class:"column is-4"},YE={class:"column is-4"},GE=["colspan"],qE={key:0},JE=[V("span",null,"x.value",-1)],KE={class:"text-left",style:{width:"100%"}},XE={style:{"text-align":"right","min-width":"100px"}},ZE=V("span",{class:"headline"},"Новая трата",-1);const QE=fe(jE,[["render",function(e,t,a,s,l,i){const o=bt,r=xi,n=yt,d=Ft,u=Wt,c=Nt,m=$("VDatePicker"),p=Et,h=$("v-selects"),y=$("v-list-item-group"),_=$("v-list"),v=$("v-col"),b=$("EasyDataTable"),S=$("v-simple-table"),D=$("v-row"),L=$("v-container"),T=$("v-card-title"),A=$("v-card-text"),O=$("v-spacer"),F=$("v-btn"),U=$("v-card-actions"),M=ft,E=$("v-dialog");return g(),f(j,null,[x(L,{fluid:""},{default:w((()=>[V("div",RE,[x(n,null,{default:w((()=>[x(o,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Spend ")])),_:1},8,["onClick"]),x(r,{icon:"feather:filter",color:"primary",onClick:t[0]||(t[0]=e=>i.openFilters()),style:{"margin-bottom":"0"}})])),_:1})]),l.drawer?(g(),k(v,{key:0,cols:"12",style:{padding:"0","margin-bottom":"20px"}},{default:w((()=>[x(_,{style:{overflow:"hidden",padding:"20px",position:"inherit"}},{default:w((()=>[x(y,{class:"filters__content"},{default:w((()=>[V("div",NE,[V("div",HE,[x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Date")])),_:1}),x(c,null,{default:w((()=>[x(m,{modelValue:l.datesModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.datesModel=e),"is-range":"",is24hr:!0},{default:w((({inputValue:e,inputEvents:t})=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(u,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1})]),V("div",WE,[x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Countries")])),_:1}),x(h,{modelValue:l.filterValues.country_ids,"onUpdate:modelValue":[t[2]||(t[2]=e=>l.filterValues.country_ids=e),t[4]||(t[4]=e=>i.getItems())],reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,multiple:"","push-tags":"",onChange:t[3]||(t[3]=e=>i.getItems()),closeOnSelect:!1,"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})]),V("div",YE,[x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Source")])),_:1}),x(h,{modelValue:l.filterValues.source_ids,"onUpdate:modelValue":[t[5]||(t[5]=e=>l.filterValues.source_ids=e),t[7]||(t[7]=e=>i.getItems())],reduce:e=>e.id,label:"name",options:e.sourcesSelect,multiple:"","push-tags":"",closeOnSelect:!1,onChange:t[6]||(t[6]=e=>i.getItems()),"append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])])])),_:1})])),_:1})])),_:1})):I("",!0),x(D,null,{default:w((()=>[x(v,{cols:"10"},{default:w((()=>[x(b,{headers:l.headers,items:e.spending.items,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{expand:w((e=>[V("td",{colspan:l.headers.length,class:"expand-container"},[x(b,{headers:l.headersCategories,items:e.spendByCategory,"disable-pagination":!0,"hide-default-footer":!0,"item-key":"date",class:"elevation-1"},{body:w((e=>[(g(!0),f(j,null,K(e,(e=>(g(),f(j,null,[e.category==l.headersCategories.id?(g(),f("td",qE,JE)):I("",!0)],64)))),256))])),_:2},1032,["headers","items"])],8,GE)])),_:1},8,["headers","items","loading"])])),_:1}),x(v,{cols:"2"},{default:w((()=>[x(S,{class:"total-table"},{default:w((()=>[V("tbody",null,[(g(!0),f(j,null,K(e.spending.total,((e,t)=>(g(),f("tr",{key:t},[V("td",KE,P(e.title),1),V("td",XE,P(e.value),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1}),x(E,{modelValue:l.createDialog,"onUpdate:modelValue":t[15]||(t[15]=e=>l.createDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(M,{color:"#1E272C"},{default:w((()=>[x(T,null,{default:w((()=>[ZE])),_:1}),x(A,null,{default:w((()=>[x(L,null,{default:w((()=>[x(D,null,{default:w((()=>[x(v,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Date")])),_:1}),x(c,null,{default:w((()=>[x(m,{modelValue:l.dateCreate,"onUpdate:modelValue":t[8]||(t[8]=e=>l.dateCreate=e),mode:"date"},{default:w((({inputValue:e,inputEvents:t})=>[x(c,{icon:"feather:calendar"},{default:w((()=>[x(u,R({value:e},ee(t)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])),_:1}),x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Spend Type")])),_:1}),x(h,{modelValue:l.newItem.spending_category_id,"onUpdate:modelValue":t[9]||(t[9]=e=>l.newItem.spending_category_id=e),reduce:e=>e.id,label:"name",options:e.spendingCategoriesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1}),x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("GEO")])),_:1}),x(h,{modelValue:l.newItem.country_id,"onUpdate:modelValue":t[10]||(t[10]=e=>l.newItem.country_id=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1}),x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Source")])),_:1}),x(h,{modelValue:l.newItem.source_id,"onUpdate:modelValue":t[11]||(t[11]=e=>l.newItem.source_id=e),reduce:e=>e.id,label:"name",options:e.sourcesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1}),x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Spend")])),_:1}),x(c,null,{default:w((()=>[x(u,{type:"text",placeholder:"",modelValue:l.newItem.spend,"onUpdate:modelValue":t[12]||(t[12]=e=>l.newItem.spend=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(p,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Title")])),_:1}),x(c,null,{default:w((()=>[x(u,{type:"text",placeholder:"",modelValue:l.newItem.name,"onUpdate:modelValue":t[13]||(t[13]=e=>l.newItem.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(U,null,{default:w((()=>[x(O),x(F,{color:"#009688",text:"",onClick:t[14]||(t[14]=e=>l.createDialog=!1)},{default:w((()=>[C("Отменить")])),_:1}),x(F,{color:"#009688",text:"",onClick:i.create},{default:w((()=>[C("Создать")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),eB={name:"AllStatistics",components:{StatisticsFilter:Ok,DatePicker:io},data:()=>({period:"today",drawer:!1,loading:!0,range:{},datesModel:{start:new Date,end:new Date},landStatHeaders:[{text:"Funnel",sortable:!1,value:"funnel"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"No Answer",sortable:!1,value:"no_answer_leads_count"},{text:"Conversations",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"},{text:"Cost",sortable:!1,value:"cost"},{text:"Net Profit",sortable:!1,value:"profit"},{text:"ROI",sortable:!1,value:"roi"}],filterValues:{date_start:"",date_end:""}}),computed:{...be(["webmasterStats","landingStats","offerStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"])},mounted(){s({title:this.$route.meta.title}),this.getLandStats()},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start=a,this.filterValues.date_end=s}else this.filterValues.date_start="",this.filterValues.date_end="";this.getStatsCustomDate()}},methods:{selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period=null,this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.period=null,this.refreshTables()},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.period=e,this.refreshTables()},getStatsToday(){this.getLandStats()},getStatsThisWeek(){this.getLandStats("this_week")},getStatsLastWeek(){this.getLandStats("last_week")},getStatsThisMonth(){this.getLandStats("this_month")},getStatsLastMonth(){this.getLandStats("last_month")},getStatsCustomDate(){this.getLandStats(this.datesModel)},refreshTables(){this.getLandStats()},getLandStats(){let e,t=this.period;this.filterValues.period=this.period,e="string"==typeof t?"period="+this.period:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("getLandingStats",{path:"landing-names/statistics",filterValues:e}).then((()=>this.loading=!1))}}},tB={class:"v-flex flex-pagination top-pagination pagination is-rounded",style:{display:"flex","justify-content":"end"}},aB={class:"buttons"},sB=["innerHTML"],lB=["innerHTML"],iB=["innerHTML"],oB=["innerHTML"];const rB=fe(eB,[["render",function(e,t,a,s,l,i){const o=$("DatePicker"),r=$("EasyDataTable"),n=$("v-col"),d=$("v-row");return g(),f(j,null,[V("div",tB,[V("div",aB,[x(o,{class:"mr-1",period:l.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"])])]),x(d,null,{default:w((()=>[x(n,{cols:"12",md:"12"},{default:w((()=>[x(r,{headers:l.landStatHeaders,items:e.landingStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,sB)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,lB)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,iB)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,oB)])),_:1},8,["headers","items","loading"])])),_:1})])),_:1})],64)}]]),nB={name:"Notifications",data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1}),mounted(){s({title:this.$route.meta.title}),this.getItems(1)},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"]),classObject:()=>({})},methods:{dateFormat:e=>(console.log(xe(e).fromNow()),xe(e).fromNow()),allDateFormat(e){return this.dateToYMD(e)},isToday(e){let t=new Date(e);const a=new Date;return console.log(22),console.log(a.toDateString()),console.log(t.toDateString()),a.toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},dB=e=>(N("data-v-1930095e"),e=e(),H(),e),uB={class:"timeline-wrapper"},cB=dB((()=>V("div",{class:"timeline-header"},null,-1))),mB={class:"timeline-wrapper-inner"},pB={class:"timeline-container"},hB={class:"date"},gB={class:"content-wrap"},fB={class:"content-box"},yB=dB((()=>V("div",{class:"status"},null,-1))),_B={class:"box-text"},vB={class:"meta-text"},bB={class:"name"},SB={class:"name"},kB=dB((()=>V("br",null,null,-1))),wB={class:"box-end"},VB={key:0,class:"load-more-wrap has-text-centered"};const PB=fe(nB,[["render",function(e,t,a,s,l,i){const o=$i,r=bt;return g(),f("div",uB,[cB,V("div",mB,[V("div",pB,[(g(!0),f(j,null,K(l.notifications,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[V("div",hB,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",gB,[V("div",fB,[yB,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",_B,[V("div",vB,[V("p",null,[V("span",bB,P(e.data.name),1),C(" new FTD on "),V("span",SB,"Lead #"+P(e.data.id),1),kB,C(" Created Date - "+P(e.data.created_at),1)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",wB,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],2)))),128))]),e.totalPagesItemsPagination!=e.currentPageItemsPagination?(g(),f("div",VB,[x(r,{onClick:t[0]||(t[0]=t=>i.getItems(e.currentPageItemsPagination+1)),"dark-outlined":""},{default:w((()=>[C("Load More")])),_:1})])):I("",!0)])])}],["__scopeId","data-v-1930095e"]]);const xB=fe({name:"BuyerDashboard",components:{DashboardTable:Jo},data:()=>({dashboardFilters:[{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"},{id:"campaigns",type:"select",label:"Campaigns"}],mainCharts:[{id:"leads",name:"Leads"},{id:"ftd",name:"FTD"},{id:"profit",name:"Profit"},{id:"net_profit",name:"Net Profit"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("DashboardTable");return g(),k(o,{filters:l.dashboardFilters,mainCharts:l.mainCharts},null,8,["filters","mainCharts"])}]]);const CB=fe({components:{Table:ah,LeadSettings:Lh},name:"BuyerLeads",data:()=>({settingsOpen:!1,leadsHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Offer ID",sortable:!1,value:"offer_id"},{text:"Email",sortable:!1,value:"email"},{text:"Full Name",sortable:!1,value:"full_name"},{text:"GEO",sortable:!1,value:"country"},{text:"Domain",sortable:!1,value:"landing"},{text:"UTM",sortable:!1,value:"query_parameters"},{text:"Funnel",sortable:!1,value:"landing_name"},{text:"Status",sortable:!1,value:"status"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Description",sortable:!1,value:"description"},{text:"Created Date",sortable:!1,value:"date"}],leadsFilters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers_id",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"statuses",type:"input",label:"Phone"},{id:"keitaro_id",type:"input",label:"Sub ID"},{id:"urls",type:"input",label:"Phone"},{id:"payment_type_id",type:"input",label:"Payment type"},{id:"sale",type:"input",label:"Sale"},{id:"is_autologin",type:"input",label:"Autologin"},{id:"comment",type:"input",label:"Comment"},{id:"ftd",type:"input",label:"Phone"},{id:"utm",type:"input",label:"Phone"}],leadsSettingsData:[{name:"Offer ID",id:"offer_id"},{name:"Email",id:"email"},{name:"Name",id:"full_name"},{name:"Phone",id:"phone"},{name:"GEO",id:"country"},{name:"City",id:"city"},{name:"Domain",id:"landing"},{name:"Source",id:"source"},{name:"Funnel",id:"landing_name"},{name:"Status",id:"status"},{name:"Broker Comment",id:"broker_comment"},{name:"Lang",id:"language"},{name:"FTD",id:"is_action"},{name:"UTM",id:"query_parameters"},{name:"Created Date",id:"date"},{name:"Date Send",id:"sended_date"},{name:"Date FTD",id:"action_time"},{name:"Auth",id:"is_autologin"},{name:"Buy",id:"buy"},{name:"Payment Type",id:"payment_type"},{name:"Comment",id:"comment"},{name:"Description",id:"description"}],leadsSettingsDataUtms:[],leadsSettingsTabs:[{title:"All",name:"everything",checkbox:!1},{title:"Sent / Hold",name:"all",checkbox:!0},{title:"Sent",name:"send",checkbox:!0},{title:"Hold",name:"hold",checkbox:!0},{title:"Valid",name:"valid",checkbox:!1},{title:"Invalid",name:"invalid",checkbox:!0},{title:"Duplicate",name:"duplicate",checkbox:!0},{title:"Dupl Broker",name:"duplicate_b",checkbox:!1},{title:"Error",name:"error",checkbox:!0},{title:"Removed",name:"removed",checkbox:!0}]}),mounted(){s({title:this.$route.meta.title}),this.getUtmFields(),this.leadsPageTabs&&this.leadsPageTabs.length&&(this.leadsSettingsTabs=this.leadsPageTabs)},methods:{updateLeadsSettingsData(e){this.leadsSettingsData=e},updateLeadsHeader(e){this.leadsHeader=e},updateSettingsOpen(){this.settingsOpen=!1},updateLeadsSettingsDataUtms(e){this.leadsSettingsDataUtms=e},getUtmFields(){this.$store.dispatch("getUtmFields").then((e=>{if(console.log(e.data.data),e.data.data&&e.data.data.length)for(let t=0;t<e.data.data.length;t++)this.leadsSettingsDataUtms.push(e.data.data[t])}))},updateLeadsSettingsTabs(e){this.leadsSettingsTabs=e}},computed:{...be(["leadsPageTabs"])}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("LeadSettings");return g(),f(j,null,[x(o,{leadFilters:l.leadsFilters,headers:l.leadsHeader,enableSelected:!1,leadsSettingsTabs:l.leadsSettingsTabs,ref:"table"},null,8,["leadFilters","headers","leadsSettingsTabs"]),x(r,{smallFormOpen:l.settingsOpen,leadsSettingsData:l.leadsSettingsData,leadsHeader:l.leadsHeader,"onUpdate:leadsSettingsData":i.updateLeadsSettingsData,leadsSettingsDataUtms:l.leadsSettingsDataUtms,leadsSettingsTabs:l.leadsSettingsTabs,"onUpdate:leadsStetingsDataUtms":i.updateLeadsSettingsDataUtms,"onUpdate:leadsHeader":i.updateLeadsHeader,"onUpdate:settingsOpen":i.updateSettingsOpen,"onUpdate:leadsSettingsTabs":i.updateLeadsSettingsTabs},null,8,["smallFormOpen","leadsSettingsData","leadsHeader","onUpdate:leadsSettingsData","leadsSettingsDataUtms","leadsSettingsTabs","onUpdate:leadsStetingsDataUtms","onUpdate:leadsHeader","onUpdate:settingsOpen","onUpdate:leadsSettingsTabs"])],64)}]]);const IB=fe({name:"BuyerStatistics",components:{StatisticsTable:Hw},mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-container");return g(),k(r,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{funnelTable:!0,countryTable:!0})])),_:1})}]]);const DB=fe({name:"Domains",components:{Table:s$},setup(){Xr().setPageTitle("Domains")},data:()=>({filters:[],headers:[]})},[["render",function(e,t,a,s,l,i){const o=$("Table");return g(),k(o,{filters:l.filters,headers:l.headers},null,8,["filters","headers"])}]]),LB={name:"StatisticsTable",components:{StatisticsFilter:Ok,DatePicker:io},props:["userTable","funnelTable","campaignTable","teamleadsTable","filters","countryTable","sourceTable"],data(){return{activeTab:"buying",tabs:[{label:"Buying",value:"buying"},{label:"Network",value:"network"}],serverOptions:{page:1,rowsPerPage:1e3,sortBy:"id",sortType:"desc"},drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},ftdType:[{name:"FTD - By Date",value:"ftd_by_date"},{name:"Month Deposits",value:"ftd_month"},{name:"Past Months Deposits",value:"ftd_past"}],sendTypes:[{name:"Total",value:"total"},{name:"Sended",value:"sended"}],dateTypes:[{name:"Send Date",value:"created_at"},{name:"Created Date",value:"sended_date"}],offerStatHeaders:[{text:"Manager",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"Nbt",sortable:!1,value:"no_answer_leads_count"},{text:"FTD",sortable:!1,value:"ftd"},{text:"Revenue",sortable:!1,value:"revenue"}],filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,utmParam:[],dateType:this.dateType,sendType:"total",source_ids:[],ftdType:"ftd_by_date",type:"manager"},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:"",expandedRows:[]}},mounted(){this.filterValues.dateType=this.dateType,this.refreshTables()},methods:{selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period=null,this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.period=null,this.refreshTables()},changeDate(e){this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.period=e,this.refreshTables()},refreshTables(){this.getUserStats()},generateFilterParams(){let e=this.period;this.filterValues.period=this.period;let t="";if(t="string"==typeof e&&""!=e?"period="+e:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,t+="&sendType="+this.filterValues.sendType,t+="&dateType="+this.filterValues.dateType,this.filterValues.web_master_ids.length>0&&(t+="&web_master_ids="+this.filterValues.web_master_ids.join(",")),this.filterValues.country_ids.length>0&&(t+="&country_ids="+this.filterValues.country_ids.join(",")),this.filterValues.landing_name_ids.length>0&&(t+="&landing_name_ids="+this.filterValues.landing_name_ids.join(",")),this.filterValues.offer_ids.length>0&&(t+="&offer_ids="+this.filterValues.offer_ids.join(",")),this.filterValues.source_ids.length>0&&(t+="&source_ids="+this.filterValues.source_ids.join(",")),this.filterValues.utmParam){let e="";for(let t in this.filterValues.utmParam)e+=this.filterValues.utmParam[t].join(",")+",";e=e.replace(/,+$/,""),t+=`&utmParam=${e}`}return this.filterValues.utm&&(t+=`&utm=${this.filterValues.utm.join(",")}`),this.filterValues.ftd_date>0&&(t+="&ftd_date="+this.filterValues.ftd_date),t+="&type=manager",t},getUserStats(){let e;e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getLandingStats",{path:"motivation",filterValues:e}).then((()=>{this.loading=!1}))},switchFilters(){console.log("test"),this.drawer=!this.drawer}},watch:{"filterValues.dateType":function(e,t){this.$store.dispatch("updateDateType",e)}},computed:{...be(["typeStat","campaignDetailsStats","webmasterDetailsStats","webmasterStats","teamleadsStats","teamleadDetailsStats","teamleadWebmastersStats","landingStats","sourceStats","offerStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","dateType","getRole","countryStats","landingStats"])}},$B={class:"buttons filter-buttons"},TB={class:"multiselect-single-label"},AB={class:"select-label-text"},OB={class:"select-label-text"},FB={class:"multiselect-single-label"},UB={class:"select-label-text"},MB={class:"select-label-text"},EB=V("div",{class:"search-results-body"},[V("div",{class:"page-placeholder"},[V("div",{class:"placeholder-content"},[V("img",{class:"light-image",src:Ar,alt:""}),V("img",{class:"dark-image",src:Or,alt:""}),V("h3",{class:"dark-inverted"},"We couldn't find any matching results."),V("p",{class:"is-larger"},"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.")])])],-1),BB=["innerHTML"],zB=["innerHTML"],jB=["innerHTML"],RB=["innerHTML"];const NB=fe({name:"AdminStatistics",components:{StatisticsTable:fe(LB,[["render",function(e,t,a,s,l,i){const o=$("Multiselect"),r=Et,n=$("DatePicker"),d=xi,u=$("StatisticsFilter"),c=$("v-col"),m=$("EasyDataTable"),p=$("v-row");return g(),f(j,null,[V("div",{class:_(["v-flex flex-pagination top-pagination pagination is-rounded statistc-page","buyer"!=e.getRole&&"teamlead"!=e.getRole?"":"justify-end"]),style:{display:"flex","justify-content":"end"}},[V("div",$B,[x(r,{class:"mb-0"},{default:w((()=>[l.filterValues.sendType?(g(),k(o,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.sendType,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filterValues.sendType=e),options:l.sendTypes,placeholder:"Send Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",TB,[V("span",AB,P(e.name),1)])])),option:w((({option:e})=>[V("span",OB,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(r,{class:"mb-0"},{default:w((()=>[l.filterValues.dateType?(g(),k(o,{key:0,class:"perpage-select mr-1",style:{width:"145px"},modelValue:l.filterValues.dateType,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValues.dateType=e),options:l.dateTypes,placeholder:"Date Type",onSelect:i.refreshTables,canDeselect:!1},{singlelabel:w((({value:e})=>[V("div",FB,[V("span",UB,P(e.name),1)])])),option:w((({option:e})=>[V("span",MB,P(e.name),1)])),_:1},8,["modelValue","options","onSelect"])):I("",!0)])),_:1}),x(n,{period:l.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{icon:"feather:filter",style:{margin:"0"},color:"primary",class:"ml-1 mob-hidden switch-filters",onClick:t[2]||(t[2]=e=>i.switchFilters())})])],2),x(p,null,{default:w((()=>[Y(x(c,{cols:"12"},{default:w((()=>[x(u,{drawer:l.drawer,filterValues:l.filterValues,ref:"statisticsFilter",refreshTables:i.refreshTables,filters:a.filters},null,8,["drawer","filterValues","refreshTables","filters"])])),_:1},512),[[ae,l.drawer]]),x(c,{cols:"12",md:"12"},{default:w((()=>[x(m,{headers:l.offerStatHeaders,items:e.landingStats,loading:l.loading,"buttons-pagination":!1,"border-color":!1,ref:"campaignTable","server-options":l.serverOptions,"onUpdate:serverOptions":t[3]||(t[3]=e=>l.serverOptions=e)},{"empty-message":w((()=>[EB])),"item-invalid_leads_count":w((e=>[V("span",{innerHTML:e.invalid_leads_count},null,8,BB)])),"item-valid_leads":w((e=>[V("span",{innerHTML:e.valid_leads},null,8,zB)])),"item-no_answer_leads_count":w((e=>[V("span",{innerHTML:e.no_answer_leads_count},null,8,jB)])),"item-ftd":w((e=>[V("span",{innerHTML:e.ftd},null,8,RB)])),_:1},8,["headers","items","loading","server-options"])])),_:1})])),_:1})],64)}]])},data:()=>({drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,ftd_date:0,utmParam:[],source_ids:[]},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),mounted(){s({title:this.$route.meta.title})},created(){window.addEventListener("resize",this.myEventHandler)},destroyed(){window.removeEventListener("resize",this.myEventHandler)},methods:{myEventHandler(e){console.log(window.innerWidth)},statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-container");return g(),k(r,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{userTable:!0,funnelTable:!0,campaignTable:!0,countryTable:!0,sourceTable:!0,filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"UTM"},{id:"ftd_date",type:"input",label:"Phone"},{id:"utm",type:"input",label:"UTM"}]})])),_:1})}]]),HB={name:"Notifications",data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1}),mounted(){s({title:this.$route.meta.title}),this.getItems(1)},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"]),classObject:()=>({})},methods:{dateFormat:e=>xe(e).fromNow(),allDateFormat(e){return this.dateToYMD(e)},isToday(e){let t=new Date(e);return(new Date).toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},WB=e=>(N("data-v-f8f288f9"),e=e(),H(),e),YB={class:"timeline-wrapper"},GB=WB((()=>V("div",{class:"timeline-header"},null,-1))),qB={class:"timeline-wrapper-inner"},JB={class:"timeline-container"},KB={class:"date"},XB={class:"content-wrap"},ZB={class:"content-box"},QB=WB((()=>V("div",{class:"status"},null,-1))),ez={class:"box-text"},tz={class:"meta-text"},az={class:"name"},sz={class:"name"},lz=WB((()=>V("br",null,null,-1))),iz={class:"box-end"},oz={key:0,class:"load-more-wrap has-text-centered"};const rz=fe(HB,[["render",function(e,t,a,s,l,i){const o=$i,r=bt;return g(),f("div",YB,[GB,V("div",qB,[V("div",JB,[(g(!0),f(j,null,K(l.notifications,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[V("div",KB,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",XB,[V("div",ZB,[QB,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",ez,[V("div",tz,[V("p",null,[V("span",az,P(e.data.name),1),C(" new FTD on "),V("span",sz,"Lead #"+P(e.data.id),1),lz,C(" Created Date - "+P(e.data.created_at),1)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",iz,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],2)))),128))]),e.totalPagesItemsPagination!=e.currentPageItemsPagination?(g(),f("div",oz,[x(r,{onClick:t[0]||(t[0]=t=>i.getItems(e.currentPageItemsPagination+1)),"dark-outlined":""},{default:w((()=>[C("Load More")])),_:1})])):I("",!0)])])}],["__scopeId","data-v-f8f288f9"]]);const nz=fe({name:"BuyerSpend",components:{SpendTable:VL},data:()=>({mainTableHeaders:[{text:"Date",sortable:!1,value:"date"},{text:"GEO",sortable:!1,value:"country"},{text:"Source",sortable:!1,value:"source"},{text:"Funnel",sortable:!1,value:"funnel"},{text:"Comment",sortable:!1,value:"comment"},{text:"Created At",sortable:!1,value:"created_at"}],filters:[{id:"created_date",type:"select",label:"Date"},{id:"funnels",type:"select",label:"Funnel"},{id:"countries",type:"select",label:"GEO"},{id:"sources",type:"select",label:"Source"},{id:"spend_categories",type:"select",label:"Spends Type"},{id:"leads_type",type:"select",label:"Leads Type"},{id:"comment",type:"input",label:"Search by comment"}]}),mounted(){s({title:this.$route.meta.title}),this.addCategoriesToHeaders()},methods:{addCategoriesToHeaders(){this.$store.dispatch("getSpendTypes").then((e=>{console.log(e.data.data),e.data.data&&e.data.data.length&&(e.data.data.forEach((e=>{this.mainTableHeaders.push({text:e.title,value:e.name})})),this.mainTableHeaders.push({text:"Action",value:"action"}))}))}}},[["render",function(e,t,a,s,l,i){const o=$("SpendTable"),r=$("v-container");return g(),k(r,{class:"page_spending",fluid:""},{default:w((()=>[x(o,{filters:l.filters,mainTableHeaders:l.mainTableHeaders},null,8,["filters","mainTableHeaders"])])),_:1})}]]);const dz=fe({name:"FinancierDashboard",components:{DashboardTable:Jo},data:()=>({dashboardFilters:[{id:"users",type:"select",label:"Users"},{id:"created_date",type:"select",label:"Created Date"},{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"},{id:"campaigns",type:"select",label:"Campaigns"}],mainCharts:[{id:"leads",name:"Leads"},{id:"ftd",name:"FTD"},{id:"profit",name:"Profit"},{id:"net_profit",name:"Net Profit"},{id:"cost",name:"Cost"},{id:"income",name:"Income"},{id:"cpl",name:"CPL"},{id:"cpa",name:"CPA"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("DashboardTable");return g(),k(o,{filters:l.dashboardFilters,mainCharts:l.mainCharts},null,8,["filters","mainCharts"])}]]),uz={name:"FinancierStatistics",components:{StatisticsTable:Hw},data:()=>({drawer:!1,loading:!0,range:{},period:"today",filterDate:{start:null,end:null},filterValues:{date_start:"",date_end:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1,ftd_date:0},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),mounted(){s({title:this.$route.meta.title})},methods:{statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start="+this.filterValues.date_start+"&date_end="+this.filterValues.date_end,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},cz=V("span",{class:"headline"},"Please, select statistics to export",-1),mz=V("span",{class:"headline"},"Your link",-1);const pz=fe(uz,[["render",function(e,t,a,s,l,i){const o=$("StatisticsTable"),r=$("v-card-title"),n=bt,d=$("v-col"),u=$("v-row"),c=$("v-container"),m=$("v-card-text"),p=ft,h=$("v-dialog");return g(),k(c,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{userTable:!0,funnelTable:!0,campaignTable:!0,filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"ftd_date",type:"input",label:"Phone"}]}),x(h,{modelValue:l.exportModel,"onUpdate:modelValue":t[0]||(t[0]=e=>l.exportModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[cz])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getWebmastersStats},{default:w((()=>[C("Webmasters")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.getLandingsStats},{default:w((()=>[C("Landings")])),_:1},8,["onClick"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.geOffersStats},{default:w((()=>[C("Offers")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),x(h,{modelValue:l.createOffersStatsLinkModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.createOffersStatsLinkModel=e),"no-click-animation":"","max-width":"750px"},{default:w((()=>[x(p,{color:"#1E272C"},{default:w((()=>[x(r,null,{default:w((()=>[mz])),_:1}),x(m,null,{default:w((()=>[x(c,{class:"create-dialog"},{default:w((()=>[x(u,null,{default:w((()=>[x(d,{cols:"12",sm:"12",md:"12",style:{display:"flex","justify-content":"center",gap:"15px"}},{default:w((()=>[x(n,{class:"mb-4",color:"info",to:"/all/offers-statistic/"+l.currentOffersStatsLink,target:"_blank"},{default:w((()=>[C("Your current public link")])),_:1},8,["to"]),x(n,{class:"filter-button mb-4",color:"primary",elevated:"",onClick:i.createStatisticLink},{default:w((()=>[C("Create new one")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}]]);const hz=fe({name:"FinancierLeads",components:{Table:ah,LeadSettings:Lh},data:()=>({settingsOpen:!1,leadFilters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"emailOrID",type:"input",label:"Email or ID"},{id:"statuses",type:"input",label:"Phone"},{id:"urls",type:"input",label:"Phone"},{id:"ftd",type:"input",label:"Phone"},{id:"valid",type:"input",label:"Phone"},{id:"search_by_query_parameters",type:"input",label:"Search by query parameters"}],leadsSettingsData:[{name:"Offer",id:"offer"},{name:"Name",id:"full_name"},{name:"Email",id:"email"},{name:"GEO",id:"country"},{name:"Domain",id:"landing"},{name:"Source",id:"source"},{name:"Funnel",id:"landing_name"},{name:"Status",id:"status"},{name:"Lang",id:"language"},{name:"FTD",id:"is_action"},{name:"User",id:"user"},{name:"UTM",id:"query_parameters"},{name:"Created Date",id:"date"},{name:"Date Send",id:"sended_date"},{name:"Date FTD",id:"action_time"},{name:"Auth",id:"is_autologin"},{name:"Sub Id",id:"keitaro_id"}],leadsHeader:[{bold:!0,text:"ID",value:"id",icon:""},{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"Email",value:"email",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Domain",value:"landing",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"Status",value:"status",align:"center",icon:""},{bold:!0,text:"FTD",value:"is_action",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"UTM",value:"query_parameters",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Date Send",value:"sended_date",align:"center",icon:""},{bold:!0,text:"Auth",value:"is_autologin",align:"center",icon:""}],leadsSettingsTabs:[{title:"Sent / Hold",name:"all",checkbox:!0},{title:"Sent",name:"send",checkbox:!0},{title:"Hold",name:"hold",checkbox:!0},{title:"Valid",name:"valid",checkbox:!1},{title:"Invalid",name:"invalid",checkbox:!0},{title:"Duplicate",name:"duplicate",checkbox:!0},{title:"Dupl Broker",name:"duplicate_b",checkbox:!1},{title:"Error",name:"error",checkbox:!0},{title:"Removed",name:"removed",checkbox:!0},{title:"Imported",name:"imported",checkbox:!1}]}),mounted(){s({title:this.$route.meta.title}),this.leadsPageTabs&&this.leadsPageTabs.length&&(this.leadsSettingsTabs=this.leadsPageTabs)},methods:{updateLeadsSettingsData(e){this.leadsSettingsData=e},updateLeadsHeader(e){this.leadsHeader=e},updateSettingsOpen(){this.settingsOpen=!1},updateLeadsSettingsTabs(e){this.leadsSettingsTabs=e}},computed:{...be(["leadsPageTabs"])}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("LeadSettings");return g(),f(j,null,[x(o,{leadFilters:l.leadFilters,headers:l.leadsHeader,itemsSelected:null,leadsSettingsTabs:l.leadsSettingsTabs,ref:"table"},null,8,["leadFilters","headers","leadsSettingsTabs"]),x(r,{smallFormOpen:l.settingsOpen,leadsSettingsData:l.leadsSettingsData,leadsHeader:l.leadsHeader,leadsSettingsTabs:l.leadsSettingsTabs,"onUpdate:leadsSettingsData":i.updateLeadsSettingsData,"onUpdate:leadsHeader":i.updateLeadsHeader,"onUpdate:settingsOpen":i.updateSettingsOpen,"onUpdate:leadsSettingsTabs":i.updateLeadsSettingsTabs},null,8,["smallFormOpen","leadsSettingsData","leadsHeader","leadsSettingsTabs","onUpdate:leadsSettingsData","onUpdate:leadsHeader","onUpdate:settingsOpen","onUpdate:leadsSettingsTabs"])],64)}]]);const gz=fe({name:"FinancierSpend",components:{SpendTable:VL},mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("SpendTable"),r=$("v-container");return g(),k(r,{class:"page_spending",fluid:""},{default:w((()=>[x(o)])),_:1})}]]),fz={name:"SpendingCategories",data:()=>({searchModel:"",filterValues:{},rowsPerPage:25,page:1,loading:!0,name:"",title:"",inputLoading:!1,createDialog:!1,placement:"top",serverErrors:{},statusHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Category",sortable:!1,value:"title"},{text:"Actions",sortable:!1,value:"action"}]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","spendingCategories"]),nameErrors(){const e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Введите название"),!this.$v.name.minLength&&e.push("Не менее 2 символов"),!this.$v.name.maxLength&&e.push("Не более 20 символов"),!this.$v.name.serverFailed&&this.hasServerError("name")&&e.push(this.serverErrors.name[0]),e):e}},mounted(){s({title:this.$route.meta.title}),this.getItems(),this.getSpendingCategoriesSelect()},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)},name(){this.serverErrors={}},title(){this.serverErrors={}}},methods:{...Se(["getSpendingCategoriesSelect","saveSpendingCategory"]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),withPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"spending-categories",page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){let e={name:this.name,title:this.title};this.$store.dispatch("createSpendingCategory",e).then((()=>{this.createDialog=!1,this.name="",this.title=""})).catch((e=>this.serverErrors=e.response.data.errors)),this.getItems()},save(){let e={name:this.name,title:this.title};this.$store.dispatch("saveSpendingCategory",{data:e}).then((()=>{this.createDialog=!1,this.name="",this.title=""})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Вы действительно хотите удалить категорию?")&&this.$store.dispatch("deleteSpendingCategory",e).then((()=>{alert("Успешно!")})).catch((e=>console.log(e)))}}},yz={class:"list-flex-toolbar flex-list-v1"},_z=V("span",{class:"headline"},"Create Category",-1);const vz=fe(fz,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=$("v-form"),v=$("v-col"),b=$("v-row"),S=$("v-container"),P=$("v-card-text"),D=$("v-spacer"),L=$("v-btn"),T=$("v-card-actions"),A=ft,O=$("v-dialog");return g(),f(j,null,[V("div",yz,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Category ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.statusHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((({id:e})=>[x(u,{showView:!1,onView:t=>this.$router.push("/admin/users/"+e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(O,{modelValue:l.createDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(A,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[_z])),_:1}),x(P,null,{default:w((()=>[x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(_,{ref:"form"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"Name like 'facebook_adv / drop_fb'",modelValue:l.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Title")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.title,"onUpdate:modelValue":t[3]||(t[3]=e=>l.title=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1}),x(T,null,{default:w((()=>[x(D),x(L,{color:"#009688",text:"",dark:"",onClick:i.createClose},{default:w((()=>[C("Cancel")])),_:1},8,["onClick"]),x(L,{color:"#009688",text:"",dark:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]),bz={class:"error-container"},Sz={class:"error-nav"},kz=["checked"],wz=V("span",null,null,-1),Vz={class:"error-wrapper"},Pz={class:"error-inner has-text-centered"},xz=V("img",{class:"light-image",src:"/assets/error-3-KvMrqC9e.svg",alt:""},null,-1),Cz=V("img",{class:"dark-image",src:"/assets/error-3-dark-DqE0eUol.svg",alt:""},null,-1),Iz=V("h3",{class:"dark-inverted"},"We couldn't find that page",-1),Dz=V("p",null," Looks like we couldn't find that page. Please try again or contact an administrator if the problem persists. ",-1),Lz={class:"button-wrap"},$z=m({__name:"404",setup(e){const t=It();return s({title:"404"}),(e,a)=>{const s=bt;return g(),f("div",bz,[V("div",Sz,[V("label",{class:"dark-mode",tabindex:"0",onKeydown:a[1]||(a[1]=E(B((e=>e.target.click()),["prevent"]),["space"]))},[V("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!v(t).isDark,onChange:a[0]||(a[0]=(...e)=>v(t).onChange&&v(t).onChange(...e))},null,40,kz),wz],32)]),V("div",Vz,[V("div",Pz,[xz,Cz,Iz,Dz,V("div",Lz,[x(s,{color:"primary",elevated:"",rounded:"",onClick:a[2]||(a[2]=t=>e.$router.go(-1))},{default:w((()=>[C(" Take me Back ")])),_:1})])])])])}}}),Tz={name:"Funnels",components:{},setup(){Xr().setPageTitle("Funnels")},data:()=>({newLandingName:{},searchModel:"",filterValues:{},rowsPerPage:25,page:1,loading:!0,name:"",disabled:!1,inputLoading:!1,selectedUser:null,createDialog:!1,serverErrors:{},landsHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"}]}),provide:function(){return{getItems:this.getItems}},mounted(){s({title:this.$route.meta.title}),this.getItems()},methods:{checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),create(){this.$store.dispatch("createLandingName",{name:this.name}).then((()=>{this.createDialog=!1,this.name="",this.$v.$reset()})).catch((e=>this.serverErrors=e.response.data.errors))},deleteItem(e){confirm("Вы действительно хотите удалить лендинг?")&&(this.$store.commit("enableOverlay"),this.$store.dispatch("deleteLandingName",e).then((e=>{this.$store.commit("disableOverlay"),alert("Успешно!")})).catch((e=>this.$store.commit("disableOverlay"))))},createOpen(){this.createDialog=!0},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;this.$store.commit("enableOverlay"),this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"landing-names",page:e,filtersValues:t}).then((()=>this.loading=!1)).finally((()=>this.$store.commit("disableOverlay")))}},watch:{searchModel(){this.checkSearchStr()},page(){this.getItems(this.page)}},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","usersSelect","getRole"])}},Az={class:"list-flex-toolbar flex-list-v1"},Oz=V("span",{class:"headline"},"New Funnel",-1);const Fz=fe(Tz,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=xr,c=$("EasyDataTable"),m=nr,p=$("v-card-title"),h=Ft,y=Wt,_=$("v-col"),v=$("v-row"),b=$("v-container"),S=$("v-card-text"),P=$("v-spacer"),D=$("v-btn"),L=$("v-card-actions"),T=ft,A=$("v-dialog");return g(),f(j,null,[V("div",Az,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add Funnel ")])),_:1},8,["onClick"])])),_:1})]),x(c,{headers:l.landsHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-action":w((({id:t})=>[x(u,{showView:!1,onView:a=>this.$router.push(`/${e.getRole}/users/`+t),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(m,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(A,{modelValue:l.createDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>l.createDialog=e),"max-width":"500px"},{default:w((()=>[x(T,{color:"#1E272C"},{default:w((()=>[x(p,null,{default:w((()=>[Oz])),_:1}),x(S,null,{default:w((()=>[x(b,null,{default:w((()=>[x(v,null,{default:w((()=>[x(_,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(h,null,{default:w((()=>[C("Name")])),_:1}),x(o,null,{default:w((()=>[x(y,{type:"text",placeholder:"",modelValue:l.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.name=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(L,null,{default:w((()=>[x(P),x(D,{color:"#009688",text:"",onClick:i.createClose},{default:w((()=>[C("Close")])),_:1},8,["onClick"]),x(D,{color:"#009688",text:"",onClick:i.create},{default:w((()=>[C("Create")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}]]);const Uz=fe({name:"AffiliateManagerLeads",components:{Table:ah,LeadSettings:Lh},data:()=>({settingsOpen:!1,leadFilters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"phone",type:"input",label:"Phone"},{id:"languages",type:"input",label:"Languages"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"Phone"},{id:"emailOrID",type:"input",label:"Email or ID"},{id:"funnels",type:"input",label:"Phone"},{id:"statuses",type:"input",label:"Phone"},{id:"urls",type:"input",label:"Phone"},{id:"ftd",type:"input",label:"Phone"},{id:"valid",type:"input",label:"Phone"},{id:"fraud",type:"input",label:"Fraud"},{id:"export",type:"input",label:"Export"}],leadsSettingsData:[{name:"Offer",id:"offer"},{name:"Email",id:"email"},{name:"Phone",id:"phone"},{name:"Name",id:"full_name"},{name:"GEO",id:"country"},{name:"City",id:"city"},{name:"Domain",id:"landing"},{name:"Funnel",id:"landing_name"},{name:"Broker Comment",id:"broker_comment"},{name:"Comment",id:"comments"},{name:"Source",id:"source"},{name:"Lang",id:"language"},{name:"Status",id:"status"},{name:"Status History",id:"status_history"},{name:"FTD",id:"is_action"},{name:"Real FTD",id:"ftd_date"},{name:"User",id:"user"},{name:"UTM",id:"query_parameters"},{name:"Created Date",id:"date"},{name:"Date Send",id:"sended_date"},{name:"Date FTD",id:"action_time"},{name:"Auth",id:"is_autologin"},{name:"Autologin IP",id:"autologin_ip"},{name:"Sub Id",id:"keitaro_id"},{name:"Description",id:"description"},{name:"Payment Type",id:"payment_type"},{name:"Buy",id:"buy"},{name:"Sale",id:"sale"},{name:"User Agent",id:"user_agent"},{name:"Real User Agent",id:"frod.userAgent_js"},{name:"Device",id:"frod.device"},{name:"Provider",id:"frod.provider"},{name:"Browser",id:"frod.browser"},{name:"Platform",id:"frod.platform"},{name:"Device Languages",id:"frod.languages"},{name:"RAM",id:"frod.ram"},{name:"Connection",id:"frod.connection"},{name:"GPU",id:"frod.gpu"},{name:"Screen Resolution",id:"frod.screenRes"},{name:"Fingerprint",id:"frod.finger"}],leadsHeader:[{bold:!0,text:"ID",value:"id",icon:""},{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Email",value:"email",align:"center",icon:""},{bold:!0,text:"Domain",value:"landing",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"Status",value:"status",align:"center",icon:""},{bold:!0,text:"FTD",value:"is_action",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"UTM",value:"query_parameters",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Date Send",value:"sended_date",align:"center",icon:""},{bold:!0,text:"Auth",value:"is_autologin",align:"center",icon:""},{bold:!0,text:"Description",value:"description",align:"center",icon:""}],leadsSettingsTabs:[{title:"All",name:"everything",checkbox:!1},{title:"Sent / Hold",name:"all",checkbox:!0},{title:"Sent",name:"send",checkbox:!0},{title:"Hold",name:"hold",checkbox:!0},{title:"Valid",name:"valid",checkbox:!1},{title:"Invalid",name:"invalid",checkbox:!0},{title:"Duplicate",name:"duplicate",checkbox:!0},{title:"Dupl Broker",name:"duplicate_b",checkbox:!1},{title:"FTD",name:"ftd",checkbox:!1},{title:"Error",name:"error",checkbox:!0},{title:"Removed",name:"removed",checkbox:!0},{title:"Imported",name:"imported",checkbox:!1}]}),mounted(){s({title:this.$route.meta.title}),this.leadsPageTabs&&this.leadsPageTabs.length&&(this.leadsPageTabs.length!=this.leadsSettingsTabs.length&&this.leadsPageTabs.push(this.leadsSettingsTabs[0]),this.leadsSettingsTabs=this.leadsPageTabs)},methods:{updateLeadsSettingsData(e){this.leadsSettingsData=e},updateLeadsHeader(e){this.leadsHeader=e},updateSettingsOpen(){this.settingsOpen=!1},updateLeadsSettingsTabs(e){this.leadsSettingsTabs=e}},computed:{...be(["leadsPageTabs"])}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("LeadSettings");return g(),f(j,null,[x(o,{leadFilters:l.leadFilters,headers:l.leadsHeader,itemsSelected:null,leadsSettingsTabs:l.leadsSettingsTabs,ref:"table"},null,8,["leadFilters","headers","leadsSettingsTabs"]),x(r,{smallFormOpen:l.settingsOpen,leadsSettingsData:l.leadsSettingsData,leadsHeader:l.leadsHeader,leadsSettingsTabs:l.leadsSettingsTabs,"onUpdate:leadsSettingsData":i.updateLeadsSettingsData,"onUpdate:leadsHeader":i.updateLeadsHeader,"onUpdate:settingsOpen":i.updateSettingsOpen,"onUpdate:leadsSettingsTabs":i.updateLeadsSettingsTabs},null,8,["smallFormOpen","leadsSettingsData","leadsHeader","leadsSettingsTabs","onUpdate:leadsSettingsData","onUpdate:leadsHeader","onUpdate:settingsOpen","onUpdate:leadsSettingsTabs"])],64)}]]),Mz={name:"AffiliateManagerOffers",components:{CampaignTable:w_},data:()=>({offerHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Daily cap",sortable:!1,value:"daily_cap"},{text:"Weight",sortable:!1,value:"weight"},{text:"Time Cap",sortable:!1,value:"custom_cap",width:140},{text:"Broker",sortable:!1,value:"partner.name"},{text:"Integration",sortable:!1,value:"integration.name"},{text:"Funnels",sortable:!1,value:"landing_names",width:300},{text:"GEO",sortable:!1,value:"countries",width:150},{text:"Sources",sortable:!1,value:"sources",width:200},{text:"Total Cap",sortable:!1,value:"total_cap"},{text:"Status",sortable:!1,value:"is_active"},{text:"Created At",sortable:!1,value:"date"},{text:"Actions",sortable:!1,value:"action"}],offerFilters:[{id:"campaigns"},{id:"funnels"},{id:"brokers"},{id:"integrations"},{id:"countries"}]}),mounted(){s({title:this.$route.meta.title})}},Ez=(e=>(N("data-v-2cc9a0a9"),e=e(),H(),e))((()=>V("div",{class:"campaign_page"},null,-1)));const Bz=fe(Mz,[["render",function(e,t,a,s,l,i){const o=$("CampaignTable");return g(),f(j,null,[Ez,x(o,{headers:l.offerHeader,filters:l.offerFilters},null,8,["headers","filters"])],64)}],["__scopeId","data-v-2cc9a0a9"]]);const zz=fe({name:"AdminCaps",components:{CapsTable:BV},data:()=>({campaignStatusesTabs:[{name:"all",title:"Active"},{name:"active",title:"In Progress"},{name:"completed",title:"Completed"},{name:"tomorrow",title:"Tomorrow"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("CapsTable");return g(),k(o,{campaignStatusesTabs:l.campaignStatusesTabs},null,8,["campaignStatusesTabs"])}]]);const jz=fe({name:"AdminDashboard",components:{DashboardTable:Jo},data:()=>({dashboardFilters:[{id:"users",type:"select",label:"Users"},{id:"created_date",type:"select",label:"Created Date"},{id:"countries",type:"input",label:"Countries"},{id:"funnels",type:"input",label:"Funnels"},{id:"campaigns",type:"select",label:"Campaigns"}],mainCharts:[{id:"leads",name:"Leads"},{id:"ftd",name:"FTD"},{id:"profit",name:"Profit"},{id:"net_profit",name:"Net Profit"},{id:"cost",name:"Cost"},{id:"income",name:"Income"},{id:"cpl",name:"CPL"},{id:"cpa",name:"CPA"}]}),mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("DashboardTable");return g(),k(o,{filters:l.dashboardFilters,mainCharts:l.mainCharts},null,8,["filters","mainCharts"])}]]),Rz={name:"Notifications",components:{Lead:sc},data:()=>({draw:!1,refreshInterval:null,notifications:[],rowsPerPage:10,page:1,isLoaderActive:!1}),mounted(){s({title:this.$route.meta.title}),this.getItems(1)},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","currentLead","getRole"]),classObject:()=>({})},methods:{togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},dateFormat:e=>xe(e).fromNow(),allDateFormat(e){return this.dateToYMD(e)},isToday(e){let t=new Date(e);return(new Date).toDateString()===t.toDateString()},dateToYMD(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()},getItems(e=1){let t=this.rowsPerPage;this.$store.dispatch("getItemsPagination",{path:"notifications",page:e,rowsPerPage:t})}},watch:{page(){this.getItems(this.page)},itemsPagination(){this.notifications=[...this.notifications,...this.itemsPagination]}}},Nz=e=>(N("data-v-387ce782"),e=e(),H(),e),Hz={class:"timeline-wrapper"},Wz=Nz((()=>V("div",{class:"timeline-header"},null,-1))),Yz={class:"timeline-wrapper-inner"},Gz={class:"timeline-container"},qz={class:"date"},Jz={class:"content-wrap"},Kz={class:"content-box"},Xz=Nz((()=>V("div",{class:"status"},null,-1))),Zz={class:"box-text"},Qz={class:"meta-text"},ej={class:"name"},tj=["onClick"],aj=Nz((()=>V("br",null,null,-1))),sj={class:"box-end"},lj={key:0,class:"load-more-wrap has-text-centered"};const ij=fe(Rz,[["render",function(e,t,a,s,l,i){const o=$i,r=bt,n=$("Lead");return g(),f("div",Hz,[Wz,V("div",Yz,[V("div",Gz,[(g(!0),f(j,null,K(l.notifications,((e,t)=>(g(),f("div",{class:_(["timeline-item",{"is-unread":i.isToday(e.created_at)}]),key:t},[V("div",qz,[V("span",null,P(i.allDateFormat(e.created_at)),1)]),V("div",{class:_(["dot is-success",i.classObject])},null,2),V("div",Jz,[V("div",Kz,[Xz,x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"}),V("div",Zz,[V("div",Qz,[V("p",null,[V("span",ej,P(e.data.name),1),C(" new FTD on "),V("span",{class:"name",style:{cursor:"pointer"},onClick:t=>i.getCurrentLead(e.data)},"Lead #"+P(e.data.id),9,tj),aj,C(" Created Date - "+P(e.data.created_at),1)]),V("span",null,P(i.dateFormat(e.created_at)),1)])]),V("div",sj,[x(o,{size:"small",picture:"/images/avatars/svg/vuero-1.svg"})])])])],2)))),128))]),e.totalPagesItemsPagination!=e.currentPageItemsPagination?(g(),f("div",lj,[x(r,{onClick:t[0]||(t[0]=t=>i.getItems(e.currentPageItemsPagination+1)),"dark-outlined":""},{default:w((()=>[C("Load More")])),_:1})])):I("",!0)]),e.currentLead&&"admin"==e.getRole||"affiliate_manager"==e.getRole||"support"==e.getRole?(g(),k(n,{key:0,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0)])}],["__scopeId","data-v-387ce782"]]),oj={name:"CouldOverflow",data:()=>({drawer:!1,searchModel:"",rowsPerPage:25,page:1,filterValues:{offer_ids:[]},loading:!0,name:"",datesModel:{start:null,end:null},newItem:{type:null,user_id:null,sources_ids:null,countries_ids:null,landing_name_ids:null,offer_id:null,interval:null,name:null,offers:null,users:null},disabled:!1,inputLoading:!1,createDialog:!1,selectedIntegration:null,selectedPartner:null,selectedSources:[],serverErrors:{},offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Offer",sortable:!1,value:"offers"},{text:"Sources",sortable:!1,value:"sources"},{text:"Users",sortable:!1,value:"users"},{text:"Interval",sortable:!1,value:"interval"},{text:"Активность",sortable:!1,value:"is_active"},{text:"Действия",sortable:!1,value:"action"}]}),computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","integrationsSelect","partnersSelect","sourcesSelect","offerFilters","offerSelect","landingNamesSelect","countriesSelect","usersSelect","getRole"])},mounted(){s({title:this.$route.meta.title}),this.getItems()},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();this.filterValues.date_start_registration=a,this.filterValues.date_end_registration=s}else this.filterValues.date_start_registration="",this.filterValues.date_end_registration="";this.getItems(1)},page(){this.getItems(this.page)},searchModel(){this.checkSearchStr()}},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getOfferSelect","getUsersSelect","getLandingNamesSelect"]),checkSearchStr:Ce.debounce((function(){this.filterValues.search=this.searchModel,this.getItems(1)}),500),onDateRangeChange(){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();console.log("date - "+a),console.log(xe().format("YYYY-MM-DD")),e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"}),this.newItem.date_start=e,this.newItem.date_end=t,console.log(this.datesModel)},getFilters(e){let t=this.filterValues;"Да"==this.archives?t.status="archive":t.status="active",this.loading=!0,this.$store.dispatch(e,{filtersValues:t}).then((e=>{this.loading=!1}))},getOfferFilters(){let e=this.filterValues;this.loading=!0,this.$store.dispatch("getOfferFilters",{filtersValues:e}).then((e=>{this.loading=!1}))},changeStatus(e){e.is_active=!e.is_active,this.disabled=!0,this.$store.dispatch("coldOverflowActivityToggle",{item:e}).then((()=>{this.disabled=!1})).catch((e=>this.serverErrors=e.response.data.errors))},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},hasServerError(e){return this.serverErrors.hasOwnProperty(e)},paginationChangeHandler(e){this.getItems(e)},createOpen(){this.createDialog=!0,this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getUsersSelect()},createClose(){this.createDialog=!1},getItems(e=1){let t=this.filterValues;this.loading=!0,this.$store.dispatch("getItemsPagination",{path:"cold-overflow",page:e,filtersValues:t}).then((()=>this.loading=!1))},create(){let e=this.globalCallback(this.newItem.landing_name_ids),t=this.globalCallback(this.newItem.offers),a=this.globalCallback(this.newItem.users),s=this.globalCallback(this.newItem.countries_ids),l=this.globalCallback(this.newItem.source_ids);this.$store.dispatch("createColdOverflow",{item:this.newItem,landing_names:e,users:a,offers:t,countries:s,sources:l}).then((()=>{this.createDialog=!1,this.name="",this.selectedIntegration=null,this.selectedPartner=null,this.selectedSources=null})).catch((e=>{console.log(e),this.serverErrors=e.response.data.errors}))},deleteItem(e){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteColdOverflow",e.id).then((()=>{alert("Successfully!")})).finally((()=>this.loading=!1)))}}},rj=e=>(N("data-v-07cc7fbf"),e=e(),H(),e),nj={class:"list-flex-toolbar flex-list-v1"},dj={key:0},uj={key:1},cj={key:0},mj={key:1},pj={key:0},hj={key:1},gj=rj((()=>V("span",{class:"headline"},"Новый Перелив",-1))),fj={class:"h3-tooltip"},yj=[rj((()=>V("i",{class:"iconify","data-icon":"feather:help-circle","aria-hidden":"true",style:{color:"green"}},null,-1)))];const _j=fe(oj,[["render",function(e,t,a,s,l,i){const o=Nt,r=Et,n=bt,d=yt,u=jf,c=xr,m=$("EasyDataTable"),p=nr,h=$("v-card-title"),y=Ft,_=Wt,v=$("v-selects"),b=$("VDatePicker"),S=Qr,D=$("v-tooltip"),L=$("v-col"),T=$("v-row"),A=$("v-container"),O=$("v-card-text"),F=$("v-spacer"),E=$("v-btn"),B=$("v-card-actions"),z=ft,N=$("v-dialog");return g(),k(A,{fluid:""},{default:w((()=>[V("div",nj,[x(r,null,{default:w((()=>[x(o,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchModel=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[G,l.searchModel]])])),_:1})])),_:1}),x(d,null,{default:w((()=>[x(n,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:i.createOpen},{default:w((()=>[C(" Add ")])),_:1},8,["onClick"])])),_:1})]),x(m,{headers:l.offersHeaders,items:e.itemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1},{"item-offers":w((e=>[e.offers&&e.offers.length>1?(g(),f("div",dj,P(e.offers.map((e=>e.name)).join(", ")),1)):e.offers&&1==e.offers.length?(g(),f("div",uj,P(e.offers[0].name),1)):I("",!0)])),"item-sources":w((e=>[e.sources&&e.sources.length>1?(g(),f("div",cj,P(e.sources.map((e=>e.name)).join(", ")),1)):e.sources&&1==e.sources.length?(g(),f("div",mj,P(e.sources[0].name),1)):I("",!0)])),"item-users":w((e=>[e.users&&e.users.length>1?(g(),f("div",pj,P(e.users.map((e=>e.name)).join(", ")),1)):e.users&&1==e.users.length?(g(),f("div",hj,P(e.users[0].name),1)):I("",!0)])),"item-is_active":w((e=>[x(r,null,{default:w((()=>[x(o,{subcontrol:""},{default:w((()=>[x(u,{color:"primary",modelValue:e.is_active,"onUpdate:modelValue":t=>i.changeStatus(e)},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),"item-action":w((t=>[x(c,{onView:a=>this.$router.push(`/${e.getRole.replace("_","-")}/cold-overflow/`+t.id),onRemove:e=>i.deleteItem(t)},null,8,["onView","onRemove"])])),_:1},8,["headers","items","loading"]),e.totalPagesItemsPagination>1?(g(),k(p,{key:0,"current-page":l.page,"onUpdate:currentPage":t[1]||(t[1]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),x(N,{modelValue:l.createDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>l.createDialog=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(z,{color:"#1E272C"},{default:w((()=>[x(h,null,{default:w((()=>[gj])),_:1}),x(O,null,{default:w((()=>[x(A,null,{default:w((()=>[x(T,null,{default:w((()=>[x(L,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Name *")])),_:1}),x(o,null,{default:w((()=>[x(_,{type:"text",placeholder:"",modelValue:l.newItem.name,"onUpdate:modelValue":t[2]||(t[2]=e=>l.newItem.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Type")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.type,"onUpdate:modelValue":t[3]||(t[3]=e=>l.newItem.type=e),reduce:e=>e.id,label:"name",options:[{id:1,name:"Hold"},{id:2,name:"Live"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Количество повторений лидов *")])),_:1}),x(o,null,{default:w((()=>[x(_,{type:"text",placeholder:"",modelValue:l.newItem.interval,"onUpdate:modelValue":t[4]||(t[4]=e=>l.newItem.interval=e)},null,8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Дата")])),_:1}),x(b,{modelValue:l.datesModel,"onUpdate:modelValue":t[5]||(t[5]=e=>l.datesModel=e),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:i.onDateRangeChange},{default:w((({inputValue:e,inputEvents:t})=>[x(o,{icon:"feather:calendar"},{default:w((()=>[x(_,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue","onClick"])])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Offers")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.offers,"onUpdate:modelValue":t[6]||(t[6]=e=>l.newItem.offers=e),reduce:e=>e.id,label:"name",multiple:"",options:e.offerSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Funnels")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.landing_name_ids,"onUpdate:modelValue":t[7]||(t[7]=e=>l.newItem.landing_name_ids=e),reduce:e=>e.id,label:"name",multiple:"",options:e.landingNamesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Country")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.countries_ids,"onUpdate:modelValue":t[8]||(t[8]=e=>l.newItem.countries_ids=e),reduce:e=>e.id,label:"ISO_2",multiple:"",options:e.countriesSelect,"push-tags":"","append-to-body":""},{option:w((e=>[V("h3",fj,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(D,{key:0,text:"Tooltip",location:"top"},{activator:w((({props:e})=>[V("span",U(M(e)),yj,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(S,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Sources")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.source_ids,"onUpdate:modelValue":t[9]||(t[9]=e=>l.newItem.source_ids=e),reduce:e=>e.id,label:"name",multiple:"",options:e.sourcesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1}),x(r,null,{default:w((()=>[x(y,null,{default:w((()=>[C("Users")])),_:1}),x(o,null,{default:w((()=>[x(v,{modelValue:l.newItem.users,"onUpdate:modelValue":t[10]||(t[10]=e=>l.newItem.users=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","append-to-body":"",multiple:""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(B,null,{default:w((()=>[x(F),x(E,{color:"#009688",text:"",onClick:i.createClose},{default:w((()=>[C("Отменить")])),_:1},8,["onClick"]),x(E,{color:"#009688",text:"",onClick:i.create},{default:w((()=>[C("Создать")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}],["__scopeId","data-v-07cc7fbf"]]),vj={name:"ColdOverflow",components:{Lead:sc},data:()=>({serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},rowsPerPage:25,perPages:[25,50,100],page:1,loading:!0,dialogFunnel:!1,valid:!0,inputLoading:!1,funnelsModel:[],otherFunnels:[],edit:!1,disabled:!0,startDateDisable:!0,endDateDisable:!0,countryModel:null,items:[],leadStatusesType:[{name:"No answer",type:"no_answer"},{name:"Valid",type:"valid"}],datesModel:{start:null,end:null},offersHeaders:[{text:"ID",sortable:!1,value:"id"},{text:"Email",sortable:!1,value:"email"},{text:"Source",sortable:!1,value:"source"},{text:"User",sortable:!1,value:"user"},{text:"Country",sortable:!1,value:"country.ISO_2"},{text:"Funnel",sortable:!1,value:"landing_name"},{text:"Date",sortable:!1,value:"pivot.date"},{text:"Status",sortable:!1,value:"pivot.status"},{text:"Actions",sortable:!1,value:"action"}],itemsSelected:p([]),multipleActionModal:!1,myWidth:"",filtersValues:{type:"all"},isActive:"all",buttonLoading:!1,isLoaderActive:!1}),setup(){const{y:e}=i(),t=u((()=>e.value>30));return{y:e,isStuck:t}},mounted(){s({title:this.$route.meta.title}),this.getIntegrationsSelect(),this.getPartnersSelect(),this.getCountriesSelect(),this.getSourcesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getUsersSelect(),this.getItem(),this.getItems()},computed:{...be(["itemsPagination","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination","offerEdited","integrationsSelect","partnersSelect","countriesSelect","sourcesSelect","landingNamesSelect","coldOverflowEdited","offerSelect","usersSelect","coldOverflowLeadsCount","currentLead"])},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();this.coldOverflowEdited.date_start=a,this.coldOverflowEdited.date_end=s}},itemsSelected:{handler(e){e.length?(this.multipleActionModal=!0,this.myWidth=this.$refs.offerLeadsTable.offsetWidth):this.multipleActionModal=!1},deep:!0},rowsPerPage(e){this.page=1,this.serverOptions.rowsPerPage=e}},methods:{...Se(["getIntegrationsSelect","getPartnersSelect","getCountriesSelect","getSourcesSelect","getLandingNamesSelect","getOfferSelect","getUsersSelect","getItemsPagination","getColdOverflowLeadsCount"]),updatePaginate(e){this.page=e,this.getItems(this.page)},onDateRangeChange(){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate();e.getTime()==t.getTime()&&(this.datesModel={start:a+" 00:00:00",end:a+" 23:59:59"})},paginationChangeHandler(e){this.getItems(e)},mixLeads(){this.loading=!0,this.$store.dispatch("mixColdOverflowLeads",{offerId:this.$route.params.id}).then((()=>{this.getItems()})).finally((()=>this.loading=!1))},refreshLeads(){this.loading=!0,this.$store.dispatch("updateColdOverflowLeads",{offerId:this.$route.params.id}).then((()=>{this.getItems()})).finally((()=>this.loading=!1))},getItems(e=1){let t=this.rowsPerPage;this.loading=!0;let a=this.filtersValues;this.$store.dispatch("getItemsPagination",{path:"cold-overflow/"+this.$route.params.id+"/leads",page:e,rowsPerPage:t,filtersValues:a}).then((()=>{this.loading=!1,this.getLeadCountsByType()}))},deleteItem(e){if(!confirm("Are you sure?"))return;this.loading=!0;let t={overflow_id:this.$route.params.id,lead_id:e.id};this.$store.dispatch("deleteColdOverflowLead",t).then((()=>{alert("Successfully!")})).finally((()=>{this.loading=!1,this.getLeadCountsByType()}))},swapArray(e,t,a){if(Math.min(t,a)<0||Math.max(t,a)>=e.length)return null;const s=e.splice(t,1);return e.splice(a>0?a-1:0,0,s[0]),e},getItem(){this.inputLoading=!0,this.dialog=!0,this.$store.dispatch("getColdOverflow",this.$route.params.id).then((()=>{this.inputLoading=!1,this.datesModel={start:new Date(this.coldOverflowEdited.date_start),end:new Date(this.coldOverflowEdited.date_end)}})).finally((()=>this.loading=!1)),this.getLeadCountsByType()},editItem(){this.edit=!0,1===this.offerEdited.status_id&&(this.startDateDisable=!1),this.endDateDisable=!1,this.disabled=!1},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},saveItem(){let e=this.globalCallback(this.coldOverflowEdited.countries),t=this.globalCallback(this.coldOverflowEdited.landing_names),a=this.globalCallback(this.coldOverflowEdited.sources),s=this.globalCallback(this.coldOverflowEdited.offers),l=this.globalCallback(this.coldOverflowEdited.users);2!=this.coldOverflowEdited.type&&(this.coldOverflowEdited.status_type=null),this.loading=!0,this.$store.dispatch("updateColdOverflow",{offerId:this.$route.params.id,item:this.coldOverflowEdited,countries:e,landings:t,offers:s,users:l,sources:a}).then((()=>{this.disabled=!0,this.edit=!1,this.getItem()})).finally((()=>this.loading=!1))},deleteLeads(){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("deleteColdOverflowLeads",{overflow_id:this.$route.params.id,data:{ids:this.globalCallback(this.itemsSelected)}}).finally((()=>{this.getItems(),this.itemsSelected=[],this.loading=!1,this.multipleActionModal=!1})))},clearInjectLeads(){confirm("Are you sure?")&&(this.loading=!0,this.$store.dispatch("clearColdOverflowLeads",{overflow_id:this.$route.params.id}).finally((()=>{this.getItems(),this.loading=!1})))},getLeadsByType(e){this.isActive=this.filtersValues.type=e,this.getItems(1)},getLeadCountsByType(){this.$store.dispatch("getColdOverflowLeadsCount",{id:this.$route.params.id})},getCurrentLead(e){this.isLoaderActive=!this.isLoaderActive,this.$store.dispatch("getCurrentLead",e.id).finally((()=>{this.$store.commit("enableDialogLead"),this.isLoaderActive=!this.isLoaderActive}))},changeStatus(e){e.is_active=!e.is_active,this.disabled=!0,this.$store.dispatch("coldOverflowActivityToggle",{item:e}).then((()=>{this.disabled=!1,this.getItems()})).catch((e=>this.serverErrors=e.response.data.errors))}}},bj={class:"form-outer"},Sj={class:"form-header-inner"},kj={class:"left"},wj={class:"right"},Vj={class:"buttons flex-nowrap"},Pj={class:"form-body",ref:"offerLeadsTable"},xj={class:"form-fieldset"},Cj={class:"columns is-multiline"},Ij={class:"column is-6"},Dj={class:"column is-6"},Lj={class:"column is-6"},$j={class:"column is-6"},Tj={key:0,class:"column is-6"},Aj={class:"column is-6"},Oj={class:"column is-6"},Fj={class:"column is-6"},Uj={class:"h3-tooltip"},Mj=[V("i",{class:"iconify","data-icon":"feather:help-circle","aria-hidden":"true",style:{color:"green"}},null,-1)],Ej={class:"column is-6"},Bj={class:"column is-6"},zj={class:"column is-6"},jj={class:"column is-6"},Rj={class:"column is-6"},Nj={class:"column is-6"},Hj={key:1,class:"column is-6"},Wj={key:2,class:"column is-6"},Yj={class:"pagination_wrap"},Gj={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},qj={key:0},Jj={key:1},Kj={class:"mb-0 choose_filter"},Xj={class:"buttons"},Zj=["onClick"],Qj={key:0},eR={key:0},tR={key:0},aR={class:"pagination_wrap"},sR={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},lR={key:0},iR={key:1},oR={class:"selected"},rR={class:"selected-right-button"};const nR=fe(vj,[["render",function(e,t,a,s,l,i){const o=jf,r=Nt,n=bt,d=Ft,u=Wt,c=Et,m=$("v-selects"),p=$("VDatePicker"),h=Qr,y=$("v-tooltip"),v=xd,b=nr,S=$("v-btn"),D=$("Multiselect"),L=xi,T=$("v-row"),A=$("v-col"),O=xr,F=$("EasyDataTable"),E=$("Lead");return g(),f("form",{class:"form-layout max-width",onSubmit:t[31]||(t[31]=B(((...e)=>i.saveItem&&i.saveItem(...e)),["prevent"]))},[V("div",bj,[V("div",{class:_([[s.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",Sj,[V("div",kj,[V("h3",null,"Cold Overflow #"+P(this.$route.params.id),1)]),V("div",wj,[V("div",Vj,[x(r,{class:"md:mb-1 mr-2",subcontrol:""},{default:w((()=>[x(o,{color:"primary",modelValue:e.coldOverflowEdited.is_active,"onUpdate:modelValue":t[0]||(t[0]=t=>i.changeStatus(e.coldOverflowEdited))},null,8,["modelValue"])])),_:1}),x(n,{class:"mr-2",icon:"lnir lnir-arrow-left rem-100",onClick:t[1]||(t[1]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Cancel ")])),_:1}),x(n,{type:"submit",color:"primary",raised:""},{default:w((()=>[C(" Save ")])),_:1})])])])],2),V("div",Pj,[V("div",xj,[V("div",Cj,[V("div",Ij,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Name *")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.coldOverflowEdited.name=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Dj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Количество повторений лидов *")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.interval,"onUpdate:modelValue":t[3]||(t[3]=t=>e.coldOverflowEdited.interval=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Lj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Type")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.type,"onUpdate:modelValue":t[4]||(t[4]=t=>e.coldOverflowEdited.type=t),reduce:e=>e.id,label:"name",options:[{id:1,name:"Hold"},{id:2,name:"Live"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})]),V("div",$j,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Дата")])),_:1}),x(p,{modelValue:e.datesModel,"onUpdate:modelValue":t[5]||(t[5]=t=>e.datesModel=t),mode:"dateTime","is-range":"",is24hr:!0,"minute-increment":5,onClick:i.onDateRangeChange},{default:w((({inputValue:e,inputEvents:t})=>[x(r,{icon:"feather:calendar"},{default:w((()=>[x(u,R({value:e.start?e.start+" - "+e.end:""},ee(t.start)),null,16,["value"])])),_:2},1024)])),_:1},8,["modelValue","onClick"])])),_:1})]),e.coldOverflowEdited.type&&2==e.coldOverflowEdited.type?(g(),f("div",Tj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Status Type")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.status_type,"onUpdate:modelValue":t[6]||(t[6]=t=>e.coldOverflowEdited.status_type=t),reduce:e=>e.id,label:"name",options:[{id:1,name:"Valid"},{id:2,name:"No answer"}],"return-object":"","append-to-body":""},null,8,["modelValue","reduce"])])),_:1})])),_:1})])):I("",!0),V("div",Aj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Offers")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.offers,"onUpdate:modelValue":t[7]||(t[7]=t=>e.coldOverflowEdited.offers=t),reduce:e=>e.id,label:"name",multiple:"",options:e.offerSelect,"return-object":"","push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Oj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Funnels")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.landing_names,"onUpdate:modelValue":t[8]||(t[8]=t=>e.coldOverflowEdited.landing_names=t),reduce:e=>e.id,label:"name",multiple:"",options:e.landingNamesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Fj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Country")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.countries,"onUpdate:modelValue":t[9]||(t[9]=t=>e.coldOverflowEdited.countries=t),reduce:e=>e.id,label:"ISO_2",multiple:"",options:e.countriesSelect,"push-tags":"","append-to-body":""},{option:w((e=>[V("h3",Uj,[C(P(e.ISO_2)+" ",1),e.group_countries&&e.group_countries.length?(g(),k(y,{key:0,text:"Tooltip",location:"top"},{activator:w((({props:e})=>[V("span",U(M(e)),Mj,16)])),default:w((()=>[(g(!0),f(j,null,K(e.group_countries,((e,t)=>(g(),k(h,{color:"solid",curved:"",outlined:"",class:"ml-1 mt-1 mb-1",label:e.ISO_2,key:t},null,8,["label"])))),128))])),_:2},1024)):I("",!0)])])),_:1},8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Ej,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Sources")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.sources,"onUpdate:modelValue":t[10]||(t[10]=t=>e.coldOverflowEdited.sources=t),reduce:e=>e.id,label:"name",multiple:"",options:e.sourcesSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",Bj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Users")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.users,"onUpdate:modelValue":t[11]||(t[11]=t=>e.coldOverflowEdited.users=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"",multiple:"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",zj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("New User")])),_:1}),x(r,null,{default:w((()=>[x(m,{modelValue:e.coldOverflowEdited.new_user_id,"onUpdate:modelValue":t[12]||(t[12]=t=>e.coldOverflowEdited.new_user_id=t),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"","append-to-body":""},null,8,["modelValue","reduce","options"])])),_:1})])),_:1})]),V("div",jj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Fix Cap")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.daily_cap,"onUpdate:modelValue":t[13]||(t[13]=t=>e.coldOverflowEdited.daily_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Rj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Time Cap")])),_:1}),x(r,null,{default:w((()=>[x(o,{modelValue:e.coldOverflowEdited.custom_cap,"onUpdate:modelValue":t[14]||(t[14]=t=>e.coldOverflowEdited.custom_cap=t),label:"Сap control"},null,8,["modelValue"])])),_:1})])),_:1})]),V("div",Nj,[x(c,{class:"is-flex h-100 align-items-center"},{default:w((()=>[x(r,null,{default:w((()=>[x(v,{modelValue:e.coldOverflowEdited.is_new_lead,"onUpdate:modelValue":t[15]||(t[15]=t=>e.coldOverflowEdited.is_new_lead=t),trueValue:"1",label:"Is new Lead",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})]),e.coldOverflowEdited.custom_cap?(g(),f("div",Hj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Enabled time")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.start_cap,"onUpdate:modelValue":t[16]||(t[16]=t=>e.coldOverflowEdited.start_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0),e.coldOverflowEdited.custom_cap?(g(),f("div",Wj,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Disabled time")])),_:1}),x(r,null,{default:w((()=>[x(u,{type:"text",modelValue:e.coldOverflowEdited.end_cap,"onUpdate:modelValue":t[17]||(t[17]=t=>e.coldOverflowEdited.end_cap=t)},null,8,["modelValue"])])),_:1})])),_:1})])):I("",!0)])]),V("div",Yj,[V("div",Gj,[C(" Showing "),1==e.page?(g(),f("span",qj,P(e.page),1)):(g(),f("span",Jj,P(e.rowsPerPage*(e.page-1)+1),1)),C(" to "+P(e.page*e.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(b,{key:0,"current-page":e.page,"onUpdate:currentPage":[t[18]||(t[18]=t=>e.page=t),i.updatePaginate],"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),x(A,{cols:"12",class:"mb-3"},{default:w((()=>[x(T,{class:"d-flex align-center justify-space-between"},{default:w((()=>[V("div",Kj,[x(S,{loading:e.buttonLoading,class:_([[{active:"all"==e.isActive}],"mt-1 mr-1"]),onClick:t[19]||(t[19]=e=>i.getLeadsByType("all"))},{default:w((()=>[C("All - "+P(e.coldOverflowLeadsCount.allCount),1)])),_:1},8,["loading","class"]),x(S,{loading:e.buttonLoading,class:_([[{active:"pending"==e.isActive}],"mt-1 mr-1"]),onClick:t[20]||(t[20]=e=>i.getLeadsByType("pending"))},{default:w((()=>[C("Pending - "+P(e.coldOverflowLeadsCount.pendingCount),1)])),_:1},8,["loading","class"]),x(S,{loading:e.buttonLoading,class:_([[{active:"completed"==e.isActive}],"mt-1 mr-1"]),onClick:t[21]||(t[21]=e=>i.getLeadsByType("completed"))},{default:w((()=>[C("Completed - "+P(e.coldOverflowLeadsCount.completedCount),1)])),_:1},8,["loading","class"]),x(S,{loading:e.buttonLoading,class:_([[{active:"error"==e.isActive}],"mt-1 mr-1"]),onClick:t[22]||(t[22]=e=>i.getLeadsByType("error"))},{default:w((()=>[C("Error - "+P(e.coldOverflowLeadsCount.errorCount),1)])),_:1},8,["loading","class"])]),V("div",Xj,[x(c,{class:""},{default:w((()=>[x(r,null,{default:w((()=>[x(D,{class:"perpage-select",style:{width:"100px",margin:"12px 5px 0px 0px"},modelValue:e.rowsPerPage,"onUpdate:modelValue":t[23]||(t[23]=t=>e.rowsPerPage=t),options:e.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[24]||(t[24]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1}),x(n,{type:"submit","dark-outlined":"",onClick:t[25]||(t[25]=e=>i.clearInjectLeads()),style:{margin:"0px 5px 0px 0px"},raised:""},{default:w((()=>[C("Clear")])),_:1}),x(L,{style:{margin:"0","margin-right":"5px"},onClick:t[26]||(t[26]=e=>i.refreshLeads()),icon:"feather:refresh-cw",color:"primary"})])])),_:1})])),_:1}),x(F,{"items-selected":e.itemsSelected,"onUpdate:itemsSelected":t[27]||(t[27]=t=>e.itemsSelected=t),"server-options":e.serverOptions,"onUpdate:serverOptions":t[28]||(t[28]=t=>e.serverOptions=t),headers:e.offersHeaders,items:e.itemsPagination,loading:e.loading,"buttons-pagination":!1,"border-color":!1},{"item-email":w((e=>[V("span",{class:"cursor-pointer",onClick:t=>i.getCurrentLead(e)},P(e.email),9,Zj)])),"item-source":w((e=>[e.source&&null!=e.source.name?(g(),f("span",Qj,P(e.source.name),1)):I("",!0)])),"item-user":w((e=>[e.user&&null!=e.user.name?(g(),f("span",eR,P(e.user.name),1)):I("",!0)])),"item-landing_name":w((e=>[e.landing_name&&null!=e.landing_name.name?(g(),f("span",tR,P(e.landing_name.name),1)):I("",!0)])),"item-action":w((e=>[x(O,{onView:t=>i.getCurrentLead(e),onRemove:t=>i.deleteItem(e)},null,8,["onView","onRemove"])])),_:1},8,["items-selected","server-options","headers","items","loading"]),V("div",aR,[V("div",sR,[C(" Showing "),1==e.page?(g(),f("span",lR,P(e.page),1)):(g(),f("span",iR,P(e.rowsPerPage*(e.page-1)+1),1)),C(" to "+P(e.page*e.rowsPerPage)+" of "+P(e.totalItemsPagination)+" entries ",1)]),e.totalPagesItemsPagination>1?(g(),k(b,{key:0,"current-page":e.page,"onUpdate:currentPage":[t[29]||(t[29]=t=>e.page=t),i.updatePaginate],"item-per-page":e.rowsPerPage,"total-items":e.totalItemsPagination,"max-links-displayed":5},null,8,["current-page","onUpdate:currentPage","item-per-page","total-items"])):I("",!0)]),e.currentLead?(g(),k(E,{key:0,isLoaderActive:e.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0)],512)]),e.multipleActionModal?(g(),f("div",{key:0,class:"table-selected-popup",style:se({width:e.myWidth+"px"})},[V("div",oR,"Selected Items "+P(e.itemsSelected.length),1),V("div",rR,[x(n,{color:"danger",class:"mr-2",elevated:"",onClick:t[30]||(t[30]=e=>i.deleteLeads())},{default:w((()=>[C(" Delete Leads ")])),_:1})])],4)):I("",!0)],32)}]]);const dR=fe({name:"AffiliateManagerUsers",components:{UserTable:ev},mounted(){s({title:this.$route.meta.title})},data:()=>({usersHeader:[{text:"ID",sortable:!1,value:"id"},{text:"Name",sortable:!1,value:"name"},{text:"Email",sortable:!1,value:"email"},{text:"Role",sortable:!1,value:"role.name"},{text:"Actions",sortable:!1,value:"action"}]})},[["render",function(e,t,a,s,l,i){const o=$("UserTable");return g(),k(o,{headers:e.usersHeader},null,8,["headers"])}]]);const uR=fe({name:"Statistics",components:{Table:Hw},data:()=>({drawer:!1,loading:!0,range:{},period:"today",datesModel:{start:new Date,end:new Date},userStatHeaders:[{text:"User",sortable:!1,value:"user"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"No Answer",sortable:!1,value:"no_answer_leads_count"},{text:"Conversions",sortable:!1,value:"ftd"},{text:"Buy",sortable:!1,value:"buy"}],landStatHeaders:[{text:"Name",sortable:!1,value:"funnel"},{text:"Leads",sortable:!1,value:"leads_count"},{text:"Valid",sortable:!1,value:"valid_leads"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"No answer",sortable:!1,value:"no_answer_leads_count"},{text:"Conversions",sortable:!1,value:"all_cr"}],offerStatHeaders:[{text:"Offer",sortable:!1,value:"offer"},{text:"Leads",sortable:!1,value:"valid_leads"},{text:"Valid",sortable:!1,value:"count_verify"},{text:"Invalid",sortable:!1,value:"invalid_leads_count"},{text:"No answer",sortable:!1,value:"no_answer_leads_count"},{text:"Conversions",sortable:!1,value:"all_cr"},{text:"Sale",sortable:!1,value:"profit"}],filterValues:{date_start_sended:"",date_end_sended:"",country_ids:[],landing_name_ids:[],offer_ids:[],web_master_ids:[],is_statistics:1},exportModel:!1,createOffersStatsLinkModel:!1,currentOffersStatsLink:""}),computed:{...be(["webmasterStats","landingStats","offerStats","totalItemsPagination","currentPageItemsPagination","totalPagesItemsPagination"])},mounted(){s({title:this.$route.meta.title})},watch:{datesModel(){if("object"==typeof this.datesModel&&null!=this.datesModel){let e=new Date(this.datesModel.start),t=new Date(this.datesModel.end),a=e.getFullYear()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate(),s=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate();this.filterValues.date_start_sended=a,this.filterValues.date_end_sended=s}else this.filterValues.date_start_sended="",this.filterValues.date_end_sended="";this.getStatsCustomDate(),this.period=""}},methods:{switchFilters(){console.log("test"),this.drawer=!this.drawer},refreshTables(){this.getUserStats(),this.getLandStats(),this.getOfferStats()},getStatsToday(){this.period="today",this.refreshTables()},getStatsThisWeek(){this.period="this_week",this.refreshTables()},getStatsLastWeek(){this.period="last_week",this.refreshTables()},getStatsThisMonth(){this.period="this_month",this.refreshTables()},getStatsLastMonth(){this.period="last_month",this.refreshTables()},getStatsCustomDate(){this.period=this.datesModel,this.refreshTables()},generateFilterParams(){let e=this.period;this.filterValues.period=this.period;let t="";return t="string"==typeof e&&""!=e?"period="+e:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,this.filterValues.web_master_ids.length>0&&(t+="&web_master_ids="+this.filterValues.web_master_ids.join(",")),this.filterValues.country_ids.length>0&&(t+="&country_ids="+this.filterValues.country_ids.join(",")),this.filterValues.landing_name_ids.length>0&&(t+="&landing_name_ids="+this.filterValues.landing_name_ids.join(",")),this.filterValues.offer_ids.length>0&&(t+="&offer_ids="+this.filterValues.offer_ids.join(",")),console.log(t),t},getUserStats(){let e;console.log("filterValues"),console.log(this.filterValues),console.log("generateFilterParams"),console.log(this.generateFilterParams()),e=this.generateFilterParams(),console.log("filterValues"),console.log(e),this.loading=!0,this.$store.dispatch("getWebmasterStats",{path:"users/statistics",filterValues:e}).then((()=>this.loading=!1))},getLandStats(){let e;e="string"==typeof period?"period="+this.period:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getLandingStats",{path:"landing-names/statistics",filterValues:e}).then((()=>this.loading=!1))},getOfferStats(){let e;e="string"==typeof period?"period="+this.period:"date_start_sended="+this.filterValues.date_start_sended+"&date_end_sended="+this.filterValues.date_end_sended,e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("getOfferStats",{path:"offers/statistics",filterValues:e}).then((()=>this.loading=!1))},statisticExport(){this.exportModel=!0},getWebmastersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportWebmastersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},getLandingsStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportLandingsStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},geOffersStats(){let e="";e=this.generateFilterParams(),this.loading=!0,this.$store.dispatch("exportOffersStats",{filterValues:e}).then((e=>{this.fileDownload(e),this.loading=!1}))},fileDownload(e){const t=document.createElement("a"),a=e.substring(e.lastIndexOf("/")+1);t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click()},createStatisticLink(){if(!this.currentOffersStatsLink||this.createOffersStatsLinkModel){let e="",t=this.period;e="string"==typeof t?"period="+t:"date_start_sended="+this.filterValues.date_start_sended+"&date_end="+this.filterValues.date_end_sended,this.loading=!0,this.$store.dispatch("createOffersStatsLink",{filterValues:e}).then((e=>{this.currentOffersStatsLink=e})).finally((()=>{this.loading=!1}))}this.createOffersStatsLinkModel=!0},verifyLeads(e){let t="";t=this.generateFilterParams()+"&offer_id="+e.id,this.loading=!0,this.$store.dispatch("verifyOfferLeads",{filterValues:t}).then((()=>this.loading=!1))}}},[["render",function(e,t,a,s,l,i){const o=$("Table"),r=$("v-container");return g(),k(r,{class:"page_statistics",fluid:""},{default:w((()=>[x(o,{userTable:!0,funnelTable:!0,campaignTable:!0,countryTable:!0,sourceTable:!0,filters:[{id:"countries",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"offer",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"}]})])),_:1})}]]);const cR=fe({name:"AffiliateManagerSources",components:{SourceTable:kk},mounted(){s({title:this.$route.meta.title})}},[["render",function(e,t,a,s,l,i){const o=$("SourceTable");return g(),k(o)}]]),mR={name:"Lead",inject:["getItems"],props:{item:Object,isLoaderActive:Boolean},data:()=>({disableLeadInputs:!0,text:"",user:"",color:"",serverErrors:{},popupResend:!1,removePopup:!1,offerAccess:null,date:new Date,timezone:"",isSendLoaderActive:!1,isPersistent:!1}),computed:{...be(["dialogLead","leadStatuses","landingNamesSelect","offerSelectAccess","offerSelect","usersSelect","countriesSelect","landingSelect"]),ipErrors(){const e=[];return this.$v.item.ip.$dirty?(!this.$v.item.ip.required&&e.push("Укажите ip"),e):e},dateErrors(){const e=[];return this.$v.item.date.$dirty?(!this.$v.item.date.required&&e.push("Укажите дату"),e):e},phoneErrors(){const e=[];return this.$v.item.phone.$dirty?(!this.$v.item.phone.required&&e.push("Укажите телефон"),!this.$v.item.phone.minLength&&e.push("Не менее 8 символов"),!this.$v.item.phone.maxLength&&e.push("Не более 17 символов"),!this.$v.item.phone.serverFailed&&this.hasServerError("phone")&&e.push(this.serverErrors.phone[0]),e):e},emailErrors(){const e=[];return this.$v.item.email.$dirty?(!this.$v.item.email.email&&e.push("Некорректный email"),!this.$v.item.email.required&&e.push("Укажите email"),!this.$v.item.email.minLength&&e.push("Не менее 3 символов"),!this.$v.item.email.maxLength&&e.push("Не более 50 символов"),!this.$v.item.email.serverFailed&&this.hasServerError("email")&&e.push(this.serverErrors.email[0]),e):e},nameErrors(){const e=[];return this.$v.item.full_name.$dirty?(!this.$v.item.full_name.required&&e.push("Укажите название"),!this.$v.item.full_name.minLength&&e.push("Не менее 3 символов"),!this.$v.item.full_name.maxLength&&e.push("Не более 50 символов"),e):(console.log(e),e)},landingErrors(){const e=[];return this.$v.item.landing.$dirty?(!this.$v.item.landing.required&&e.push("Укажите url"),e):e},userErrors(){const e=[];return this.$v.item.user.$dirty?(!this.$v.item.user.required&&e.push("Укажите юзера"),e):e},landingNameErrors(){const e=[];return this.$v.item.landing_name.$dirty?(!this.$v.item.landing_name.required&&e.push("Укажите Лендинг"),e):e},countryErrors(){const e=[];return this.$v.item.country.$dirty?(!this.$v.item.country.required&&e.push("Укажите Страну"),e):e},offerErrors(){const e=[];return this.$v.item.offer.$dirty?(!this.$v.item.offer.required&&e.push("Укажите Офер"),e):e},statusErrors(){const e=[];return this.$v.item.status.$dirty?(!this.$v.item.status.required&&e.push("Укажите Статус"),e):e}},mounted(){},watch:{item:{handler(){this.serverErrors={}},deep:!0},dialogLead(){this.getLeadStatusesSelect(),this.getLandingNamesSelect(),this.getOfferSelect(),this.getCountriesSelect(),this.getLandingSelect(),this.getUsersSelect()}},methods:{...Se(["getLeadStatusesSelect","getOfferSelectAccess","getOfferSelect","getLandingNamesSelect","getUsersSelect","getCountriesSelect","getLandingSelect"]),hasServerError(e){return this.serverErrors.hasOwnProperty(e)},disablePopupLead(){this.$store.commit("disableDialogLead"),this.isSendLoaderActive=!1},openResendPopup(){this.offerAccess=null,this.getOfferSelectAccess(this.item.id).then((()=>{this.popupResend=!0})).finally()},openRemoveLeadPopup(){this.removePopup=!0},resendLeadCurrentOffer(){null!=this.offerAccess?(this.isSendLoaderActive=!0,this.togglePersistent(),this.$store.dispatch("resendLeadByOfferId",{leadId:this.item.id,offerId:this.offerAccess}).then((()=>{this.isSendLoaderActive=!1,this.popupResend=!1,this.getItems(),this.$parent.getCurrentLead(this.item),this.$parent.getLeadCounts(),this.togglePersistent()})).catch((()=>{this.isSendLoaderActive=!1,this.togglePersistent()}))):alert("Select campaign")},resendLead(){let e=this.item.id;this.isSendLoaderActive=!0,this.togglePersistent(),this.$store.dispatch("resendLead",{leadId:e}).then((()=>{this.isSendLoaderActive=!1,this.popupResend=!1,this.togglePersistent(),this.getItems(),this.$parent.getCurrentLead(this.item),this.$parent.getLeadCounts()})).catch((()=>{this.isSendLoaderActive=!1,this.togglePersistent()}))},setAsRemovedCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.item.id;this.$store.dispatch("setAsRemovedLead",{leadId:e}).finally((()=>{this.getItems(),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},deleteCurrentLead(){if(!confirm("Are you sure?"))return;let e=this.item.id;this.$store.dispatch("deleteLead",{leadId:e}).finally((()=>{this.getItems(),this.removePopup=!1,this.$store.commit("disableDialogLead")}))},switchEnableLeadInputs(){this.disableLeadInputs=!1},callback(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];t.push(s.id)}return t},updateLead(){let e=this.item.id;this.$store.dispatch("updateLead",{leadId:e,data:{full_name:this.item.full_name,email:this.item.email,phone:this.item.phone,ip:this.item.ip,user_id:this.item.user,created_at:this.item.date,landing_id:this.item.landing,landing_name_id:this.item.landing_name,offer_id:this.item.offer,status_id:this.item.status,country_id:this.item.country,is_action:this.item.is_action,action_time:this.item.action_time,query_parameters:this.item.query_parameters,sale:this.item.sale,buy:this.item.buy,comment:this.item.comment}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors})).finally((()=>{this.$parent.getItems(),this.$parent.getCurrentLead(this.item),this.$parent.getLeadCounts()}))},copyText(e){window.Clipboard.copy(e)},setCurrentDate(){this.item.action_time=(new Date).toLocaleString("en-US",{hour12:!1})},togglePersistent(){this.isPersistent=!this.isPersistent}}},pR=e=>(N("data-v-d25f849c"),e=e(),H(),e),hR=pR((()=>V("h1",null,"Sending lead",-1))),gR={class:"form-fieldset",style:{"margin-bottom":"0","padding-bottom":"0"}},fR={class:"fieldset-heading",style:{"padding-bottom":"0","margin-bottom":"0"}},yR=pR((()=>V("h4",null,"Send by distribution",-1))),_R={class:"form-fieldset"},vR=pR((()=>V("div",{class:"fieldset-heading"},[V("h4",null,"Choose Campaign")],-1))),bR=pR((()=>V("h1",null,"Choose action",-1))),SR=pR((()=>V("span",{class:"headline"},"Lead",-1))),kR=pR((()=>V("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"},null,-1))),wR={class:"text-center",style:{position:"relative"}},VR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],PR=pR((()=>V("hr",null,null,-1))),xR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],CR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],IR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],DR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],LR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],$R=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],TR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],AR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],OR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],FR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],UR=[pR((()=>V("i",{class:"iconify","data-icon":"feather:copy","aria-hidden":"true"},null,-1)))],MR={key:0},ER=pR((()=>V("h4",{class:"text-center text-h4"},"General Info",-1))),BR=pR((()=>V("hr",null,null,-1))),zR=pR((()=>V("h4",{class:"text-center text-h4"},"Free parameters",-1))),jR={class:"title is-6 mb-2"},RR={key:1},NR=pR((()=>V("br",null,null,-1))),HR={key:1,class:"text-h6 text-center"},WR={key:2,style:{"max-height":"650px",overflow:"scroll"}},YR={key:1,class:"text-h6 text-center"},GR={key:3};const qR={name:"DepositApprove",components:{"lead-popup":fe(mR,[["render",function(e,t,a,s,l,i){const o=$("v-card-title"),r=bt,n=$("v-col"),d=Ft,u=$("v-selects"),c=Et,m=$("v-row"),p=$("v-card-text"),h=ft,y=Cr,v=$("v-dialog"),b=yt,S=$("v-btn"),D=$("v-card-actions"),L=$i,T=Wt,A=Nt,O=$("VDatePicker"),F=tn,U=xd,M=Qr,E=ft,B=ba,z=$("v-container"),N=te("tooltip");return g(),k(v,{modelValue:e.dialogLead,"onUpdate:modelValue":t[37]||(t[37]=t=>e.dialogLead=t),persistent:"",class:"lead-dialog"},{default:w((()=>[x(v,{"max-width":"400px",modelValue:l.popupResend,"onUpdate:modelValue":t[1]||(t[1]=e=>l.popupResend=e),persistent:l.isPersistent},{default:w((()=>[x(y,{size:"large",active:l.isSendLoaderActive},{default:w((()=>[x(h,{color:"#1E272C"},{default:w((()=>[x(o,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[hR])),_:1}),x(p,{style:{"text-align":"center"}},{default:w((()=>[x(m,{class:"content-resend-popup"},{default:w((()=>[x(n,{cols:"12",style:{"margin-bottom":"0","padding-bottom":"0"}},{default:w((()=>[V("div",gR,[V("div",fR,[yR,x(r,{onClick:i.resendLead,style:{"margin-top":"10px"}},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"])])])])),_:1}),x(n,{cols:"12"},{default:w((()=>[V("div",_R,[vR,x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Campaign")])),_:1}),x(u,{width:"210px",modelValue:l.offerAccess,"onUpdate:modelValue":t[0]||(t[0]=e=>l.offerAccess=e),reduce:e=>e.id,label:"name",options:e.offerSelectAccess,"push-tags":"",closeOnSelect:!0,style:{"max-width":"210px",margin:"0 auto"}},null,8,["modelValue","reduce","options"])])),_:1}),x(r,{style:{"margin-top":"10px"},onClick:i.resendLeadCurrentOffer},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1},8,["modelValue","persistent"]),x(v,{"max-width":"500px",modelValue:l.removePopup,"onUpdate:modelValue":t[5]||(t[5]=e=>l.removePopup=e),persistent:l.isPersistent},{default:w((()=>[x(h,{color:"#1E272C"},{default:w((()=>[x(o,{style:{"justify-content":"center","padding-top":"15px","text-align":"center","font-size":"20px"}},{default:w((()=>[bR])),_:1}),x(p,{style:{"text-align":"center"}},{default:w((()=>[x(n,{cols:"12"},{default:w((()=>[x(b,{style:{"justify-content":"center"}},{default:w((()=>[x(r,{icon:"feather:delete",onClick:t[2]||(t[2]=e=>i.deleteCurrentLead())},{default:w((()=>[C(" Delete ")])),_:1}),a.item.is_removed?I("",!0):(g(),k(r,{key:0,icon:"feather:trash-2",onClick:t[3]||(t[3]=e=>i.setAsRemovedCurrentLead())},{default:w((()=>[C(" Drop to the trash ")])),_:1})),x(r,{color:"primary",icon:"feather:x",onClick:t[4]||(t[4]=e=>this.removePopup=0),elevated:""},{default:w((()=>[C(" Cancel ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","persistent"]),x(h,{color:"#1E272C",style:{padding:"0px"}},{default:w((()=>[x(o,{class:"justify-space-between"},{default:w((()=>[SR,x(D,null,{default:w((()=>[x(S,{color:"darken-1",text:"",onClick:i.disablePopupLead},{default:w((()=>[kR])),_:1},8,["onClick"])])),_:1})])),_:1}),x(y,{size:"large",active:a.isLoaderActive},{default:w((()=>[x(p,{class:"no_pad"},{default:w((()=>[x(z,{fluid:""},{default:w((()=>[x(m,null,{default:w((()=>[x(n,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(m,null,{default:w((()=>[x(n,{cols:"12"},{default:w((()=>[V("div",wR,[x(L,{size:"xl",picture:"/images/avatars/svg/vuero-1.svg",style:{"margin-bottom":"10px"},alt:""}),x(c,null,{default:w((()=>[x(A,{style:{"max-width":"250px",margin:"0 auto",position:"relative"}},{default:w((()=>[x(T,{type:"text",placeholder:"",modelValue:a.item.full_name,"onUpdate:modelValue":t[6]||(t[6]=e=>a.item.full_name=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs,style:{"text-align":"center"}},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[7]||(t[7]=e=>i.copyText(a.item.full_name))},VR)])),_:1})])),_:1})]),PR])),_:1}),x(n,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Email")])),_:1}),x(A,{class:"block-copy-text relative"},{default:w((()=>[x(T,{type:"text",placeholder:"",modelValue:a.item.email,"onUpdate:modelValue":t[8]||(t[8]=e=>a.item.email=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[9]||(t[9]=e=>i.copyText(a.item.email))},xR)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("IP")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(T,{type:"text",placeholder:"",modelValue:a.item.ip,"onUpdate:modelValue":t[10]||(t[10]=e=>a.item.ip=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"]),V("button",{class:"copy-text",onClick:t[11]||(t[11]=e=>i.copyText(a.item.ip))},CR)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("User")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.user,"onUpdate:modelValue":t[12]||(t[12]=e=>a.item.user=e),reduce:e=>e.id,label:"name",options:e.usersSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[13]||(t[13]=t=>i.copyText(e.usersSelect[e.usersSelect.findIndex((e=>e.id===a.item.user))].name))},IR)):I("",!0)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Date")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(O,{modelValue:a.item.date,"onUpdate:modelValue":t[14]||(t[14]=e=>a.item.date=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e,inputEvents:t})=>[x(c,null,{default:w((()=>[x(A,{icon:"feather:calendar"},{default:w((()=>[x(T,R({value:e},ee(l.disableLeadInputs?{}:t),{class:{inputs_disabled:l.disableLeadInputs},readonly:l.disableLeadInputs}),null,16,["value","class","readonly"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[15]||(t[15]=e=>i.copyText(a.item.date))},DR)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Comment")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(F,{modelValue:a.item.comment,"onUpdate:modelValue":t[16]||(t[16]=e=>a.item.comment=e),rows:"4",readonly:l.disableLeadInputs,class:_({inputs_disabled:l.disableLeadInputs})},null,8,["modelValue","readonly","class"]),V("button",{class:"copy-text",onClick:t[17]||(t[17]=e=>i.copyText(a.item.comment))},LR)])),_:1})])),_:1}),x(r,{onClick:i.openResendPopup},{default:w((()=>[C(" Send ")])),_:1},8,["onClick"])])),_:1}),x(n,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("URL")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.landing,"onUpdate:modelValue":t[18]||(t[18]=e=>a.item.landing=e),reduce:e=>e.id,label:"url",options:e.landingSelect,"push-tags":"",disabled:l.disableLeadInputs,class:_({inputs_disabled:l.disableLeadInputs})},null,8,["modelValue","reduce","options","disabled","class"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[19]||(t[19]=t=>i.copyText(e.landingSelect[e.landingSelect.findIndex((e=>e.id===a.item.landing))].url))},$R)):I("",!0)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Funnel")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.landing_name,"onUpdate:modelValue":t[20]||(t[20]=e=>a.item.landing_name=e),reduce:e=>e.id,label:"name",options:e.landingNamesSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[21]||(t[21]=t=>i.copyText(e.landingNamesSelect[e.landingNamesSelect.findIndex((e=>e.id===a.item.landing_name))].name))},TR)):I("",!0)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Campaign")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.offer,"onUpdate:modelValue":t[22]||(t[22]=e=>a.item.offer=e),reduce:e=>e.id,label:"name",options:e.offerSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[23]||(t[23]=t=>i.copyText(e.offerSelect[e.offerSelect.findIndex((e=>e.id===a.item.offer))].name))},AR)):I("",!0)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Status")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.status,"onUpdate:modelValue":t[24]||(t[24]=e=>a.item.status=e),reduce:e=>e.id,label:"name",options:e.leadStatuses,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[25]||(t[25]=t=>i.copyText(e.leadStatuses[e.leadStatuses.findIndex((e=>e.id===a.item.status))].name))},OR)):I("",!0)])),_:1})])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Country")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(u,{modelValue:a.item.country,"onUpdate:modelValue":t[26]||(t[26]=e=>a.item.country=e),reduce:e=>e.id,label:"ISO_2",options:e.countriesSelect,"push-tags":"",class:_({inputs_disabled:l.disableLeadInputs}),disabled:l.disableLeadInputs},null,8,["modelValue","reduce","options","class","disabled"]),l.disableLeadInputs?(g(),f("button",{key:0,class:"copy-text",onClick:t[27]||(t[27]=t=>i.copyText(e.countriesSelect.find((e=>e.id===a.item.country)).ISO_2))},FR)):I("",!0)])),_:1})])),_:1}),x(c,{class:"is-flex"},{default:w((()=>[x(A,null,{default:w((()=>[x(U,R({modelValue:a.item.is_action,"onUpdate:modelValue":t[28]||(t[28]=e=>a.item.is_action=e)},ee(l.disableLeadInputs?{}:i.setCurrentDate()),{trueValue:"1",label:"Converison",color:"primary",style:{"padding-left":"0"},class:"inputs_disabled_checkbox",disabled:l.disableLeadInputs}),null,16,["modelValue","disabled"])])),_:1})])),_:1}),a.item.is_action?(g(),k(c,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[C("Ftd Date")])),_:1}),x(A,{class:"relative"},{default:w((()=>[x(O,{modelValue:a.item.action_time,"onUpdate:modelValue":t[29]||(t[29]=e=>a.item.action_time=e),mode:"dateTime",is24hr:""},{default:w((({inputValue:e,inputEvents:t})=>[x(c,null,{default:w((()=>[x(A,{icon:"feather:calendar"},{default:w((()=>[x(T,R({value:e},ee(l.disableLeadInputs?{}:t),{class:{inputs_disabled:l.disableLeadInputs},readonly:l.disableLeadInputs}),null,16,["value","class","readonly"])])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"]),V("button",{class:"copy-text",onClick:t[30]||(t[30]=e=>i.copyText(a.item.action_time))},UR)])),_:1})])),_:1})):I("",!0)])),_:1})])),_:1})])),_:1}),x(n,{lg:"6",md:"12",sm:"12",cols:"12"},{default:w((()=>[x(B,{align:"centered",selected:"general",tabs:[{label:"General Info",value:"general"},{label:"Lead response",value:"response"},{label:"Logs",value:"logs"},{label:"Anti Fraud",value:"anti_fraud"}]},{tab:w((({activeValue:e})=>["general"===e?(g(),f("div",MR,[ER,x(m,{class:"justify-space-between"},{default:w((()=>[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Pay")])),_:1}),x(T,{type:"text",placeholder:"",modelValue:a.item.buy,"onUpdate:modelValue":t[31]||(t[31]=e=>a.item.buy=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"])])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Sale")])),_:1}),x(T,{type:"text",placeholder:"",modelValue:a.item.sale,"onUpdate:modelValue":t[32]||(t[32]=e=>a.item.sale=e),class:_({inputs_disabled:l.disableLeadInputs}),readonly:l.disableLeadInputs},null,8,["modelValue","class","readonly"])])),_:1})])),_:1}),BR,!a.item.decode_query_parameters.status||"empty"!=a.item.decode_query_parameters.status||a.item.description?(g(),f(j,{key:0},[zR,a.item.is_error?(g(),k(c,{key:0},{default:w((()=>[x(d,null,{default:w((()=>[C("Error")])),_:1}),x(F,{modelValue:a.item.error,"onUpdate:modelValue":t[33]||(t[33]=e=>a.item.error=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0),a.item.description?(g(),k(c,{key:1},{default:w((()=>[x(d,null,{default:w((()=>[C("Description")])),_:1}),x(F,{modelValue:a.item.description,"onUpdate:modelValue":t[34]||(t[34]=e=>a.item.description=e),rows:"10",readonly:""},null,8,["modelValue"])])),_:1})):I("",!0),a.item.decode_query_parameters.status&&"empty"==a.item.decode_query_parameters.status?I("",!0):(g(),k(m,{key:2},{default:w((()=>[(g(!0),f(j,null,K(a.item.decode_query_parameters,((e,t)=>(g(),k(n,{key:t,lg:"4",md:"4",cols:"6"},{default:w((()=>[x(E,{radius:"small",class:"text-center",style:{"overflow-y":"visible"}},{default:w((()=>[V("h3",jR,P(t),1),Y(x(M,{color:"solid",label:e.substring(0,10)},null,8,["label"]),[[N,e,void 0,{bottom:!0}]])])),_:2},1024)])),_:2},1024)))),128))])),_:1}))],64)):I("",!0)])):"response"===e?(g(),f("div",RR,[a.item.lead_responses.length>0?(g(!0),f(j,{key:0},K(a.item.lead_responses,((e,t)=>(g(),f("p",{class:"text-h6",key:t,style:{"line-break":"anywhere"}},[V("span",null,P(new Date(e.created_at).toLocaleString()),1),NR,V("code",{class:_(0==e.status?"text-red":"text-green"),style:{display:"block","white-space":"pre-wrap"}},P(e.response),3)])))),128)):(g(),f("p",HR,"The lead has no responses"))])):"logs"===e?(g(),f("div",WR,[a.item.lead_status_history.length>0?(g(!0),f(j,{key:0},K(a.item.lead_status_history,((e,t)=>(g(),f("p",{class:"text-h6",key:t},[C(P(new Date(e.created_at).toLocaleString())+" - status changed to ",1),V("u",null,P(e.name),1)])))),128)):(g(),f("p",YR,"The lead status has no changed"))])):"anti_fraud"===e?(g(),f("div",GR,[x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("Server Ip")])),_:1}),x(T,{type:"text",placeholder:"",modelValue:a.item.sent_ip,"onUpdate:modelValue":t[35]||(t[35]=e=>a.item.sent_ip=e),readonly:!0},null,8,["modelValue"])])),_:1}),x(c,null,{default:w((()=>[x(d,null,{default:w((()=>[C("User Agent")])),_:1}),x(F,{modelValue:a.item.sent_user_agent,"onUpdate:modelValue":t[36]||(t[36]=e=>a.item.sent_user_agent=e),rows:"4",readonly:!0},null,8,["modelValue"])])),_:1})])):I("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["active"])])),_:1})])),_:1},8,["modelValue"])}],["__scopeId","data-v-d25f849c"]]),"lead-filter":wd,draggable:Ve,DatePicker:io},data:()=>({multipleActionModal:!1,itemsSelected:[],drag:!1,buttonLoading:!0,serverOptions:{page:1,rowsPerPage:50,sortBy:"id",sortType:"desc"},selectedSettings:p([]),items:{},rowsPerPage:25,perPages:[25,50,100],emailModel:"",myWidth:"",drawer:!1,loading:!0,selected:!1,leadsHeader:[{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"Phone",value:"phone",align:"center",icon:""},{bold:!0,text:"Offer",value:"offer",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""},{bold:!0,text:"Action",value:"action",align:"center",icon:""}],leadsApprovedHeader:[{bold:!0,text:"Name",value:"full_name",align:"center",icon:""},{bold:!0,text:"Phone",value:"phone",align:"center",icon:""},{bold:!0,text:"Offer",value:"offer",align:"center",icon:""},{bold:!0,text:"GEO",value:"country",align:"center",icon:""},{bold:!0,text:"Source",value:"source",align:"center",icon:""},{bold:!0,text:"Funnel",value:"landing_name",align:"center",icon:""},{bold:!0,text:"User",value:"user",align:"center",icon:""},{bold:!0,text:"Date",value:"date",align:"center",icon:""},{bold:!0,text:"Date FTD",value:"action_time",align:"center",icon:""}],filterValues:{period:"this_month",search:"",is_approve_deposit:0},page:1,isLoaderActive:!1,isActive:"unapproved"}),provide:function(){return{getItems:this.getItems}},mounted(){s({title:this.$route.meta.title}),this.leadCounts.allCount&&(this.buttonLoading=!1),this.getItems(),this.getDepositsApproveCounts()},methods:{...Se(["getItemsPagination"]),selectDate(e){let t=new Date(e[0]),a=new Date(e[1]),s=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds(),i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+s,o=a.getFullYear()+"-"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"-"+(a.getDate()<10?"0":"")+a.getDate()+" "+l;this.filterValues.period="custom_date",this.filterValues.date_start_sended=i,this.filterValues.date_end_sended=o,this.getItems(1),this.getDepositsApproveCounts()},changeDate(e){this.filterValues.period=e,this.filterValues.date_start_sended=null,this.filterValues.date_end_sended=null,this.getItems(1),this.getDepositsApproveCounts()},checkSearchStr:Ce.debounce((function(e){this.filterValues.search=this.emailModel,this.getItems(1)}),500),onChecked(e,t){let a=this.selectedSettings.findIndex((t=>t.name===e.name));-1==a?this.selectedSettings.push(e):this.selectedSettings.splice(a,1)},openFilters(){this.drawer=!this.drawer},deleteItem(e){confirm("Вы точно хотите удалить лид?")&&this.$store.dispatch("deleteLead",e).then((()=>alert("Успешно!"))).catch((()=>this.$store.commit("disableOverlay"))).finally((()=>{this.getItems(this.page)}))},getCurrentLead(e){this.$store.dispatch("getCurrentLead",e.id).then((()=>{this.togglePopupLoader()})).finally((()=>{this.$store.commit("enableDialogLead"),this.togglePopupLoader()})).catch((()=>this.togglePopupLoader()))},getItems(e=1){let t=this.filterValues;console.log(t);let a=this.rowsPerPage;re.start(),this.$store.dispatch("getLeadsItemsPagination",{path:"deposits-approve",page:e,rowsPerPage:a,filtersValues:t}).then((()=>{this.loading=!0})).finally((()=>{re.done(),this.loading=!1}))},togglePopupLoader(){this.isLoaderActive=!this.isLoaderActive},approveDeposit(e){confirm("Вы точно хотите отобразить депозит?")&&this.$store.dispatch("confirmLeadDeposit",e.id).finally((()=>{this.getItems(1),this.getDepositsApproveCounts()}))},approveSelectedLeads(){let e={ids:this.globalCallback(this.itemsSelected)};this.$store.dispatch("approveLeads",{data:e}).then((()=>{this.itemsSelected=[],this.getItems(),this.getDepositsApproveCounts()}))},getLeadsByType(e="unapproved"){this.filterValues.is_approve_deposit="unapproved"==e?0:1,this.isActive=e,this.getItems()},getDepositsApproveCounts(){let e=this.filterValues;this.buttonLoading=!0,this.$store.dispatch("getDepositsApproveCounts",{filtersValues:e}).finally((()=>{this.buttonLoading=!1}))}},watch:{itemsSelected:{handler(e,t){e.length?(this.multipleActionModal=!0,this.myWidth=this.$refs.leadsTable.offsetWidth):(this.showDropdownSelectedList=!1,this.multipleActionModal=!1)},deep:!0},rowsPerPage(e){this.serverOptions.rowsPerPage=e,this.page=1},page(){this.getItems(this.page)},emailModel(){this.checkSearchStr()}},computed:{...be(["getUserSettings","leadCounts","currentLead","leadsItemsPagination","leadsTotalItemsPagination","leadsCurrentPageItemsPagination","leadsTotalPagesItemsPagination","depositsApproveCounts"])}},JR={class:"v-flex flex-pagination top-pagination pagination is-rounded"},KR={class:"buttons"},XR={class:"dataTable-info",style:{"font-family":"var(--font)","font-size":"0.9rem",color:"var(--light-text)",margin:"7px 0"}},ZR={key:0},QR={key:1},eN={class:"flex-start status-button choose_filter mb-2"},tN={class:"table-container",ref:"leadsTable"},aN=["onClick"],sN=["onClick"],lN=[V("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"},null,-1)],iN={class:"selected"},oN={class:"selected-right-button"};const rN=fe(qR,[["render",function(e,t,a,s,l,i){const o=xi,r=yt,n=Nt,d=Et,u=nr,c=$("DatePicker"),m=$("Multiselect"),p=$("lead-filter"),h=$("v-btn"),y=$("EasyDataTable"),v=$("lead-popup"),b=bt;return g(),f(j,null,[x(r,{style:{"margin-right":"5px",display:"flex","justify-content":"end"}},{default:w((()=>[x(o,{style:{margin:"0","margin-right":"5px"},icon:"feather:refresh-cw",color:"primary",onClick:t[0]||(t[0]=e=>{l.page=1})}),x(o,{style:{margin:"0","margin-right":"5px"},icon:"feather:filter",color:"primary",onClick:t[1]||(t[1]=e=>i.openFilters())})])),_:1}),V("div",JR,[x(d,null,{default:w((()=>[x(n,{icon:"feather:search"},{default:w((()=>[Y(V("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.emailModel=e),class:"input custom-text-filter",placeholder:"Email or ID"},null,512),[[G,l.emailModel]])])),_:1})])),_:1}),e.leadsTotalPagesItemsPagination>1?(g(),k(u,{key:0,style:{margin:"0 !important"},"current-page":l.page,"onUpdate:currentPage":t[3]||(t[3]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),V("div",KR,[x(c,{period:l.filterValues.period,onSelectDate:i.selectDate,onChangeDate:i.changeDate},null,8,["period","onSelectDate","onChangeDate"]),x(d,{class:"h-hidden-mobile"},{default:w((()=>[x(n,null,{default:w((()=>[x(m,{class:"perpage-select",style:{width:"100px"},modelValue:l.rowsPerPage,"onUpdate:modelValue":t[4]||(t[4]=e=>l.rowsPerPage=e),options:l.perPages,"clear-on-select":!1,placeholder:"Per Page",onSelect:t[5]||(t[5]=e=>i.getItems(1))},null,8,["modelValue","options"])])),_:1})])),_:1})])]),l.drawer?(g(),k(p,{key:0,drawer:l.drawer,ref:"leadFilter",filters:[{id:"created_date",type:"select",label:"Created Date"},{id:"ftd_date",type:"input",label:"Phone"},{id:"brokers",type:"input",label:"Phone"},{id:"countries",type:"input",label:"Phone"},{id:"webmasters",type:"input",label:"Phone"},{id:"sources",type:"input",label:"Phone"},{id:"funnels",type:"input",label:"Phone"},{id:"phone",type:"input",label:"Phone"}],is_approve_deposit:l.filterValues.is_approve_deposit},null,8,["drawer","is_approve_deposit"])):I("",!0),V("div",XR,[C(" Showing "),1==l.page?(g(),f("span",ZR,P(l.page),1)):(g(),f("span",QR,P(l.rowsPerPage*(l.page-1)+1),1)),C(" to "+P(l.page*l.rowsPerPage)+" of "+P(e.leadsTotalItemsPagination)+" entries ",1)]),V("div",eN,[x(h,{loading:l.buttonLoading,class:_([[{active:"unapproved"==l.isActive}],"mt-1 mr-1"]),onClick:t[6]||(t[6]=e=>i.getLeadsByType("unapproved"))},{default:w((()=>[C(" Unapproved - "+P(e.depositsApproveCounts.unapproved??0),1)])),_:1},8,["loading","class"]),x(h,{loading:l.buttonLoading,class:_([[{active:"approved"==l.isActive}],"mt-1 mr-1"]),onClick:t[7]||(t[7]=e=>i.getLeadsByType("approved"))},{default:w((()=>[C(" Approved - "+P(e.depositsApproveCounts.approved??0),1)])),_:1},8,["loading","class"])]),V("div",tN,[x(y,{headers:"unapproved"==l.isActive?l.leadsHeader:l.leadsApprovedHeader,items:e.leadsItemsPagination,loading:l.loading,"buttons-pagination":!1,"border-color":!1,"server-options":l.serverOptions,"onUpdate:serverOptions":t[8]||(t[8]=e=>l.serverOptions=e),"items-selected":l.itemsSelected,"onUpdate:itemsSelected":t[9]||(t[9]=e=>l.itemsSelected=e)},{"item-phone":w((e=>[V("span",{style:{cursor:"pointer"},onClick:t=>i.getCurrentLead(e)},P(e.phone),9,aN)])),"item-offer":w((e=>[V("span",null,P(e.offer),1)])),"item-action":w((e=>[V("span",{style:{cursor:"pointer"},onClick:t=>i.approveDeposit(e)},lN,8,sN)])),_:1},8,["headers","items","loading","server-options","items-selected"])],512),e.leadsTotalPagesItemsPagination>1?(g(),k(u,{key:1,"current-page":l.page,"onUpdate:currentPage":t[10]||(t[10]=e=>l.page=e),"item-per-page":l.rowsPerPage,"total-items":e.leadsTotalItemsPagination,"max-links-displayed":5},null,8,["current-page","item-per-page","total-items"])):I("",!0),e.currentLead?(g(),k(v,{key:2,isLoaderActive:l.isLoaderActive,item:e.currentLead},null,8,["isLoaderActive","item"])):I("",!0),l.multipleActionModal?(g(),f("div",{key:3,class:"table-selected-popup",style:se({width:l.myWidth+"px"})},[V("div",iN,"Selected Items "+P(l.itemsSelected.length),1),V("div",oN,[x(b,{color:"primary",class:"mr-2",elevated:"",onClick:t[11]||(t[11]=e=>{this.approveSelectedLeads()})},{default:w((()=>[C(" Approve ")])),_:1})])],4)):I("",!0)],64)}]]),nN={name:"AccountMyProfile",data:()=>({active_tab:"info",user:{new_password:"",confirm_password:"",email:""},notificationData:{cap:{weight:0,time_cap:0,last_time_lead:0}},uploadFiles:{},fileValue:{},file:[],updateDialogModel:!1}),mounted(){s({title:this.$route.meta.title}),this.getProfile()},methods:{...Se(["getUsersSelect"]),getNotificationData(){this.updateDialogModel=!0},save(){if(!/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(this.profile.email))return void this.$store.commit("setAlert",{message:"Email is incorrect!",type:"error"});let e=this.profile.email;this.$store.dispatch("updateUserProfile",{data:{email:e,telegram_chat:this.profile.telegram_chat,notificationData:this.notificationData,notification_domain:this.profile.notification_domain,notification_caps:this.profile.notification_caps,notification_campaign:this.profile.notification_campaign,notification_ftd:this.profile.notification_ftd}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors}))},updatePassword(){if(this.user.new_password.length<5)return void this.$store.commit("setAlert",{message:"Password length is less than 5",type:"error"});if(this.user.confirm_password!==this.user.new_password)return void this.$store.commit("setAlert",{message:"Password mismatch!",type:"error"});let e=this.user.confirm_password;this.$store.dispatch("updateUserProfile",{data:{password:e}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors}))},updateAvatar(){let e=this.file;this.$store.dispatch("updateAvatar",{data:{file:e}}).then((()=>this.disableLeadInputs=!0)).catch((e=>{this.serverErrors=e.response.data.errors}))},getProfile(){this.$store.dispatch("getProfile",{}).then((()=>{this.profile.notificationData&&this.profile.notificationData.cap&&(this.notificationData.cap.weight=this.profile.notificationData.cap.weight??this.notificationData.cap.weight,this.notificationData.cap.time_cap=this.profile.notificationData.cap.time_cap??this.notificationData.cap.time_cap,this.notificationData.cap.last_time_lead=this.profile.notificationData.cap.last_time_lead??this.notificationData.cap.last_time_lead),this.$store.commit("enableDialogUser")}))},uploadFile(e){this.file=e.target.files[0],this.fileValue=this.$refs.fileInput;var t=new FileReader;t.onload=e=>{this.currentUser.avatar=e.target.result},t.readAsDataURL(this.file)}},computed:{...be(["profile","userId","loadedFiles","userAvatar","getRole"])},watch:{loadedFiles(e){console.log(e),this.uploadFiles=e}},setup(){const e=p(""),t=p(""),a=p(""),s=p(new Date),{y:l}=i();return{companySize:e,businessType:t,productToDemo:a,date:s,isStuck:u((()=>l.value>30))}}},dN={class:"users_form_wrap"},uN={class:"nav"},cN={class:"media-flex-center"},mN=V("div",{class:"v-avatar is-large"},[V("img",{class:"avatar",src:av,alt:""}),V("img",{class:"badge",src:sv,alt:""})],-1),pN={class:"flex-meta"},hN={key:0,class:"buttons"},gN=[V("i",{"aria-hidden":"true",class:"lnil lnil-user-alt"},null,-1),V("span",null,"Personal Info",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],fN=[V("i",{"aria-hidden":"true",class:"lnil lnil-cog"},null,-1),V("span",null,"Notifications",-1),V("span",{class:"end rtl-reflect"},[V("i",{"aria-hidden":"true",class:"fas fa-arrow-right"})],-1)],yN={class:"form-outer"},_N={class:"form-header-inner"},vN=V("div",{class:"left"},[V("h3",null,"Update Profile")],-1),bN={class:"right"},SN={class:"buttons"},kN={class:"form-body"},wN={key:0,class:"form-fieldset"},VN=V("div",{class:"columns is-multiline",style:{"align-items":"flex-end","justify-content":"space-between"}},null,-1),PN={class:"columns is-multiline"},xN={class:"column is-12"},CN={key:1,class:"form-fieldset"},IN=V("div",{class:"fieldset-heading"},[V("h4",null,"Notifications")],-1),DN={class:"columns is-multiline"},LN={class:"column is-6"},$N=V("div",{class:"fieldset-heading"},[V("h4",null,"Settings")],-1),TN={class:"columns is-multiline"},AN={class:"column is-8"},ON={key:0,class:"column is-8"},FN={key:1,class:"column is-8"},UN={key:2,class:"column is-8 is-flex align-items-center"},MN=[V("i",{class:"iconify","data-icon":"feather:edit","aria-hidden":"true"},null,-1)],EN=V("span",{class:"headline"},"Cap Notification Fields",-1);const BN=fe(nN,[["render",function(e,t,a,s,l,i){const o=bt,r=Ft,n=Wt,d=Nt,u=Et,c=xd,m=$("v-card-title"),p=$("v-col"),h=$("v-row"),y=$("v-container"),v=$("v-card-text"),b=$("v-spacer"),S=$("v-btn"),k=$("v-card-actions"),D=ft,L=$("v-dialog");return g(),f("div",dN,[V("div",uN,[V("div",cN,[mN,V("div",pN,[V("span",null,P(this.profile.name),1),V("span",null,P(e.getRole),1)])]),null!=e.getRole&&"admin"==e.getRole||"support"==e.getRole||"financier"==e.getRole||"teamlead"==e.getRole||"manager"==e.getRole||"manager_p"==e.getRole||"affiliate_manager"==e.getRole||null!=e.getRole&&"web_master"==e.getRole||"buyer"==e.getRole?(g(),f("div",hN,[V("a",{onClick:t[0]||(t[0]=B((e=>l.active_tab="info"),["prevent"])),href:"#",class:_({active:"info"===l.active_tab})},gN,2),V("a",{onClick:t[1]||(t[1]=B((e=>l.active_tab="notifications"),["prevent"])),href:"#",class:_({active:"notifications"===l.active_tab})},fN,2)])):I("",!0)]),V("form",{class:"form-layout",onSubmit:t[11]||(t[11]=B(((...e)=>i.save&&i.save(...e)),["prevent"])),autocomplete:"off"},[V("div",yN,[V("div",{class:_([[s.isStuck&&"is-stuck"],"form-header stuck-header"])},[V("div",_N,[vN,V("div",bN,[V("div",SN,[x(o,{icon:"lnir lnir-arrow-left rem-100",onClick:t[2]||(t[2]=t=>e.$router.go(-1)),light:"","dark-outlined":""},{default:w((()=>[C(" Back ")])),_:1}),x(o,{type:"button",color:"primary",onClick:t[3]||(t[3]=e=>i.save()),raised:""},{default:w((()=>[C(" Save")])),_:1})])])])],2),V("div",kN,["info"==l.active_tab?(g(),f("div",wN,[VN,V("div",PN,[V("div",xN,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Email Address")])),_:1}),x(d,{icon:"feather:mail"},{default:w((()=>[x(n,{type:"email",inputmode:"email",modelValue:e.profile.email,"onUpdate:modelValue":t[4]||(t[4]=t=>e.profile.email=t)},null,8,["modelValue"])])),_:1})])),_:1})])])])):I("",!0),"notifications"==l.active_tab?(g(),f("div",CN,[IN,V("div",DN,[V("div",LN,[x(u,null,{default:w((()=>[x(r,null,{default:w((()=>[C("Telegram User ID")])),_:1}),x(d,null,{default:w((()=>[x(n,{type:"text",placeholder:"",autocomplete:"given-name",modelValue:this.profile.telegram_chat,"onUpdate:modelValue":t[5]||(t[5]=e=>this.profile.telegram_chat=e)},null,8,["modelValue"])])),_:1})])),_:1})])]),$N,V("div",TN,[V("div",AN,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:e.profile.notification_ftd,"onUpdate:modelValue":t[6]||(t[6]=t=>e.profile.notification_ftd=t),trueValue:"1",label:"FTD",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})]),null==e.getRole||"affiliate_manager"!=e.getRole&&"admin"!=e.getRole&&"support"!=e.getRole?I("",!0):(g(),f("div",ON,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:e.profile.notification_campaign,"onUpdate:modelValue":t[7]||(t[7]=t=>e.profile.notification_campaign=t),trueValue:"1",label:"Campaigns",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),null==e.getRole||"teamlead"!=e.getRole&&"buyer"!=e.getRole?I("",!0):(g(),f("div",FN,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:e.profile.notification_domain,"onUpdate:modelValue":t[8]||(t[8]=t=>e.profile.notification_domain=t),trueValue:"1",label:"Domains",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),null==e.getRole||"admin"!=e.getRole&&"affiliate_manager"!=e.getRole&&"support"!=e.getRole?I("",!0):(g(),f("div",UN,[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:e.profile.notification_caps,"onUpdate:modelValue":t[9]||(t[9]=t=>e.profile.notification_caps=t),trueValue:"1",label:"Caps",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),V("div",{class:"cursor-pointer",style:{"margin-bottom":"10px","margin-left":"-8px",padding:"4px"},onClick:t[10]||(t[10]=e=>i.getNotificationData())},MN)]))])])):I("",!0)])])],32),x(L,{modelValue:l.updateDialogModel,"onUpdate:modelValue":t[16]||(t[16]=e=>l.updateDialogModel=e),"max-width":"500px",persistent:"","no-click-animation":""},{default:w((()=>[x(D,{color:"#1E272C"},{default:w((()=>[x(m,null,{default:w((()=>[EN])),_:1}),x(v,null,{default:w((()=>[x(y,null,{default:w((()=>[x(h,null,{default:w((()=>[x(p,{cols:"12",sm:"12",md:"12"},{default:w((()=>[x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:l.notificationData.cap.weight,"onUpdate:modelValue":t[12]||(t[12]=e=>l.notificationData.cap.weight=e),trueValue:"1",label:"Weight",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:l.notificationData.cap.time_cap,"onUpdate:modelValue":t[13]||(t[13]=e=>l.notificationData.cap.time_cap=e),trueValue:"1",label:"Time Cap",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1}),x(u,{class:"is-flex align-center"},{default:w((()=>[x(d,null,{default:w((()=>[x(c,{modelValue:l.notificationData.cap.last_time_lead,"onUpdate:modelValue":t[14]||(t[14]=e=>l.notificationData.cap.last_time_lead=e),trueValue:"1",label:"Last Time Lead",color:"primary",style:{"padding-left":"0"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),x(k,null,{default:w((()=>[x(b),x(S,{color:"#009688",text:"",onClick:t[15]||(t[15]=e=>l.updateDialogModel=!1)},{default:w((()=>[C("Cancel")])),_:1}),x(S,{color:"#009688",text:"",onClick:i.save},{default:w((()=>[C("Save")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);function zN(e){return()=>((e,t)=>{const a=e[t];return a?"function"==typeof a?a():Promise.resolve(a):new Promise(((e,a)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t)))}))})(Object.assign({"../views/404.vue":()=>Qe((()=>import("./404-DS19sX-X.js")),__vite__mapDeps([75,21,3,22,23,24,25,36,12,37,2,4,5,38,27,26,10,11,13,14,15,16,17,18,19,20,39,40,28,41,42,33,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,63,64])),"../views/Main.vue":()=>Qe((()=>import("./Main-DnY_qymd.js")),__vite__mapDeps([76,28,3,73,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,32,33,69,70,74,36,37,2,4,5,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,6,7,0,1,61,63,64]))}),`../views/${e}.vue`)}function jN(e=""){return[{path:"dashboard",component:Ko,name:e+"dashboard",meta:{title:"Dashboard"}},{path:"reports",component:Zr,name:e+"reports",meta:{title:"Reports"}},{path:"manager-statistics",component:nV,name:e+"manager-statistics",meta:{title:"Manager statistics"}},{path:"notifications",component:JI,name:e+"notifications",meta:{title:"Notifications"}},{path:"cold-overflows",component:hC,name:e+"cold-overflows",meta:{title:"Cold Overflows"}},{path:"keitaro",component:vx,name:e+"kaitaro",meta:{title:"Keitaro"}},{path:"cold-overflow/:id",component:vI,name:e+"cold-overflow",meta:{title:"Cold Overflow"}},{path:"finance-statistic",component:fT,name:e+"finance-statistic",meta:{title:"Finance Statistic"}},{path:"leads",component:$h,name:e+"leads",meta:{title:"Leads"}},{path:"new-lead",component:kf,name:e+"lead",meta:{title:"New Lead"}},{path:"deposit-approve",component:Wh,name:e+"deposit-approve",meta:{title:"Deposit Approve"}},{path:"leads-imports",component:tg,name:e+"leads-imports",meta:{title:"Leads Imports"}},{path:"leads-imports/add",component:Zg,name:e+"leads-import-add",meta:{title:"New Leads Import"}},{path:"leads-imports/:id",component:Fg,name:e+"leads-import",meta:{title:"Leads Import"}},{path:"brokers",component:If,name:e+"brokers",meta:{title:"Brokers"}},{path:"brokers/:id",component:ek,name:e+"broker",meta:{title:"Edit Broker"}},{path:"campaigns",component:x_,name:e+"campaigns",meta:{title:"Campaigns"}},{path:"campaigns/:id",component:TS,name:e+"campaign",meta:{title:"Edit Campaign"}},{path:"users",component:tv,name:e+"users",meta:{title:"Users"}},{path:"users/:id",component:rb,name:e+"user",meta:{title:"Edit User"}},{path:"crm-settings",component:tT,name:e+"CRM",meta:{title:"CRM"}},{path:"country-groups",component:uT,name:e+"Country Groups",meta:{title:"Country Groups"}},{path:"funnels",component:yk,name:e+"funnels",meta:{title:"Funnels"}},{path:"sources",component:wk,name:e+"sources",meta:{title:"Sources"}},{path:"statistics",component:qw,name:e+"statistics",meta:{title:"Statistics"}},{path:"caps",component:zV,name:e+"caps",meta:{title:"Caps"}},{path:"teamlead-stats",component:BM,name:e+"teamlead-stats",meta:{title:"Teamlead Statistics"}},{path:"statuses",component:uP,name:e+"statuses",meta:{title:"Statuses"}},{path:"log-brokers",component:pP,name:e+"log-brokers",meta:{title:"Broker Logs"}},{path:"log-leads",component:fP,name:e+"log-leads",meta:{title:"Leads Logs"}},{path:"log-leads-error",component:kx,name:e+"log-leads-error",meta:{title:"Leads Error Logs"}},{path:"domains",component:l$,name:e+"domains",meta:{title:"Domains"}},{path:"landings",component:ET,name:e+"landings",meta:{title:"Landings"}},{path:"integrations",component:m$,name:e+"integrations",meta:{title:"Integrations"}},{path:"integrations/add",component:$$,name:e+"integration-add",meta:{title:"Add Integration"}},{path:"integrations/:id",component:B$,name:e+"integration",meta:{title:"Edit Integration"}},{path:"servers",component:CT,name:e+"servers",meta:{title:"Servers"}},{path:"archives",component:nA,name:e+"archives",meta:{title:"Archives"}},{path:"services",component:uA,children:[{path:"",component:VA,name:e+"services",meta:{title:"Services"}},{path:"keitaro/create",component:MU,name:e+"create-service-step-2",meta:{title:"Create Service"}},{path:"gitlab/create",component:VU,name:e+"create-gitlab",meta:{title:"Create Service"}},{path:"binom/create",component:FM,name:e+"create-binom-service-step-2",meta:{title:"Create Service"}},{path:"namecheap/create",component:KU,name:e+"namecheap-create",meta:{title:"Create Service"}},{path:"facebook/create",component:dM,name:e+"facebook-create",meta:{title:"Create Service"}},{path:"cloudflare/create",component:kM,name:e+"cloudflare-create",meta:{title:"Create Service"}}]},{path:"services/keitaro",component:zO,name:e+"services-keitaro",meta:{title:"Services"}},{path:"services/gitlab",component:fO,name:e+"services-gitlab",meta:{title:"Services"}},{path:"services/binom",component:nF,name:e+"services-binom",meta:{title:"Services"}},{path:"services/facebook",component:qA,name:e+"services-facebook",meta:{title:"Services"}},{path:"services/namecheap",component:ZF,name:e+"services-namecheap",meta:{title:"Services"}},{path:"services/cloudflare",component:LF,name:e+"services-cloudflare",meta:{title:"Services"}},{path:"spends",component:PL,name:e+"spends",meta:{title:"Spends"}},{path:"spending-categories",component:LL,name:e+"spending-categories",meta:{title:"Spending categories"}},{path:"activity-log",component:cU,name:e+"activity-log",meta:{title:"Activity Log"}}]}const RN=[{path:"/",component:pa,name:"login-2",meta:{requiresVisitor:!0,title:"Login"}},{path:"/:catchAll(.*)",name:"NotFound",component:$z},{path:"/404",name:"404",component:$z,meta:{title:"Not Found | 404"}},{path:"/login",component:pa,name:"login",meta:{requiresVisitor:!0,title:"Login"}},{path:"/logout",component:ha,meta:{requiresAuth:!0,title:"Logout | CRM MATE"},name:"logout"},{path:"/account",component:zN("Main"),children:[{path:"profile",component:BN,name:"my-profile",meta:{title:"My profile"}}]},{path:"/admin",component:zN("Main"),children:jN(),meta:{requiresAuth:!0,permission:"Admin",role:"admin"}},{path:"/dummy",component:{template:"<div></div>"}},{path:"/support",component:zN("Main"),children:jN("support-"),meta:{requiresAuth:!0,permission:"Support",role:"support"}},{path:"/buyer",component:zN("Main"),children:[{path:"dashboard",component:xB,name:"buyer-dashboard",meta:{title:"Dashboard"}},{path:"motivations",component:NB,name:"motivations",meta:{title:"Motivation Table"}},{path:"notifications",component:rz,name:"buyer-notifications",meta:{title:"Notifications"}},{path:"statistic",component:IB,name:"buyer-statistic",meta:{title:"Statistic"}},{path:"leads",component:CB,name:"buyer-leads",meta:{title:"Leads"}},{path:"spends",component:nz,name:"buyer-spends",meta:{title:"Spends"}},{path:"domains",component:DB,name:"buyer-domains",meta:{title:"Domains"}}],meta:{requiresAuth:!0,permission:"Buyer",role:"buyer"}},{path:"/webmaster",component:zN("Main"),children:[{path:"/api-documentation",component:Pi,name:"api-documentation",meta:{title:"API Documentation"}},{path:"notifications",component:PB,name:"webmaster-notifications",meta:{title:"Notifications"}},{path:"dashboard",component:SE,name:"webmaster-dashboard",meta:{title:"Dashboard"}},{path:"statistic",component:rB,name:"webmaster-statistic",meta:{title:"Statistic"}},{path:"leads",component:LE,name:"webmaster-leads",meta:{title:"Leads"}},{path:"landings",component:zE,name:"webmaster-landings",meta:{title:"Landings"}},{path:"spends",component:QE,name:"webmaster-spending",meta:{title:"Spends"}}],meta:{requiresAuth:!0,permission:"Webmaster",role:"web_master"}},{path:"/affiliate-manager",component:zN("Main"),children:[{path:"leads",component:Uz,name:"affiliate-manager-leads",meta:{title:"Leads"}},{path:"leads-imports",component:tg,name:"affiliate-manager-leads-imports",meta:{title:"Leads Imports"}},{path:"leads-imports/add",component:Zg,name:"affiliate-manager-leads-import-add",meta:{title:"New Leads Import"}},{path:"leads-imports/:id",component:Fg,name:"affiliate-manager-leads-import",meta:{title:"Leads Import"}},{path:"deposit-approve",component:rN,name:"affiliate-manager-deposit-approve",meta:{title:"Deposit Approve"}},{path:"cold-overflows",component:_j,name:"affiliate-manager-cold-overflows",meta:{title:"Cold Overflows"}},{path:"cold-overflow/:id",component:nR,name:"affiliate-manager-cold-overflow",meta:{title:"Cold Overflow"}},{path:"users",component:dR,name:"affiliate-manager-users",meta:{title:"Users"}},{path:"users/:id",component:rb,name:"affiliate-manager-user",meta:{title:"Edit User"}},{path:"sources",component:cR,name:"affiliate-manager-sources",meta:{title:"Sources"}},{path:"funnels",component:Fz,name:"affiliate-manager-funnels",meta:{title:"Funnels"}},{path:"statistics",component:uR,name:"affiliate-manager-statistic",meta:{title:"Statistics"}},{path:"campaigns",component:Bz,name:"affiliate-manager-offers",meta:{title:"Campaigns"}},{path:"campaigns/:id",component:TS,name:"affiliate-manager-offer",meta:{title:"Edit Campaign"}},{path:"caps",component:zz,name:"affiliate-manager-caps",meta:{title:"Caps"}},{path:"dashboard",component:jz,name:"affiliate-manager-dashboard",meta:{title:"Dashboard"}},{path:"notifications",component:ij,name:"affiliate-manager-notifications",meta:{title:"Notifications"}}],meta:{requiresAuth:!0,permission:"affiliate_manager",role:"affiliate_manager"}},{path:"/financier",component:zN("Main"),children:[{path:"dashboard",component:dz,name:"financier-dashboard",meta:{title:"Dashboard"}},{path:"statistic",component:pz,name:"financier-statistic",meta:{title:"Statistics"}},{path:"leads",component:hz,name:"financier-leads",meta:{title:"Leads"}},{path:"spends",component:gz,name:"financier-spends",meta:{title:"Spends"}},{path:"spending-categories",component:vz,name:"Spending categories",meta:{title:"Spending categories"}}],meta:{requiresAuth:!0,permission:"Financier",role:"financier"}},{path:"/teamlead",component:zN("Main"),children:[{path:"dashboard",component:RM,name:"teamlead-dashboard",meta:{title:"Dashboard"}},{path:"notifications",component:oE,name:"teamlead-notifications",meta:{title:"Notifications"}},{path:"leads",component:zM,name:"teamlead-leads",meta:{title:"Leads"}},{path:"statistic",component:jM,name:"teamlead-statistic",meta:{title:"Statistic"}},{path:"spends",component:rE,name:"teamlead-spends",meta:{title:"Spends"}}],meta:{requiresAuth:!0,permission:"TeamLead",role:"teamlead"}}],NN=Te.create({baseURL:"/api",headers:{"X-Requested-With":"XMLHttpRequest"}}),HN={state:{token:localStorage.getItem("access_token")||null,roleUser:localStorage.getItem("role")||null,userName:localStorage.getItem("userName")||null,userId:localStorage.getItem("userId")||0,userAvatar:localStorage.getItem("userAvatar")||"",path:localStorage.getItem("path")||null,crmSettings:JSON.parse(localStorage.getItem("crmSettings")||"{}"),userSettings:JSON.parse(localStorage.getItem("userSettings")||"{}"),fieldsLeadsTable:JSON.parse(localStorage.getItem("fieldsLeadsTable")||"[]"),dashboardCharts:JSON.parse(localStorage.getItem("dashboardCharts")||"[]"),leadsPageTabs:JSON.parse(localStorage.getItem("leadsPageTabs")||"[]"),permissions:JSON.parse(localStorage.getItem("permissions")||"[]")},getters:{fieldsLeadsTable:e=>e.fieldsLeadsTable,loggedIn:e=>null!==e.token,getToken:e=>e.token,getPermissions:e=>e.permissions,getRole:e=>e.roleUser,getUserName:e=>e.userName,getCrmSettings:e=>e.crmSettings,getUserSettings:e=>e.userSettings,path:e=>e.path,userId:e=>e.userId,userAvatar:e=>e.userAvatar,leadsPageTabs:e=>e.leadsPageTabs,dashboardCharts:e=>e.dashboardCharts},mutations:{retrieveToken(e,t){localStorage.setItem("access_token",t),e.token=t},setRole(e,t){localStorage.setItem("role",t),e.roleUser=t},setPermissions(e,t){e.permissions=t},setUserName(e,t){localStorage.setItem("userName",t),e.userName=t},setFieldsLeadsTable(e,t){localStorage.setItem("fieldsLeadsTable",JSON.stringify(t)),e.fieldsLeadsTable=t},setCrmSettings(e,t){localStorage.setItem("crmSettings",JSON.stringify(t)),e.crmSettings=t},setUserSettings(e,t){localStorage.setItem("userSettings",JSON.stringify(t)),localStorage.setItem("permissions",JSON.stringify(t.permissions)),localStorage.setItem("fieldsLeadsTable",JSON.stringify(t.tableFields.leads)),e.userSettings=t},setUserId(e,t){localStorage.setItem("userId",t),e.userId=t},setUserAvatar(e,t){localStorage.setItem("userAvatar",t),e.userAvatar=t},setPath(e,t){let a="";"admin"===t?a="admin":"web_master"===t?a="web-master":"buyer"==t?a="buyer":"teamlead"===t?a="teamlead":"affiliate"===t?a="affiliate":"manager"===t?a="manager":"financier"===t?a="financier":"affiliate_manager"===t?a="affiliate-manager":"support"===t?a="support":(console.log(t),a="manager-pro"),console.log(a),localStorage.setItem("path",a),e.path=a},destroyRole(e){localStorage.removeItem("role"),e.roleUser=null},destroyToken(e){localStorage.removeItem("access_token"),e.token=null},destroyUserId(e){localStorage.removeItem("userId"),e.roleUser=null},setLeadsPageTabs(e,t){e.leadsPageTabs=t,localStorage.setItem("leadsPageTabs",JSON.stringify(t))},setDashboardCharts(e,t){e.dashboardCharts=t,localStorage.setItem("dashboardCharts",JSON.stringify(t))}},actions:{destroyToken(e){if(NN.defaults.headers.common.Authorization="Bearer "+e.state.token,e.getters.loggedIn)return new Promise(((t,a)=>{NN.post("/logout").then((a=>{e.commit("destroyToken"),e.commit("destroyRole"),e.commit("destroyUserId"),e.commit("destroyUserSettings"),e.commit("destroyCrmSettings"),e.commit("destroyFieldsLeadsTable"),t(a)})).catch((t=>{localStorage.removeItem("access_token"),e.commit("destroyToken"),e.commit("setAlert",{message:"Error",type:"error"}),e.commit("destroyRole"),a(t)}))}))},retrieveToken:(e,t)=>new Promise(((a,s)=>{NN.post("/login",{email:t.email,password:t.password}).then((t=>{const s=t.data.data.role;e.commit("retrieveToken",t.data.data.token),e.commit("setRole",s),e.commit("setCrmSettings",t.data.data.crmSettings),e.commit("setUserSettings",t.data.data.userSettings),e.commit("setFieldsLeadsTable",t.data.data.userSettings.tableFields.leads),e.commit("setUserName",t.data.data.name),e.commit("setUserId",t.data.data.id),e.commit("setLeadsPageTabs",t.data.data.userSettings.leadsPageTabs),e.commit("setDashboardCharts",t.data.data.userSettings.dashboardCharts),t.data.data.avatar?e.commit("setUserAvatar",t.data.data.avatar):e.commit("setUserAvatar","/images/avatars/svg/vuero-1.svg");let l=s;e.commit("setPath",l),a(t)})).catch((e=>{s(e)}))}))}};const WN={state:{itemsPagination:[],totalItemsPagination:0,currentPageItemsPagination:1,totalPagesItemsPagination:null,rowsPerPagePagination:25},getters:{itemsPagination:e=>e.itemsPagination,totalItemsPagination:e=>e.totalItemsPagination,currentPageItemsPagination:e=>e.currentPageItemsPagination,totalPagesItemsPagination:e=>e.totalPagesItemsPagination},mutations:{setItemsPagination(e,t){t&&(e.itemsPagination=t)},setTotalItemsPagination(e,t){e.totalItemsPagination=t},setCurrentPageItemsPagination(e,t){e.currentPageItemsPagination=t},setTotalPagesItemsPagination(e,t){e.totalPagesItemsPagination=t},incrementTotalPagination(e){e.totalItemsPagination++},addItemPagination(e,t){e.itemsPagination.unshift(t),e.totalItemsPagination++},updateItemPagination(e,t){let a=e.itemsPagination.findIndex((e=>e.id===t.id));Object.assign(e.itemsPagination[a],t)},updateItemPaginationById(e,t){let a=e.itemsPagination.findIndex((e=>e.id===t.index));Object.assign(e.itemsPagination[a],t)},deleteItemPagination(e,t){let a=e.itemsPagination.findIndex((e=>e.id===t));e.itemsPagination.splice(a,1),e.totalItemsPagination--}},actions:{getItemsPagination(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?page=${t.page}`;return t.hasOwnProperty("rowsPerPage")?a+=`&per_page=${t.rowsPerPage}`:a+=`&per_page=${e.state.rowsPerPagePagination}`,t.hasOwnProperty("filtersValues")&&(a+=function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setItemsPagination",a.data.data.data),e.commit("setTotalItemsPagination",a.data.data.total),e.commit("setCurrentPageItemsPagination",a.data.data.current_page),e.commit("setTotalPagesItemsPagination",a.data.data.total_pages),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))}}};function YN(e){let t="";for(const[a,s]of Object.entries(e))if(""!==s)if(Array.isArray(s))if("utmParam"==a){let e="";for(let t in s)e+=s[t].join(",")+",";e=e.replace(/,+$/,""),t+=`&${a}=${e}`}else t+=`&${a}=${s.join(",")}`;else"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`);return t}const GN={state:{currentLead:{},dialogLead:!1,leadsItemsPagination:[],leadsTotalItemsPagination:0,leadsCurrentPageItemsPagination:1,leadsTotalPagesItemsPagination:null,leadsRowsPerPagePagination:25,leadCounts:{},utmFields:[],loadingRefresh:localStorage.getItem("loading_refresh"),leadsPeriod:null!=localStorage.getItem("leadsPeriod")?localStorage.getItem("leadsPeriod"):"this_month",dateType:null!=localStorage.getItem("dateType")?localStorage.getItem("dateType"):"created_at",sendType:null!=localStorage.getItem("sendType")?localStorage.getItem("sendType"):"sended",depositsApproveCounts:{},fakerLead:{}},getters:{fakerLead:e=>e.fakerLead,leadsPeriod:e=>e.leadsPeriod,dateType:e=>e.dateType,sendType:e=>e.sendType,currentLead:e=>e.currentLead,dialogLead:e=>e.dialogLead,leadsItemsPagination:e=>e.leadsItemsPagination,leadsTotalItemsPagination:e=>e.leadsTotalItemsPagination,leadsCurrentPageItemsPagination:e=>e.leadsCurrentPageItemsPagination,leadsTotalPagesItemsPagination:e=>e.leadsTotalPagesItemsPagination,leadCounts:e=>e.leadCounts,utmFields:e=>e.utmFields,loadingRefresh:e=>e.loadingRefresh,depositsApproveCounts:e=>e.depositsApproveCounts},mutations:{setFakerLead(e,t){e.fakerLead=t},setCurrentLead(e,t){e.currentLead=t},enableDialogLead(e){e.dialogLead=!0},disableDialogLead(e){e.dialogLead=!1},setOfferForCurrentLead(e,t){e.currentLead.offer_name=t.offer_name},setLeadCounts(e,t){e.leadCounts=t},setLeadsItemsPagination(e,t){e.leadsItemsPagination=t},setLeadsTotalItemsPagination(e,t){e.leadsTotalItemsPagination=t},setLeadsCurrentPageItemsPagination(e,t){e.leadsCurrentPageItemsPagination=t},setLeadsTotalPagesItemsPagination(e,t){e.leadsTotalPagesItemsPagination=t},setUtmFields(e,t){e.utmFields=t},setLoadingRefresh(e,t){e.loadingRefresh=t.id,localStorage.setItem("loading_refresh",t.id)},deleteLoadingRefresh(e,t){e.loadingRefresh=0,localStorage.setItem("loading_refresh",0)},setLeadsPeriod(e,t){e.leadsPeriod=t,localStorage.setItem("leadsPeriod",t)},setDateType(e,t){e.dateType=t,localStorage.setItem("dateType",t)},setDepositsApproveCounts(e,t){e.depositsApproveCounts=t}},actions:{updateLeadsPeriod(e,t){e.commit("setLeadsPeriod",t)},updateDateType(e,t){e.commit("setDateType",t)},getLeadsItemsPagination(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?page=${t.page}`;return t.hasOwnProperty("rowsPerPage")?a+=`&per_page=${t.rowsPerPage}`:a+=`&per_page=${e.state.rowsPerPagePagination}`,t.hasOwnProperty("filtersValues")&&(a+=YN(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setLeadsItemsPagination",a.data.data.data),e.commit("setLeadsTotalItemsPagination",a.data.data.total),e.commit("setLeadsCurrentPageItemsPagination",a.data.data.current_page),e.commit("setLeadsTotalPagesItemsPagination",a.data.data.total_pages),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getLeadCounts(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/leads/counts/?`;return t&&t.hasOwnProperty("filtersValues")&&(a+=YN(t.filtersValues)),console.log(a),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setLeadCounts",a.data.data),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))},getDepositsApproveCounts(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/leads/deposits-counts/?`;return t&&t.hasOwnProperty("filtersValues")&&(a+=YN(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setDepositsApproveCounts",a.data.data),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))},getFakerLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{let l="";t&&(l="?country="+t),NN.get(`/${e.rootState.auth.path}/leads/faker`+l).then((t=>{e.commit("setFakerLead",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/leads/${t}`).then((t=>{e.commit("setCurrentLead",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),createNewLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post("/leads",t).then((t=>{console.log(t.data),t.data.hasOwnProperty("status")&&!1===t.data.status?e.commit("setAlert",{message:"Lead Created - "+t.data.error,type:"error"}):e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),importLeads(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return a.append("importFile",t.data.importFile),a.append("offer",t.data.importOffer),new Promise(((t,s)=>{NN.post(`/${e.rootState.auth.path}/import/leads`,a).then((a=>{e.commit("setAlert",{message:"Success",type:"success"}),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},export(e,t){let a=`/${e.rootState.auth.path}/leads/export`;return t.hasOwnProperty("filtersValues")&&(a+="?"+YN(t.filtersValues)),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((s,l)=>{NN.post(a,t).then((e=>{s(e.data)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});l(t)}))}))},deleteLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/leads/${t.leadId}`).then((s=>{e.commit("deleteItemPagination",t.leadId,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateLeadComment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead/${t.leadId}/comments/${t.commentId}`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),deleteLeadComment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/lead/${t.leadId}/comments/${t.commentId}`).then((s=>{e.commit("deleteItemPagination",t.leadId,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),restoreLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/restore/${t.leadId}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),addLeadComment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/lead/${t.leadId}/comments`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),setLockLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/mass-lock/`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),setLockLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/lock/${t.leadId}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),setAsRemovedLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/remove/${t.leadId}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),deleteLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads-delete`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),setAsRemovedLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads-set-as-removed`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),restoreRemovedLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/restore-removed-leads`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),verifyLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/leads/verify/all`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),verifyLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/leads/${t.leadId}/verify`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),verifyLeadAll:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/leads/verify/all`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateMassLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/mass-update`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateLeadFields:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/update-fields`,t.data).then((t=>{e.commit("setFieldsLeadsTable",t.data.data.tableFields),e.commit("setLeadsPageTabs",t.data.data.leadsSettingsTabs),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),approveLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/approve-leads`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/leads/${t.leadId}`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),resendLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/${t.leadId}/resend`,t).then((t=>{e.commit("setOfferForCurrentLead",t.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t.data)})).catch((t=>{let a=t.response.data.error;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),resendNewLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/${t.leadId}/new-resend`,{new_user:t.new_user,new_source:t.new_source,autologin:t.autologin}).then((t=>{e.commit("setOfferForCurrentLead",t.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t.data)})).catch((t=>{let a=t.response.data.error;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),resendLeadByOfferId:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/${t.leadId}/resend/offer`,{offer_id:t.offerId,autologin:t.autologin,overflowID:t.overflowID}).then((t=>{e.commit("setOfferForCurrentLead",t.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t.data)})).catch((t=>{let a=t.response.data.error;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),resendNewLeadByOfferId:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/${t.leadId}/new-resend/offer`,{offer_id:t.offerId,new_user:t.new_user,new_source:t.new_source,autologin:t.autologin}).then((t=>{e.commit("setOfferForCurrentLead",t.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t.data)})).catch((t=>{let a=t.response.data.error;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),refreshStatuses:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/update-statuses`,t).then((t=>{e.commit("setLoadingRefresh",t.data.data),a(t.data)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),resendHold:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/resend-mass`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t.data)})).catch((t=>{let a=t.response.data.msg;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),confirmLeadDeposit:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/deposits-approve/approve/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),a(s)})).catch((t=>{let a=t.response.data.Error;e.commit("setAlert",{message:a,type:"error"}),s(t)}))}))),startImport(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return a.append("columns",JSON.stringify(t.columns)),a.append("id",t.id),new Promise(((s,l)=>{NN.post(`/${e.rootState.auth.path}/leads/import-file`,a,{onUploadProgress:e=>{}}).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),s(t)})).catch((a=>{let s=Object.keys(a.response.data.errors);e.commit("setAlert",{message:a.response.data.errors[s][0],type:"error"}),e.commit("archiveDeleteItemPagination",t.file.name),e.commit("destroyLoadedFile",t.file.name),l(a)}))}))},importLeadsHeaders(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return a.append("importFile",t.file),new Promise(((s,l)=>{NN.post(`/${e.rootState.auth.path}/leads/import-headers`,a,{onUploadProgress:e=>{}}).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),s(t)})).catch((a=>{let s=Object.keys(a.response.data.errors);e.commit("setAlert",{message:a.response.data.errors[s][0],type:"error"}),e.commit("archiveDeleteItemPagination",t.file.name),e.commit("destroyLoadedFile",t.file.name),l(a)})),e.commit("archiveAddItemPagination",{id:t.file.name,name:t.file.name.replace(".zip",""),loading:!0},{root:!0})}))},getUtmFields:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/leads/utm-fields`).then((a=>{e.commit("setUtmFields",a.data.data),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});a(t)}))}))),refreshStatusesCheck:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads/update-statuses/`+localStorage.getItem("loading_refresh"),t).then((t=>{console.log(t.data),e.commit("deleteLoadingRefresh",0),a(t.data)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},qN={state:{leadsImport:{}},getters:{leadsImport:e=>e.leadsImport},mutations:{setLeadsImport(e,t){e.leadsImport=t}},actions:{getImportFile:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("http://127.0.0.1:8000/storage/imports/2023-12/1702119317.xlsx").then((e=>{console.log(e)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});a(t)}))}))),getLeadsImport:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/leads-import/${t.id}?page=${t.page}`).then((t=>{console.log("leadsImport",t.data.data),e.commit("setLeadsImport",t.data.data),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),createLeadsImport(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return a.append("file",t.file),a.append("name",t.name),a.append("type",t.type),new Promise(((t,s)=>{NN.post(`/${e.rootState.auth.path}/leads-import`,a).then((a=>{e.commit("setAlert",{message:"Success",type:"success"}),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))},deleteLeadsImport:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/leads-import/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),saveEditedLeadsImportFile:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/leads-import/save-edited-leadsimport-file`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),console.log(t.data),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}};function JN(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}const KN={state:{currentCampaign:{},newItem:{name:"",integration_id:"",partner_id:"",daily_cap:"",weight:1,landing_names_ids:[],sources_ids:[],countries_ids:[],is_active:!1,pay:null},offerEdited:{id:null,name:"",integration_id:null,partner_id:null,daily_cap:0,weight:1,landing_names_ids:[],sources_ids:[],countries:[],is_active:null,pay:null,payout:0},coldOverflowEdited:{},offersStatsByPublicLink:[],campaignsCounts:{},coldOverflowLeadsCount:[],dialogCampaign:!1,offerUsers:[],campaignLeadsStatuses:[],campaignStatusesCount:{},offersForSend:[]},getters:{offersForSend:e=>e.offersForSend,currentCampaign:e=>e.currentCampaign,offerEdited:e=>e.offerEdited,newItem:e=>e.newItem,coldOverflowEdited:e=>e.coldOverflowEdited,offersStatsByPublicLink:e=>e.offersStatsByPublicLink,campaignsCounts:e=>e.campaignsCounts,coldOverflowLeadsCount:e=>e.coldOverflowLeadsCount,dialogCampaign:e=>e.dialogCampaign,offerUsers:e=>e.offerUsers,campaignLeadsStatuses:e=>e.campaignLeadsStatuses,campaignStatusesCount:e=>e.campaignStatusesCount},mutations:{setOffersForSend(e,t){e.offersForSend=t},setCurrentCampaign(e,t){e.currentCampaign=t},setColdOverflowEdited(e,t){e.coldOverflowEdited=t},setEditedOffer(e,t){e.offerEdited=t},editOffer(e,t){e.offerEdited=Object.assign({},t)},setNewItem(e,t){e.newItem={name:t.name,integration_id:{id:t.integration_id},partner_id:{id:t.partner_id},daily_cap:t.daily_cap,landing_names_ids:t.landing_names_ids,landings:t.landing_names_ids,sources_ids:t.sources,countries_ids:t.countries_ids,is_active:t.is_active,pay:t.pay,lang_id:t.lang_id,payment_type_id:t.payment_type_id,total_cap:t.total_cap,custom_cap:t.custom_cap,start_cap:t.start_cap,end_cap:t.end_cap}},clearFieldsOffers(e){e.newItem={name:"",integration_id:null,partner_id:null,daily_cap:0,landing_names_ids:[],sources_ids:[],countries_ids:[],is_active:!1}},setOffersStatsByPublicLink(e,t){e.offersStatsByPublicLink=t},setCampaignsCounts(e,t){e.campaignsCounts=t},setColdOverflowLeadsCount(e,t){e.coldOverflowLeadsCount=t},enableDialogCampaignPopup(e){e.dialogCampaign=!0},disableDialogCampaignPopup(e){e.dialogCampaign=!1},setOfferUsers(e,t){e.offerUsers=t},setCampaignLeadsStatuses(e,t){e.campaignLeadsStatuses=t},setCampaignLeadsStatusesCount(e,t){e.campaignStatusesCount=t}},actions:{getCurrentCampaign:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/${t}`).then((t=>{e.commit("setCurrentCampaign",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateCampaignLeadsStatuses:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/${t}/campaign-statuses/update`).then((t=>{e.commit("setCampaignLeadsStatuses",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateCampaignLeadsStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/offers/${t.id}/campaign-statuses/${t.status_id}/update`,{...t}).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCampaignLeadStatusesCount(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/offers/${t.id}/campaign-statuses/count?`;return t.hasOwnProperty("filtersValues")&&(a+=JN(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setCampaignLeadsStatusesCount",a.data.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},coldOverflowActivityToggle:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow/${t.item.id}/activity`,{activity:t.item.is_active}).then((t=>{a(t),e.commit("setAlert",{message:"Success",type:"success"})})).catch((t=>{if(t.response.data.hasOwnProperty("msg"))e.commit("setAlert",{message:t.response.data.msg,type:"error"});else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}s(t)}))}))),deleteColdOverflowLead:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/cold-overflow/${t.overflow_id}/leads/${t.lead_id}`).then((s=>{e.commit("deleteItemPagination",t.lead_id,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteColdOverflowLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow/${t.overflow_id}/leads`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),clearColdOverflowLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow/${t.overflow_id}/clear-leads`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateColdOverflowLeads:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow/${t.offerId}/update-leads`,{}).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateColdOverflow:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/cold-overflow/${t.offerId}`,{name:t.item.name,interval:t.item.interval,offer_id:t.item.offer_id,sources_ids:t.sources,user_id:t.item.user_id,date_start:t.item.date_start,date_end:t.item.date_end,landing_names_ids:t.landings,countries_ids:t.countries,offers:t.offers,new_user_id:t.item.new_user_id,users:t.users,type:t.item.type,status_type:t.item.status_type,is_new_lead:t.item.is_new_lead,custom_cap:t.item.custom_cap,daily_cap:t.item.daily_cap,start_cap:t.item.start_cap,end_cap:t.item.end_cap,is_autologin:t.item.is_autologin,weeks:t.item.weeks,append_end_time:t.item.append_end_time,append_start_time:t.item.append_start_time,is_append:t.item.is_append}).then((t=>{e.commit("editOffer",t.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),createColdOverflow:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow`,{name:t.item.name,landing_names_ids:t.landing_names,countries_ids:t.countries,sources_ids:t.sources,interval:t.item.interval,date_start:t.item.date_start,date_end:t.item.date_end,offers:t.offers,users:t.users,type:t.item.type,status_type:t.item.status_type}).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("clearFieldsOffers"),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getColdOverflow:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/cold-overflow/${t}`).then((t=>{e.commit("setColdOverflowEdited",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteColdOverflow:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/cold-overflow/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getColdOverflowLeadsCount:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/cold-overflow/${t.id}/leads-count`).then((t=>{e.commit("setColdOverflowLeadsCount",t.data.data),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),createOffer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/offers`,{name:t.item.name,integration_id:t.item.integration_id,partner_id:t.item.partner_id,daily_cap:t.item.daily_cap,total_cap:t.item.total_cap,landing_names_ids:t.landings,sources_ids:t.sources,countries_ids:t.countries,pay:t.item.pay,lang_id:t.item.lang_id,payment_type_id:t.payment_type_id,custom_cap:t.item.custom_cap,start_cap:t.item.start_cap,end_cap:t.item.end_cap,weight:t.weight,users:t.users,pay_percent:t.pay_percent,is_active:t.item.is_active,black_list_percent:t.item.black_list_percent}).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("clearFieldsOffers"),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{e.commit("setAlert",{message:t.response.data.message,type:"error"}),s(t)}))}))),getOffer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/${t}`).then((t=>{e.commit("setEditedOffer",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updatePrices:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.post(`/${e.auth.path}/offers/${s.offerId}/update-price`,{}).then((e=>{t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),getOfferByData(e,t){let a="";return t&&(a+=JN(t)),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,s)=>{NN.get(`/${e.rootState.auth.path}/offers/for-send?`+a).then((a=>{console.log(a.data),e.commit("setOffersForSend",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},updateOffer:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((l,i)=>{NN.patch(`/${e.auth.path}/offers/${s.offerId}`,{name:a.offerEdited.name,integration_id:a.offerEdited.integration_id,partner_id:a.offerEdited.partner_id,daily_cap:a.offerEdited.daily_cap,total_cap:a.offerEdited.total_cap,landing_names_ids:s.landings,sources_ids:s.sources,countries_ids:s.countries,users:s.users,pay:a.offerEdited.pay,custom_cap:a.offerEdited.custom_cap,start_cap:a.offerEdited.start_cap,end_cap:a.offerEdited.end_cap,lang_id:a.offerEdited.lang_id,payment_type_id:a.offerEdited.payment_type_id,weight:a.offerEdited.weight,is_active:s.is_active,payout:a.offerEdited.payout,black_list_percent:a.offerEdited.black_list_percent,replaces:s.replaces,use_status:a.offerEdited.use_status,weeks:a.offerEdited.weeks,is_notifications:a.offerEdited.is_notifications,notification_error:a.offerEdited.notification_error,notification_error_count:a.offerEdited.notification_error_count,check_frod_autolog:a.offerEdited.check_frod_autolog,interval_autolog:a.offerEdited.interval_autolog}).then((e=>{t("editOffer",e.data),t("setAlert",{message:"Success",type:"success"}),l(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),i(e)}))}))),offerActivityToggle:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/offers/${t.item.id}/activity`,{activity:t.item.is_active}).then((t=>{a(t),e.commit("setAlert",{message:"Success",type:"success"})})).catch((t=>{if(t.response.data.hasOwnProperty("msg"))e.commit("setAlert",{message:t.response.data.msg,type:"error"});else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}s(t)}))}))),verifyOfferLeads(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/offers/verify-offer-leads/?${t.filterValues}`;return new Promise(((t,s)=>{NN.post(a).then((a=>{e.commit("setAlert",{message:"Success",type:"success"}),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},deleteOffer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/offers/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getOffersStatsByPublicLink:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/offers-statistics/${t}`).then((t=>{e.commit("setOffersStatsByPublicLink",t.data.data),a(t)})).catch((t=>{if(t.hasOwnProperty("msg"))e.commit("setAlert",{message:t.response.data.msg,type:"error"});else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}s(t)}))}))),getCampaignsCounts(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/offers/counts/?fish_par=true`;return t&&t.hasOwnProperty("filtersValues")&&(a+=JN(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setCampaignsCounts",a.data.data),t(a)})).catch((t=>{if(t.response.data&&t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data&&t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))},getOfferUsers(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?page=${t.page}`;return t.hasOwnProperty("rowsPerPage")?a+=`&per_page=${t.rowsPerPage}`:a+=`&per_page=${e.state.rowsPerPagePagination}`,t.hasOwnProperty("filtersValues")&&(a+=JN(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{console.log(a.data),e.commit("setOfferUsers",a.data.data.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},addFunnelToOffer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/offers/${t.offerId}/add-funnel`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),addCountryToOffer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/offers/${t.offerId}/add-country`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},XN={state:{partners:{id:null,name:"",description:""},currentPartner:{}},getters:{partners:e=>e.partners,currentPartner:e=>e.currentPartner},mutations:{setPartners(e,t){e.partners=t},setCurrentPartner(e,t){e.currentPartner=t}},actions:{getCurrentPartner:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/partners/${t}`).then((t=>{e.commit("setCurrentPartner",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updatePartner:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{console.log(t.data),NN.patch(`/${e.rootState.auth.path}/partners/${t.id}`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),createPartner:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/partners`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deletePartner:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/partners/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}};const ZN={state:{user:{id:null,name:"",firstName:"",lastName:"",email:"",source:"",role_id:null,offers:[],partners:[],users:[],role:{name:""},hide_email:null},dialogUser:!1,profile:{name:null,email:null},currentUser:{id:null,name:"",firstName:"",lastName:"",email:"",source:"",role_id:null,offers:[],partners:[],users:[],role:{name:""},avatar:"",permissions:{read_funnels:"",read_sources:"",show_inject:""},service_types:{}},currentUserBalance:{balance:0,newBalance:0},dialogUserBalance:!1,userRolesCounts:[],permissionServices:[]},getters:{profile:e=>e.profile,user:e=>e.user,currentUser:e=>e.currentUser,currentUserBalance:e=>e.currentUserBalance,dialogUser:e=>e.dialogUser,dialogUserBalance:e=>e.dialogUserBalance,userRolesCounts:e=>e.userRolesCounts,permissionServices:e=>e.permissionServices},mutations:{setProfile(e,t){e.profile=t},setCurrentUser(e,t){e.currentUser=t},setCurrentUserBalance(e,t){e.currentUserBalance=t},setUser(e,t){e.user=t},setUserRolesCounts(e,t){e.userRolesCounts=t},setPermissionServices(e,t){e.permissionServices=t},enableDialogUserBalance(e){e.dialogUserBalance=!0},disableDialogUserBalance(e){e.dialogUserBalance=!1},enableDialogUser(e){e.dialogUser=!0},disableDialogUser(e){e.dialogUser=!1}},actions:{createUser:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/users`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("success")&&0==t.response.data.success)e.commit("setAlert",{message:t.response.data.message,type:"error"});else if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];console.log(a),e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateUser:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{NN.patch(`/${t.auth.path}/users/${s.userId}`,s.data).then((t=>{a(t),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{t.response.data.message?e("setAlert",{message:t.response.data.message,type:"error"}):e("setAlert",{message:t.response.statusText,type:"error"}),l(t)}))}))),updateUserProfile:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((t,a)=>{NN.post("/all/account/update-profile",s.data).then((a=>{t(a),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{t.response.data.message?e("setAlert",{message:t.response.data.message,type:"error"}):e("setAlert",{message:t.response.statusText,type:"error"}),a(t)}))}))),updateUserBalance:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{NN.post(`/${t.auth.path}/users/${s.id}/balance`,{balance:s.balance,type:s.type}).then((t=>{a(t),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{let a=Object.keys(t.response.data.errors);e("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))),generateNewToken:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{NN.post(`/${t.auth.path}/users/${s}/token`,{password:s.password}).then((t=>{a(t),e("setAlert",{message:"Successfully copied",type:"success"})})).catch((t=>{let a=Object.keys(t.response.data.errors);e("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))),resetUserPassword:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{NN.post(`/${t.auth.path}/users/${s.userId}/password-reset`,{password:s.password}).then((t=>{a(t),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{let a=Object.keys(t.response.data.errors);e("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))),getUserPermissionServices:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/users/${t}/permission/services`).then((t=>{e.commit("setPermissionServices",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentUserBalance:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/users/${t}/balance`).then((t=>{e.commit("setCurrentUserBalance",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentUser:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/users/${t}`).then((t=>{e.commit("setCurrentUser",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getProfile:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/profile").then((a=>{e.commit("setProfile",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),deleteUser:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/users/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateAvatar(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return a.append("avatar",t.data.file),a.append("userId",t.data.userId),new Promise(((t,s)=>{NN.post("/all/account/update-avatar",a).then((a=>{e.commit("setAlert",{message:"Success",type:"success"}),e.commit("setUserAvatar",a.data.message),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getUserRolesCounts(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/users/counts-by-roles/?`;return t&&t.hasOwnProperty("filtersValues")&&(a+=function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setUserRolesCounts",a.data.data),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))}}},QN={state:{rolesSelect:[],integrationsSelect:[],partnersSelect:[],countriesSelect:[],countryGroupsSelect:[],sourcesSelect:[],landingNamesSelect:[],usersSelect:[],serversSelect:[],leadStatuses:[],spendingCategoriesSelect:[],offerSelect:[],offerSelectAccess:[],landingSelect:[],webMastersSelect:[],teamleadsSelect:[],cardStatusesSelect:[],languagesSelect:[],invalidStatuses:[],devicesSelect:[],trashStatuses:[],noAnswerStatuses:[],depositStatuses:[],spendTypes:[],utmSelect:[],blackListedStatuses:[],injectSelect:[],paymentTypesSelect:[],domainZones:[],cloudflareSelect:[],namecheapSelect:[]},getters:{devicesSelect:e=>e.devicesSelect,rolesSelect:e=>e.rolesSelect,integrationsSelect:e=>e.integrationsSelect,partnersSelect:e=>e.partnersSelect,countriesSelect:e=>e.countriesSelect,countryGroupsSelect:e=>e.countryGroupsSelect,sourcesSelect:e=>e.sourcesSelect,landingNamesSelect:e=>e.landingNamesSelect,usersSelect:e=>e.usersSelect,serversSelect:e=>e.serversSelect,leadStatuses:e=>e.leadStatuses,spendingCategoriesSelect:e=>e.spendingCategoriesSelect,offerSelect:e=>e.offerSelect,offerSelectAccess:e=>e.offerSelectAccess,landingSelect:e=>e.landingSelect,webMastersSelect:e=>e.webMastersSelect,teamleadsSelect:e=>e.teamleadsSelect,cardStatusesSelect:e=>e.cardStatusesSelect,languagesSelect:e=>e.languagesSelect,invalidStatuses:e=>e.invalidStatuses,initialStatuses:e=>e.initialStatuses,trashStatuses:e=>e.trashStatuses,noAnswerStatuses:e=>e.noAnswerStatuses,depositStatuses:e=>e.depositStatuses,spendTypes:e=>e.spendTypes,utmSelect(e){e.utmSelect},blackListedStatuses:e=>e.blackListedStatuses,injectsSelect:e=>e.injectSelect,paymentTypesSelect:e=>e.paymentTypesSelect,domainZones:e=>e.domainZones,cloudflareSelect:e=>e.cloudflareSelect,namecheapSelect:e=>e.namecheapSelect},mutations:{setNamecheapSelect(e,t){e.namecheapSelect=t},setCloudflareSelect(e,t){e.cloudflareSelect=t},setDomainZones(e,t){e.domainZones=t},setInitialStatuses(e,t){e.initialStatuses=t},setTrashStatuses(e,t){e.trashStatuses=t},setNoAnswerStatuses(e,t){e.noAnswerStatuses=t},setDepositStatuses(e,t){e.depositStatuses=t},setBlackListedStatuses(e,t){e.blackListedStatuses=t},setInvalidStatuses(e,t){e.invalidStatuses=t},setRolesSelect(e,t){e.rolesSelect=t},setIntegrationsSelect(e,t){e.integrationsSelect=t},setPartnersSelect(e,t){e.partnersSelect=t},setCountriesSelect(e,t){e.countriesSelect=t},setCountryGroupsSelect(e,t){e.countryGroupsSelect=t},setDevicesSelect(e,t){e.devicesSelect=t},setSourcesSelect(e,t){e.sourcesSelect=t},setLandingNamesSelect(e,t){e.landingNamesSelect=t},setUsersSelect(e,t){e.usersSelect=t},setServersSelect(e,t){e.serversSelect=t},setSpendingCategoriesSelect(e,t){e.spendingCategoriesSelect=t},setLeadStatusesSelect(e,t){e.leadStatuses=t},setOfferSelectAccess(e,t){e.offerSelectAccess=t},setOfferSelect(e,t){e.offerSelect=t},setLandingSelect(e,t){e.landingSelect=t},setWebMastersSelect(e,t){e.webMastersSelect=t},setTeamleadsSelect(e,t){e.teamleadsSelect=t},setCardStatusesSelect(e,t){e.cardStatusesSelect=t},setLanguagesSelect:(e,t)=>e.languagesSelect=t,setSpendTypes(e,t){e.spendTypes=t},setUtmSelect(e,t){e.utmSelect=t},setInjectsSelect(e,t){e.injectSelect=t},setPaymentTypesSelect(e,t){e.paymentTypesSelect=t}},actions:{getNamecheapSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/namecheap/select`).then((a=>{e.commit("setNamecheapSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getCloudflareSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/cloudflare/select`).then((a=>{e.commit("setCloudflareSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getDomainZones:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/domain-zones/select").then((a=>{e.commit("setDomainZones",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getUtmSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/utm/select").then((a=>{e.commit("setUtmSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getSpendTypes:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/spend-types/select").then((a=>{e.commit("setSpendTypes",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getTrashStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/trash/select`).then((a=>{e.commit("setTrashStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getBlackListedStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/black-listed/select`).then((a=>{e.commit("setBlackListedStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getNoAnswerStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/no-answer/select`).then((a=>{e.commit("setNoAnswerStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getDepositStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/deposit/select`).then((a=>{e.commit("setDepositStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getInvalidStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/invalid/select`).then((a=>{e.commit("setInvalidStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getInitialStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/initial/select`).then((a=>{e.commit("setInitialStatuses",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getRolesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/roles/select`).then((a=>{e.commit("setRolesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getIntegrationsSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/integrations/select`).then((a=>{e.commit("setIntegrationsSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getPartnersSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/partners/select`).then((a=>{e.commit("setPartnersSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getCountriesSelect(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/countries/select`;return t&&t.withoutGroup&&(a+="?withoutGroup="+t.withoutGroup),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setCountriesSelect",a.data.data),t(a)})).catch((t=>{s(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}))}))},getCountryGroupsSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/country-groups/select`).then((a=>{e.commit("setCountryGroupsSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getDevicesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/devices/select").then((a=>{e.commit("setDevicesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getSourcesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/sources/select`).then((a=>{e.commit("setSourcesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getOfferLanguagesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/offer-languages/select").then((a=>{e.commit("setLanguagesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getLandingNamesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/landing-names/select`).then((a=>{e.commit("setLandingNamesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getUsersSelect(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a="users/select";return t&&null!=t&&(a+="?role="+t),new Promise(((t,s)=>{NN.get(`/${e.rootState.auth.path}/${a}`).then((a=>{e.commit("setUsersSelect",a.data.data),t(a)})).catch((t=>{s(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}))}))},getServersSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/servers/select`).then((a=>{e.commit("setServersSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getLeadStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/lead-statuses/select`).then((a=>{e.commit("setLeadStatusesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getSpendingCategoriesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/spending-categories/select`).then((a=>{e.commit("setSpendingCategoriesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getOfferSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/offers/select`).then((a=>{e.commit("setOfferSelect",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getOfferSelectAccess:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/access/${t}`).then((t=>{e.commit("setOfferSelectAccess",t.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getOfferSelectAccessWithSource:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/access/${t.leadId}?source=`+t.source).then((t=>{e.commit("setOfferSelectAccess",t.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLandingSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/landing/select`).then((a=>{e.commit("setLandingSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getWebMastersSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/web-masters/select`).then((a=>{e.commit("setWebMastersSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getTeamleadsSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/teamlead/select`).then((a=>{e.commit("setTeamleadsSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getCardStatusesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/card-statuses/select").then((a=>{e.commit("setCardStatusesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getPaymentTypesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/payment-types/select").then((a=>{e.commit("setPaymentTypesSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))}))),getInjectsSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/cold-overflow/select`).then((a=>{e.commit("setInjectsSelect",a.data.data),t(a)})).catch((t=>{a(t);let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"})}))})))}},eH={state:{message:"",type:"info"},getters:{messageAlert:e=>e.message,typeAlert:e=>e.type},mutations:{clearAlert(e){e.message=""},setAlert(e,t){e.message=t.message,e.type=t.type;let a=new Be;"error"==e.type?a.error(e.message):a.success(e.message),setTimeout((()=>{}),2e3)}},actions:{setAlert(e,t){e.commit("setAlert",t.message,t.type)}}},tH=at();var aH=new Date;let sH=aH.getFullYear(),lH=aH.getMonth()+1,iH=30;lH<10&&(lH="0"+lH);const oH={state:{offerMonitoring:[],totalCaps:[],leadChart:{chart:{redrawOnParentResize:!0,id:"sparkline1",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.primary],fill:{opacity:1},stroke:{width:[2],curve:"straight"},series:[{data:[],name:"Leads"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"Leads",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}}},ftdChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline2",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.info],fill:{opacity:1},series:[{data:[],name:"FTD"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"FTD",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},totalOrdersChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline4",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.accent],fill:{opacity:1},series:[{data:[],name:"Net Profit"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"Net Profit",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},profitChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline3",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.purple],fill:{opacity:1},series:[{data:[],name:"Profit"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"Profit",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},costChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline5",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.purple],fill:{opacity:1},series:[{data:[],name:"Cost"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"Cost",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},incomeChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline6",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.purple],fill:{opacity:1},series:[{data:[],name:"Income"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"Income",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},cpaChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline7",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.purple],fill:{opacity:1},series:[{data:[],name:"CPA"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"CPA",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},cplChart:{stroke:{width:[2],curve:"straight"},chart:{id:"sparkline8",group:"sparklines",type:"area",height:130,sparkline:{enabled:!0}},colors:[tH.purple],fill:{opacity:1},series:[{data:[],name:"CPL"}],labels:[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`})),yaxis:{min:0,labels:{minWidth:100}},xaxis:{type:"datetime"},title:{text:"CPL",offsetX:5,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title",color:at().lightText}}},revenueChart:{revenue:{curMonth:"",lastMonth:""},series:[{data:[],name:"Leads"}],chart:{id:"revenue-chart",height:250,type:"area",offsetY:-10,toolbar:{show:!1}},colors:["#797bf2","#fff","#fff"],legend:{position:"bottom",horizontalAlign:"center",show:!1},dataLabels:{enabled:!1},stroke:{width:[2,2,2],curve:"smooth"},xaxis:{type:"datetime",categories:[],convertedCatToNumeric:!1},tooltip:{x:{format:"yy-MM-dd"},y:{}}},capsChart:[[],[],[]]},getters:{leadChart:e=>e.leadChart,ftdChart:e=>e.ftdChart,totalOrdersChart:e=>e.totalOrdersChart,profitChart:e=>e.profitChart,revenueChart:e=>e.revenueChart,capsChart:e=>e.capsChart,offerMonitoring:e=>e.offerMonitoring,totalCaps:e=>e.totalCaps,costChart:e=>e.costChart,incomeChart:e=>e.incomeChart,cplChart:e=>e.cplChart,cpaChart:e=>e.cpaChart},mutations:{setOfferMonitoring(e,t){e.offerMonitoring=t},setTotalCaps(e,t){e.totalCaps=t},setTest(e,t){e.test=t},setLeadChart(e,t){e.leadChart.series[0].data=t.data.data,e.leadChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.leadChart.labels=t.range)},setFtdChart(e,t){e.ftdChart.series[0].data=t.data.data,e.ftdChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.ftdChart.labels=t.range)},setTotalOrdersChart(e,t){e.totalOrdersChart.series[0].data=t.data.data,e.totalOrdersChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.totalOrdersChart.labels=t.range)},setProfitChart(e,t){e.profitChart.series[0].data=t.data.data,e.profitChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.profitChart.labels=t.range)},setIncomeChart(e,t){e.incomeChart.series[0].data=t.data.data,e.incomeChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.incomeChart.labels=t.range)},setCostChart(e,t){e.costChart.series[0].data=t.data.data,e.costChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.costChart.labels=t.range)},setCpaChart(e,t){e.cpaChart.series[0].data=t.data.data,e.cpaChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.cpaChart.labels=t.range)},setCplChart(e,t){e.cplChart.series[0].data=t.data.data,e.cplChart.subtitle={text:t.data.count,offsetX:5,style:{fontSize:"24px",fontWeight:"600",cssClass:"apexcharts-yaxis-title"}},0!==t.range.length&&(e.cplChart.labels=t.range)},setRevenueChart(e,t){e.revenueChart.series=t.series,e.revenueChart.xaxis.categories=t.dates,e.revenueChart.revenue=t.revenue},setCapsChart(e,t){let a=0,s=0;for(let l in t)l%3==0&&0!=l&&(a++,s=0),e.capsChart[a][s]={name:t[l].name,count:t[l].count_leads,series:[t[l].percent],chart:{height:100,type:"radialBar",offsetY:-10,toolbar:{show:!1}},colors:[tH.primary],plotOptions:{radialBar:{hollow:{size:"35%"},dataLabels:{show:!1}}},labels:["2323"]},s++}},actions:{getGeneralDashboard(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}`;return t.hasOwnProperty("filtersValues")&&(a+="?"+function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(s&&"object"==typeof s&&0==Object.keys(s).length||(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`)));return t}(t.filtersValues)),new Promise(((s,l)=>{NN.get(a).then((a=>{let l=[],i="",o="";t.filtersValues.date_start_registration?(i=new Date(t.filtersValues.date_start_registration),o=new Date(t.filtersValues.date_end_registration)):(i=new Date(a.data.data.period.start),o=new Date(a.data.data.period.end));for(let e=i.getTime();e<=o.getTime();e+=864e5){let t=new Date(e),a=t.getFullYear(),s=t.getMonth()+1,i=t.getDate();s<10&&(s="0"+s),i<10&&(i="0"+i),l.push(`${a}-${s}-${i}`)}l.length||(l=[...Array(iH).keys()].map((e=>{let t=e+1;return t<10&&(t="0"+t),`${sH}-${lH}-${t}`}))),a.data.data.count&&e.commit("setLeadChart",{data:a.data.data.count,range:l}),a.data.data.ftd&&e.commit("setFtdChart",{data:a.data.data.ftd,range:l}),a.data.data.profit&&e.commit("setTotalOrdersChart",{data:a.data.data.profit,range:l}),a.data.data.cons_profit&&e.commit("setProfitChart",{data:a.data.data.cons_profit,range:l}),a.data.data.income&&e.commit("setIncomeChart",{data:a.data.data.income,range:l}),a.data.data.cost&&e.commit("setCostChart",{data:a.data.data.cost,range:l}),a.data.data.cpa&&e.commit("setCpaChart",{data:a.data.data.cpa,range:l}),a.data.data.cpl&&e.commit("setCplChart",{data:a.data.data.cpl,range:l}),s(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))},getRevenueDashboard(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setRevenueChart",a.data.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getCapsDashboard(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setCapsChart",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getOfferMonitoring(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setOfferMonitoring",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getTotalCaps(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setTotalCaps",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},updateChartsSetting:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/user/charts-setting`,t).then((t=>{e.commit("setDashboardCharts",t.data.data.dashboardCharts),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},rH={state:{funnelGroups:[]},getters:{funnelGroups:e=>e.funnelGroups},mutations:{setFunnelGroups(e,t){e.funnelGroups=t}},actions:{createLandingName:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/landing-names`,{name:t.name}).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteLandingName:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/landing-names/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),createFunnelGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/landing-names/groups`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateFunnelsGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/landing-names/groups/${t.id}`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteFunnelGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/landing-names/groups/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},nH={state:{integrations:{id:null,name:""},integrationEdited:{},findIntegrations:{},getIntegration:{fields:{},file:"",template:""}},getters:{integrations:e=>e.integrations,integrationEdited:e=>e.integrationEdited,findIntegrations:e=>e.findIntegrations,getIntegration:e=>e.getIntegration},mutations:{setIntegrationEdited(e,t){e.integrationEdited=t},setIntegrations(e,t){e.integrations=t},setFindIntegrations(e,t){e.findIntegrations=t},setGetIntegration(e,t){e.getIntegration=t}},actions:{createIntegration:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/integrations`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setFindIntegrations",null),e.commit("setGetIntegration",{fields:{},file:"",template:""},{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data&&t.response.data.message)e.commit("setAlert",{message:t.response.data.message,type:"error"}),s(t);else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}}))}))),createEmptyIntegration:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/integrations/create-empty`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setFindIntegrations",null),e.commit("setGetIntegration",{fields:{},file:"",template:""},{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data&&t.response.data.message)e.commit("setAlert",{message:t.response.data.message,type:"error"}),s(t);else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}}))}))),foundIntegration:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/integrations/get/`,t).then((t=>{e.commit("setGetIntegration",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),findIntegrations:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/integrations/find`,{search:t.search}).then((t=>{e.commit("setFindIntegrations",t.data.data),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getIntegration:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/integrations/${t}`).then((t=>{e.commit("setIntegrationEdited",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateIntegration:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.patch(`/${e.auth.path}/integrations/${s.id}`,s).then((e=>{t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{if(e.response.data&&e.response.data.message)t("setAlert",{message:e.response.data.message,type:"error"}),l(e);else{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}}))}))),deleteIntegration:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/integrations/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},dH={state:{landings:[],dialogLanding:!1,currentLanding:{archive_id:null},dialogLandings:!1,dialogPrelands:!1,dialogWhites:!1},getters:{landings:e=>e.landings,currentLanding:e=>(console.log(e),e.currentLanding),dialogLanding:e=>e.dialogLanding,dialogLandings:e=>e.dialogLandings,dialogPrelands:e=>e.dialogPrelands,dialogWhites:e=>e.dialogWhites},mutations:{setCurrentLanding(e,t){e.currentLanding=t},enableDialogLanding(e){console.log(2),e.dialogLanding=!0},disableDialogLanding(e){e.dialogLanding=!1},enableDialogLandings(e){e.dialogLandings=!0},enableDialogPrelands(e){e.dialogPrelands=!0},enableDialogWhites(e){e.dialogWhites=!0},disableDialogLandings(e){e.dialogLandings=!1},disableDialogPrelands(e){e.dialogPrelands=!1},disableDialogWhites(e){e.dialogWhites=!1}},actions:{createLanding:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/landings`,t).then((s=>{let l=s.data.data;l.index=t.index,l.loading=!1,e.commit("updateItemPaginationById",l,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((a=>{if(e.commit("deleteItemPagination",t.index,{root:!0}),a.response.data.hasOwnProperty("errors")){let t=Object.keys(a.response.data.errors)[0];e.commit("setAlert",{message:a.response.data.errors[t][0],type:"error"})}else a.response.data.hasOwnProperty("message")&&e.commit("setAlert",{message:a.response.data.message,type:"error"});s(a)})),console.log(t);let l={id:t.index,user:"",source:"",url:"",prelanding:t.preland,landing:t.landing,white:t.white,tag:t.tag,is_active:!1,loading:!0};e.commit("addItemPagination",l,{root:!0})}))),getCurrentLanding:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/landings/${t}`).then((t=>{e.commit("setCurrentLanding",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateLanding:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{console.log(s),NN.patch(`/${t.auth.path}/landings/${s.item_id}`,s.data).then((t=>{a(t),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("message")&&e("setAlert",{message:t.response.data.message,type:"error"});l(t)}))}))),landingActivityToggle:(e,t)=>(console.log(t.item),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/landing/${t.item.id}/cloack`,{activity:t.item.is_active}).then((t=>{a(t),e.commit("setAlert",{message:"Success",type:"success"})})).catch((t=>{if(t.response.data.hasOwnProperty("msg"))e.commit("setAlert",{message:t.response.data.msg,type:"error"});else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}s(t)}))}))),archiveLanding:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.post(`/${e.rootState.auth.path}/landings/${s.item.id}/archive`,{status:s.item.status}).then((e=>{t("deleteItemPagination",s.item.id,{root:!0}),t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);console.log(a),t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),deleteLanding:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/landings/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},uH={state:{sources:{id:null,name:""}},getters:{sources:e=>e.sources},mutations:{setSources(e,t){e.sources=t}},actions:{createSource:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/sources`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateSource:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/sources/${t.id}`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteSource:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/sources/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}};function cH(e){let t="";for(const[a,s]of Object.entries(e))if(""!==s){if(Array.isArray(s))if("utmParam"==a){let e="";for(let t in s)e+=s[t].join(",")+",";e=e.replace(/,+$/,""),t+=`${a}=${e}`}else t+=`${a}=${s.join(",")}`;else"string"!=typeof s&&"number"!=typeof s||(t+=`${a}=${s}`);t+="&"}return t}const mH={state:{verifyFilters:[],offerFilters:[],countryFilters:[],webmasterFilters:[],teamleadFilters:[],statusFilters:[],landingNameFilters:[],landingFilters:[],domainFilters:[],serverFilters:[],userFilters:[],leadWebmasterFilters:[],spendCategoriesFilters:[],languageFilters:[],archiveFilters:[],partnerFilters:[],domainArchiveFilters:[],sourceFilters:[],brokerFilters:[],integrationFilters:[],utmParamsFilters:[],paymentTypesFilters:[],cityFilters:[],deviceFilters:[],platformFilters:[],browserFilters:[]},getters:{verifyFilters:e=>e.verifyFilters,offerFilters:e=>e.offerFilters,integrationFilters:e=>e.integrationFilters,countryFilters:e=>e.countryFilters,webmasterFilters:e=>e.webmasterFilters,spendCategoriesFilters:e=>e.spendCategoriesFilters,teamleadFilters:e=>e.teamleaFilters,statusFilters:e=>e.statusFilters,landingNameFilters:e=>e.landingNameFilters,partnerFilters:e=>e.partnerFilters,landingFilters:e=>e.landingFilters,domainFilters:e=>e.domainFilters,serverFilters:e=>e.serverFilters,userFilters:e=>e.userFilters,leadWebmasterFilters:e=>e.leadWebmasterFilters,archiveFilters:e=>e.archiveFilters,domainArchiveFilters:e=>e.domainArchiveFilters,sourceFilters:e=>e.sourceFilters,brokerFilters:e=>e.brokerFilters,paymentTypesFilters:e=>e.paymentTypesFilters,utmFilters:e=>e.utmFilters,utmParamsFilters:e=>e.utmParamsFilters,languageFilters:e=>e.languageFilters,cityFilters:e=>e.cityFilters,deviceFilters:e=>e.deviceFilters,platformFilters:e=>e.platformFilters,browserFilters:e=>e.browserFilters},mutations:{setDeviceFilters(e,t){e.deviceFilters=t},setPlatformFilters(e,t){e.platformFilters=t},setBrowserFilters(e,t){e.browserFilters=t},setIntegrationFilters(e,t){e.integrationFilters=t},setVerifyFilters(e,t){e.verifyFilters=t},setOfferFilters(e,t){e.offerFilters=t},setCountryFilters(e,t){e.countryFilters=t},setWebmasterFilters(e,t){e.webmasterFilters=t},setSpendCategoriesFilters(e,t){e.spendCategoriesFilters=t},setTeamleadFilters(e,t){e.teamleadFilters=t},setStatusFilters(e,t){e.statusFilters=t},setLandingNameFilters(e,t){e.landingNameFilters=t},setLandingFilters(e,t){e.landingFilters=t},setDomainFilters(e,t){e.domainFilters=t},setArchiveFilters(e,t){e.archiveFilters=t},setServerFilters(e,t){e.serverFilters=t},setUserFilters(e,t){e.userFilters=t},setLeadWebmasterFilters(e,t){e.leadWebmasterFilters=t},setPartnerFilters(e,t){e.partnerFilters=t},setDomainArchiveFilters(e,t){e.domainArchiveFilters=t},setSourceFilters(e,t){e.sourceFilters=t},setBrokerFilters(e,t){e.brokerFilters=t},setPaymentTypesFilters(e,t){e.paymentTypesFilters=t},setUtmFilters(e,t){e.utmFilters=t},setUtmParamsFilters(e,t){e.utmParamsFilters[t.id]=t.data},setLanguageFilters(e,t){e.languageFilters=t},setCityFilters(e,t){e.cityFilters=t}},actions:{getIntegrationFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/integrations/select-for-offers?${cH(t.filtersValues)}`).then((t=>{e.commit("setIntegrationFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSourceFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/sources/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setSourceFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSpendSourceFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/sources/spends-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setSourceFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getBrokerFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/brokers/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setBrokerFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getPaymentTypesFilter:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/payment-types/select?${cH(t.filtersValues)}`).then((t=>{console.log(t.data),e.commit("setPaymentTypesFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getVerifyFilter:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setVerifyFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getDeviceFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/device/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setDeviceFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getPlatformFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/platform/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setPlatformFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getBrowserFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/browser/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setBrowserFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getOfferFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/offers/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setOfferFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCountryFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/countries/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setCountryFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getOffersCountryFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/countries/offers-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setCountryFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSpendsCountryFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/countries/spends-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setCountryFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getPartnerFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/partners/offers-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setPartnerFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getWebmasterFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/users/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setWebmasterFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSpendCategoriesFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/spends/categories-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setSpendCategoriesFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getWebmasterTeamleadSpendsFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/users/spends-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setWebmasterFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getStatusFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/lead-statuses/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setStatusFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLandingNameFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/landing-names/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setLandingNameFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSpendsLandingNameFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/landing-names/spends-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setLandingNameFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getOfferLandingNameFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/landing-names/offers-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setLandingNameFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getUtmParamsFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/utm/${t.id}/leads-select?${cH(t.filtersValues)}`).then((s=>{e.commit("setUtmParamsFilters",{id:t.id,data:s.data.data}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getUtmFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/utm/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setUtmFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLandingFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/landings/leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setLandingFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getDomainArchiveFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/archives/select").then((a=>{e.commit("setDomainArchiveFilters",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getDomainFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/domains/domain-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setDomainFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getArchiveFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/domains/archive?${cH(t.filtersValues)}`).then((t=>{e.commit("setDomainFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getServerFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/servers/domain-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setServerFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getUserFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/users/domain-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setUserFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getUserForActivityLogFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/admin/users/activity-log-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setUserFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLeadWebmasterFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/users/webmaster-for-leads-select?${cH(t.filtersValues)}`).then((t=>{e.commit("setLeadWebmasterFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLanguageFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/languages/select-for-leads?${cH(t.filtersValues)}`).then((t=>{e.commit("setLanguageFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCityFilters:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/all/cities/select-for-leads?${cH(t.filtersValues)}`).then((t=>{e.commit("setCityFilters",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}};function pH(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}const hH={state:{webmasterStats:[],teamleadsStats:[],teamleadWebmastersStats:[],landingStats:[],sourceStats:[],offerCaps:[],offerStats:[],incomeStats:[],headerStats:[],webmasterDetailsStats:[],teamleadDetailsStats:[],campaignDetailsStats:[],webmasterFinanceStats:[],expandFinanceStats:[],expandWebStats:[],expandWebPaymentStats:[],countryStats:[],typeStat:null!=localStorage.getItem("typeStat")?localStorage.getItem("typeStat"):"buying",headerTab:null!=localStorage.getItem("headerTab")?localStorage.getItem("headerTab"):"stats"},getters:{typeStat:e=>e.typeStat,headerTab:e=>e.headerTab,webmasterStats:e=>e.webmasterStats,countryStats:e=>e.countryStats,webmasterFinanceStats:e=>e.webmasterFinanceStats,expandFinanceStats:e=>e.expandFinanceStats,teamleadsStats:e=>e.teamleadsStats,sourceStats:e=>e.sourceStats,landingStats:e=>e.landingStats,offerStats:e=>e.offerStats,incomeStats:e=>e.incomeStats,headerStats:e=>e.headerStats,webmasterDetailsStats:e=>e.webmasterDetailsStats,teamleadDetailsStats:e=>e.teamleadDetailsStats,teamleadWebmastersStats:e=>e.teamleadWebmastersStats,campaignDetailsStats:e=>e.campaignDetailsStats,expandWebStats:e=>e.expandWebStats,expandWebPaymentStats:e=>e.expandWebPaymentStats,offerCaps:e=>e.offerCaps},mutations:{setTypeStat(e,t){e.typeStat=t,localStorage.setItem("typeStat",t)},setHeaderTab(e,t){e.headerTab=t,localStorage.setItem("headerTab",t)},setOfferCaps(e,t){e.offerCaps=t},setWebmasterFinanceStats(e,t){e.webmasterFinanceStats=t},setExpandFinanceStats(e,t){e.expandFinanceStats=t},setWebmasterStats(e,t){e.webmasterStats=t},setCountryStats(e,t){e.countryStats=t},setTeamleadsStats(e,t){e.teamleadsStats=t},setWebmasterDetailsStats(e,t){e.webmasterDetailsStats[t.user_id]=t.data},setTeamleadDetailsStats(e,t){e.teamleadDetailsStats=t},setTeamleadWebmastersStats(e,t){e.teamleadWebmastersStats=t.data},setCampaignDetailsStats(e,t){e.campaignDetailsStats[t.id]=t.data},setLandingStats(e,t){e.landingStats=t},setSourceStats(e,t){e.sourceStats=t},setOfferStats(e,t){e.offerStats=t},setIncomeStats(e,t){e.incomeStats=t},setHeaderStats(e,t){e.headerStats=t},setExpandWebStats(e,t){e.expandWebStats=t},setExpandWebPaymentStats(e,t){e.expandWebPaymentStats=t}},actions:{updateTypeStat(e,t){e.commit("setTypeStat",t)},updateHeaderTab(e,t){e.commit("setHeaderTab",t)},getWebmasterFinanceStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{console.log("getWebmasterFinanceStats",a.data),e.commit("setWebmasterFinanceStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getWebmasterStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setWebmasterStats",a.data.users),e.commit("setOfferStats",a.data.offers),e.commit("setLandingStats",a.data.funnels),e.commit("setSourceStats",a.data.sources),e.commit("setCountryStats",a.data.country),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getTeamleadsStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setTeamleadsStats",a.data.teamleads),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getTeamleadWebmastersStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setTeamleadWebmastersStats",a.data.users),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getWebmasterDetailsStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((s,l)=>{NN.get(a).then((a=>{e.commit("setWebmasterDetailsStats",{user_id:t.id,data:a.data}),s(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))},getLandingStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setLandingStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getOfferStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setOfferStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getCampaignDetailsStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((s,l)=>{NN.get(a).then((a=>{e.commit("setCampaignDetailsStats",{id:t.id,data:a.data}),s(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),l(t)}))}))},getIncomeStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?${t.filterValues}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setIncomeStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getHeaderStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?`;return t.hasOwnProperty("filterValues")&&(a+=pH(t.filterValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setHeaderStats",a.data.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getOfferCaps(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?`;return t.hasOwnProperty("filterValues")&&(a+=pH(t.filterValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setOfferCaps",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},exportWebmastersStats(e,t){let a=`/${e.rootState.auth.path}/statistics/webmasters-export`;return t.hasOwnProperty("filterValues")&&(a+="?"+t.filterValues),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,s)=>{NN.get(a).then((e=>{t(e.data)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},exportLandingsStats(e,t){let a=`/${e.rootState.auth.path}/statistics/landings-export`;return t.hasOwnProperty("filterValues")&&(a+="?"+t.filterValues),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,s)=>{NN.get(a).then((e=>{t(e.data)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},exportOffersStats(e,t){let a=`/${e.rootState.auth.path}/statistics/offers-export`;return t.hasOwnProperty("filterValues")&&(a+="?"+t.filterValues),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,s)=>{NN.get(a).then((e=>{t(e.data)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},createOffersStatsLink(e,t){let a=`/${e.rootState.auth.path}/statistics/offers-stats-link`;return t.hasOwnProperty("filterValues")&&(a+="?"+t.filterValues),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,s)=>{NN.get(a).then((e=>{t(e.data)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},expandWebStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/${t.data.period1}/${t.data.period2}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setExpandWebStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},expandWebPaymentTypeStats(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/${t.data.period1}/${t.data.period2}/${t.data.user_id}`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setExpandWebPaymentStats",a.data),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},lockWebmasterStatistic:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/admin/${t.path}`,t.period).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),unlockWebmasterStatistic:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/admin/${t.path}/${t.id}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),unlockWebmasterStatisticUser:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/admin/${t.path}/${t.id}/${t.user_id}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},gH={state:{statuses:{id:null,name:""},leadStatusGroups:[]},getters:{statuses:e=>e.statuses},mutations:{setStatuses(e,t){e.statuses=t}},actions:{createStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/lead-statuses`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),createLeadStatusGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/lead-status-groups`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateLeadStatusGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-status-groups/${t.id}`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),saveInvalidStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/invalid`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),saveInitialStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/initial`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),deleteStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/lead-statuses/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteLeadStatusGroup:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/lead-status-groups/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),saveTrashStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/trash`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),saveNoAnswerStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/no-answer`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),saveDepositStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/deposit`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),saveBlackListedStatus:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/lead-statuses/black-listed`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}};const fH={state:{logsBrokers:[],logItemsPagination:[],logTotalItemsPagination:0,logCurrentPageItemsPagination:1,logTotalPagesItemsPagination:null,logRowsPerPagePagination:25,domainLogs:[],dialogDomainLogs:!1},getters:{dialogDomainLogs:e=>e.dialogDomainLogs,domainLogs:e=>e.domainLogs,logsBrokers:e=>e.logsBrokers,logItemsPagination:e=>e.logItemsPagination,logTotalItemsPagination:e=>e.logTotalItemsPagination,logCurrentPageItemsPagination:e=>e.logCurrentPageItemsPagination,logTotalPagesItemsPagination:e=>e.logTotalPagesItemsPagination},mutations:{enableDialogDomainLogs(e){e.dialogDomainLogs=!0},disableDialogDomainLogs(e){e.dialogDomainLogs=!1},setDomainLogs(e,t){e.domainLogs=t},setLogsBrokers(e,t){e.logsBrokers=t},logSetItemsPagination(e,t){e.logItemsPagination=t},logSetTotalItemsPagination(e,t){e.logTotalItemsPagination=t},logSetCurrentPageItemsPagination(e,t){e.logCurrentPageItemsPagination=t},logSetTotalPagesItemsPagination(e,t){e.logTotalPagesItemsPagination=t},logIncrementTotalPagination(e){e.logTotalItemsPagination++},logAddItemPagination(e,t){e.logItemsPagination.unshift(t),e.logTotalItemsPagination++},logUpdateItemPagination(e,t){let a=e.logItemsPagination.findIndex((e=>e.id===t.id));Object.assign(e.logItemsPagination[a],t)},logDeleteItemPagination(e,t){let a=e.logItemsPagination.findIndex((e=>e.id===t));e.logItemsPagination.splice(a,1),e.logTotalItemsPagination--}},actions:{getLogItemsPagination(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,console.log(e.rootState);let a=`/${e.rootState.auth.path}/${t.path}/?page=${t.page}`;return t.hasOwnProperty("rowsPerPage")?a+=`&per_page=${t.rowsPerPage}`:a+=`&per_page=${e.state.rowsPerPagePagination}`,new Promise(((t,s)=>{NN.get(a).then((a=>{console.log(a.data),e.commit("logSetItemsPagination",a.data.data.data),e.commit("logSetTotalItemsPagination",a.data.data.total),e.commit("logSetCurrentPageItemsPagination",a.data.data.current_page),e.commit("logSetTotalPagesItemsPagination",a.data.data.total_pages),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getCurrentDomainLog:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/domains/log/${t}`).then((t=>{e.commit("setDomainLogs",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getLogsBrokers:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{let l=`/${e.rootState.auth.path}/logs/brokers-response?`;console.log(t),t.hasOwnProperty("filtersValues")&&(l+=function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}(t.filtersValues)),NN.get(l).then((t=>{e.commit("setLogsBrokers",t.data.data),a(t)})).catch((t=>{let a=t.response.data.message;"Log not found"!==a&&(a="Error"),e.commit("setAlert",{message:a,type:"error"}),s(t)}))})))}};const yH={state:{spending:{items:[]}},getters:{spending:e=>e.spending},mutations:{editDomain(e,t){e.domainEdited=Object.assign({},t)},setSpending(e,t){e.spending=t}},actions:{getSpending(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/spending?${function(e){let t="";for(const[a,s]of Object.entries(e))""!=s&&(Array.isArray(s)?t+=`${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`${a}=${s}`),t+="&");return t}(t.filtersValues)}`;return t.hasOwnProperty("rowsPerPage")&&(a+=`&per_page=${t.rowsPerPage}`),t.hasOwnProperty("page")&&(a+=`&page=${t.page}`),new Promise(((t,s)=>{NN.get(a).then((a=>{console.log(a.data.data),e.commit("setSpending",a.data.data),t(a)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"})}))}))},createSpending:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/spending`,t).then((t=>{e.commit("setAlert",{message:"Успешно",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"})}))}))),updateSpending:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,console.log(s),new Promise(((a,l)=>{NN.patch(`/${e.auth.path}/spending/${s.item.id}`,s).then((e=>{t("editDomain",e.data),t("setAlert",{message:"Успешно",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),deleteSpending:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/spending/${t}`).then((t=>{e.commit("setAlert",{message:"Успешно",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}};function _H(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}const vH={state:{spend:{},spendBalance:null,spendingTotal:null,replenishmentTotal:null},getters:{spend:e=>e.spend,spendBalance:e=>e.spendBalance,spendingTotal:e=>e.spendingTotal,replenishmentTotal:e=>e.replenishmentTotal},mutations:{setSpend(e,t){e.spend=t},setSpendBalance:(e,t)=>e.spendBalance=t,setSpendingTotal(e,t){e.spendingTotal=t},setReplenishmentTotal(e,t){e.replenishmentTotal=t}},actions:{getReplenishmentTotal(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/replenishments/total?`;return t.hasOwnProperty("filtersValues")&&(a+=_H(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setReplenishmentTotal",a.data.data,{root:!0}),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},createReplenishment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/replenishments`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateReplenishment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/replenishments/${t.id}`,t).then((t=>{e.commit("updateItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),deleteReplenishment:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/replenishments/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getSpendCount(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a="/"+e.rootState.auth.path+"/spends/total?";return t.hasOwnProperty("filtersValues")&&(a+=_H(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setSpendingTotal",a.data.data,{root:!0}),t(a)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},createSpend:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/spends`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")?e.commit("setAlert",{message:t.response.data.error,type:"error"}):t.response.data.hasOwnProperty("message")&&e.commit("setAlert",{message:t.response.data.message,type:"error"});s(t)}))}))),updateSpend:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/spends/${t.id}`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")?e.commit("setAlert",{message:t.response.data.error,type:"error"}):t.response.data.hasOwnProperty("message")&&e.commit("setAlert",{message:t.response.data.message,type:"error"});s(t)}))}))),getSpend:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/spends/${t}`).then((t=>{e.commit("setSpend",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteSpend:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/spends/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),getBalance(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;return new Promise(((t,a)=>{NN.get("/web-master/spends/balance").then((a=>{e.commit("setSpendBalance",a.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))}}},bH={state:{item:{currentInject:{title:null,time_start:"2021-02-28T16:20:00.000Z",time_end:"2021-02-28T22:20:00.000Z",offer_ids:[],country_ids:[]}}},getters:{currentInject:e=>e.currentInject},mutations:{setCurrentInject(e,t){console.log(t),e.currentInject=t}},actions:{createInject:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/inject`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),updateInject:({commit:e,rootState:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+t.auth.token,new Promise(((a,l)=>{console.log(s.data),NN.patch(`/${t.auth.path}/inject/${s.userId}`,s.data).then((t=>{a(t),e("setAlert",{message:"Success",type:"success"})})).catch((t=>{e("setAlert",{message:t.response.statusText,type:"error"}),l(t)}))}))),deleteInject:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/inject/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentInject:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/inject/${t}`).then((t=>{e.commit("setCurrentInject",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),injectActiveToggle:(e,t)=>(console.log(t.item),NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/inject/${t.item.id}/active`,{activity:t.item.active}).then((t=>{a(t),e.commit("setAlert",{message:"Success",type:"success"})})).catch((t=>{if(t.response.data.hasOwnProperty("msg"))e.commit("setAlert",{message:t.response.data.msg,type:"error"});else{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}s(t)}))}))),addLeadsToInject:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/cold-overflow/${t.data.inject_id}/add-leads`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},SH={state:{unreadNotifications:[],notifications:[]},getters:{unreadNotifications:e=>e.unreadNotifications,notifications:e=>e.notifications},mutations:{setUnreadNotifications(e,t){e.unreadNotifications=t},setNotifications(e,t){e.notifications=t}},actions:{getNotifications(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/notifications`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setNotifications",a.data.data),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},getUnreadNotifications(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/notifications/unread`;return new Promise(((t,s)=>{NN.get(a).then((a=>{e.commit("setUnreadNotifications",a.data.data),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},readNotifications:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{let l=`/${e.rootState.auth.path}/notifications/read`;NN.patch(l,t).then((e=>{a(e)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},kH={state:{newDomain:{url:"",user_id:"",server_id:"",count:10},domainEdited:{id:null,url:"",user_id:null,server_id:null},domainSelect:[]},getters:{domainEdited:e=>e.domainEdited,newDomain:e=>e.newDomain,domainSelect:e=>e.domainSelect},mutations:{setEditedDomain(e,t){e.domainEdited=t},editDomain(e,t){e.domainEdited=Object.assign({},t)},setDomainSelect(e,t){e.domainSelect=t},setNewDomain(e,t){e.newDomain={url:e.url,user_id:t.user_id.id,server_id:t.server_id.id}},clearFieldsDomain(e){e.newDomain={url:"",user_id:null,server_id:null}}},actions:{createDomain:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/domains`,t.item).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("clearFieldsDomain"),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),createDomainAdd:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/domains/add`,t.item).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("clearFieldsDomain"),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getDomain:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/domains/${t}`).then((t=>{e.commit("setEditedDomain",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),checkAvailable:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.post(`/${e.auth.path}/domains/${s}/available`).then((e=>{t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),updateDomain:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.patch(`/${e.auth.path}/domains/${s.id}`,s).then((e=>{t("editDomain",e.data),t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),deleteDomain:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/domains/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),archiveDomain:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((e,a)=>{NN.post(`/${context.rootState.auth.path}/domains/${s.item.id}/archive`,{status:s.item.status}).then((a=>{t("deleteItemPagination",s.item.id,{root:!0}),t("setAlert",{message:"Success",type:"success"}),e(a)})).catch((e=>{let s=Object.keys(e.response.data.errors);console.log(s),t("setAlert",{message:e.response.data.errors[s][0],type:"error"}),a(e)}))}))),getDomainsAllSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/domains/select`).then((a=>{e.commit("setDomainSelect",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getDomainsForCurrentUser:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/domains/select-by-user").then((a=>{e.commit("setDomainSelect",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))})))}};const wH={state:{archives:{id:null,name:"",type:"",file:""},archiveTypes:[],archivePreLand:[],archiveWhite:[],archiveLand:[],loadedFiles:{},archiveItemsPagination:[],archiveTotalItemsPagination:0,archiveCurrentPageItemsPagination:1,archiveTotalPagesItemsPagination:null,rowsPerPagePagination:25},getters:{archiveTypes:e=>e.archiveTypes,archivePreLand:e=>e.archivePreLand,archiveWhite:e=>e.archiveWhite,archiveLand:e=>e.archiveLand,loadedFiles:e=>e.loadedFiles,archiveItemsPagination:e=>e.archiveItemsPagination,archiveTotalItemsPagination:e=>e.archiveTotalItemsPagination,archiveCurrentPageItemsPagination:e=>e.archiveCurrentPageItemsPagination,archiveTotalPagesItemsPagination:e=>e.archiveTotalPagesItemsPagination},mutations:{setLoadedFiles(e,t){e.loadedFiles[t[0]]=t[1]},destroyLoadedFile(e,t){delete e.loadedFiles[t]},setArchiveTypes(e,t){e.archiveTypes=t},setArchiveWithTypes(e,t){e.archivePreLand=t.pre_land,e.archiveWhite=t.white,e.archiveLand=t.land},archiveSetItemsPagination(e,t){e.archiveItemsPagination=t},archiveSetTotalItemsPagination(e,t){e.archiveTotalItemsPagination=t},archiveSetCurrentPageItemsPagination(e,t){e.archiveCurrentPageItemsPagination=t},archiveSetTotalPagesItemsPagination(e,t){e.archiveTotalPagesItemsPagination=t},archiveIncrementTotalPagination(e){e.archiveTotalItemsPagination++},archiveAddItemPagination(e,t){e.archiveItemsPagination.unshift(t),e.archiveTotalItemsPagination++},archiveUpdateItemPaginationById(e,t){let a=e.archiveItemsPagination.findIndex((e=>e.id===t.index));Object.assign(e.archiveItemsPagination[a],t)},archiveDeleteItemPagination(e,t){let a=e.archiveItemsPagination.findIndex((e=>e.id===t));e.archiveItemsPagination.splice(a,1),e.archiveTotalItemsPagination--}},actions:{getArchiveItemsPagination(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=`/${e.rootState.auth.path}/${t.path}/?page=${t.page}`;return t.hasOwnProperty("rowsPerPage")?a+=`&per_page=${t.rowsPerPage}`:a+=`&per_page=${e.state.rowsPerPagePagination}`,t.hasOwnProperty("filtersValues")&&(a+=function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t}(t.filtersValues)),new Promise(((t,s)=>{NN.get(a).then((a=>{console.log(a.data),e.commit("archiveSetItemsPagination",a.data.data.data),e.commit("archiveSetTotalItemsPagination",a.data.data.total),e.commit("archiveSetCurrentPageItemsPagination",a.data.data.current_page),e.commit("archiveSetTotalPagesItemsPagination",a.data.data.total_pages),t(a)})).catch((t=>{console.log(t);let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))},createArchive(e,t){NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token;let a=new FormData;return console.log(t),a.append("archive",t.file),a.append("archive_type_id",t.type),new Promise(((s,l)=>{NN.post("/admin/archives",a,{onUploadProgress:a=>{let s=100*a.loaded/a.total;100!=s&&e.commit("setLoadedFiles",[t.file.name,s])}}).then((a=>{let l=a.data.data;l.index=t.file.name,l.loading=!1,e.commit("archiveUpdateItemPaginationById",l,{root:!0}),e.commit("destroyLoadedFile",t.file.name),e.commit("setAlert",{message:"Success",type:"success"}),s(a)})).catch((a=>{let s=Object.keys(a.response.data.errors);e.commit("setAlert",{message:a.response.data.errors[s][0],type:"error"}),e.commit("archiveDeleteItemPagination",t.file.name),e.commit("destroyLoadedFile",t.file.name),l(a)})),e.commit("archiveAddItemPagination",{id:t.file.name,name:t.file.name.replace(".zip",""),loading:!0},{root:!0})}))},deleteArchive:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/admin/archives/${t}`).then((s=>{e.commit("archiveDeleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getArchiveTypesSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/archive-types/select").then((a=>{e.commit("setArchiveTypes",a.data.data),e.commit("setAlert",{message:"Success",type:"success"}),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getArchiveByTypeSelect:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get("/all/archives/select-by-type").then((a=>{e.commit("setArchiveWithTypes",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))})))}},VH={state:{currentServer:{name:null,tiny_host:"",tiny_port:"",tiny_login:"",tiny_password:""},servers:{id:null,ip:"",login:"",password:"",domains_path:""},serverEdited:{id:null,ip:"",login:"",password:"",domains_path:""},dialogServer:!1},getters:{servers:e=>e.servers,serverEdited:e=>e.serverEdited,currentServer:e=>e.currentServer,dialogServer:e=>e.dialogServer},mutations:{setCurrentServer(e,t){e.currentServer=t},setServers(e,t){e.servers=t},editServer(e,t){e.serverEdited=Object.assign({},t)},enableDialogServer(e){console.log(2),e.dialogServer=!0},disableDialogServer(e){e.dialogServer=!1}},actions:{createServer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/servers`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("message")&&(e.commit("setAlert",{message:t.response.data.message,type:"error"}),t.response.data.errors="");s(t)}))}))),deleteServer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/servers/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentServer:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/admin/servers/${t}`).then((t=>{e.commit("setCurrentServer",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateServer:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((e,a)=>{NN.patch(`/admin/servers/${s.item_id}`,s.data).then((a=>{t("editServer",a.data),t("setAlert",{message:"Success",type:"success"}),e(a)})).catch((e=>{let s=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[s][0],type:"error"}),a(e)}))})))}},PH={state:{services:[],serviceTypes:[],service:{data:{}},serviceCount:{}},getters:{service:e=>e.service,services:e=>e.services,serviceTypes:e=>e.serviceTypes,serviceCount:e=>e.serviceCount},mutations:{setService(e,t){e.service=t},setServices(e,t){e.services=t},setServiceTypes:(e,t)=>e.serviceTypes=t,setServiceCount:(e,t)=>e.serviceCount=t},actions:{getServiceTypes:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/services/types`).then((a=>{e.commit("setServiceTypes",a.data.data,{root:!0}),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getServiceCount:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/service-count`).then((a=>{e.commit("setServiceCount",a.data,{root:!0}),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),getServices:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/services/${t}`).then((t=>{console.log(t.data.data.data),e.commit("setServices",t.data.data.data,{root:!0}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateService:({rootState:e,commit:t},a)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((s,l)=>{NN.patch(`/${e.auth.path}/services/${a.id}`,{...a}).then((e=>{t("setAlert",{message:"Success",type:"success"}),s(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),updateServiceStatus:({rootState:e,commit:t},a)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((s,l)=>{NN.post(`/${e.auth.path}/services/update-status/${a.id}`,{...a}).then((e=>{t("setAlert",{message:"Success",type:"success"}),s(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),createService:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/services`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(console.log("pop"),console.log(t.response.data.success),t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];console.log(t.response.data.errors[a][0]),e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")?(console.log(t.response.data.error),e.commit("setAlert",{message:t.response.data.error,type:"error"})):0==t.response.data.success&&e.commit("setAlert",{message:t.response.data.message,type:"error"});s(t)}))}))),deleteService:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/services/${t}`).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},xH={state:{duplicate_leads_setting:{},settings:{}},getters:{settings:e=>e.settings,getDuplicateLeadsSettings:e=>e.duplicate_leads_setting},mutations:{setSettings(e,t){e.settings=t},setDuplicateLeadsSettings(e,t){e.duplicate_leads_setting=t}},actions:{getSettings:e=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((t,a)=>{NN.get(`/${e.rootState.auth.path}/settings`).then((a=>{e.commit("setSettings",a.data.data),t(a)})).catch((t=>{let s=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[s][0],type:"error"}),a(t)}))}))),updateSettings:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/settings`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))})))}},CH={state:{spendingCategories:{id:null,name:""}},getters:{spendingCategories:e=>e.spendingCategories},mutations:{setSpendingCategories(e,t){e.spendingCategories=t}},actions:{createSpendingCategory:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/spending-categories`,t).then((t=>{e.commit("addItemPagination",t.data.data,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),saveSpendingCategory:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.patch(`/${e.rootState.auth.path}/spending-categories/${t.data.id}`,t.data).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{if(t.response.data.hasOwnProperty("errors")){let a=Object.keys(t.response.data.errors)[0];e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"})}else t.response.data.hasOwnProperty("error")&&e.commit("setAlert",{message:t.response.data.error,type:"error"});s(t)}))}))),deleteSpendingCategory:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/spending-categories/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},IH={state:{dialogCountry:!1,currentCountry:{full_name:"",group_countries:""},currentProxy:{}},getters:{dialogCountry:e=>e.dialogCountry,currentCountry:e=>e.currentCountry,currentProxy:e=>e.currentProxy},mutations:{setCurrentCountry(e,t){e.currentCountry=t},setCurrentProxy(e,t){e.currentProxy=t},editCountry(e,t){e.cloudflareEdited=Object.assign({},t)},enableDialogCountry(e){e.dialogCountry=!0},disableDialogCountry(e){e.dialogCountry=!1}},actions:{createProxy:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/proxy`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateProxy:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.patch(`/${e.auth.path}/proxy/${s.item_id}`,s.data).then((e=>{t("editCountry",e.data),t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),createCountry:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.post(`/${e.rootState.auth.path}/country`,t).then((t=>{e.commit("setAlert",{message:"Success",type:"success"}),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentProxy:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/proxy/${t}`).then((t=>{e.commit("setCurrentProxy",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),getCurrentCountry:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.get(`/${e.rootState.auth.path}/country/${t}`).then((t=>{e.commit("setCurrentCountry",t.data.data),a(t)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),updateCountry:({rootState:e,commit:t,state:a},s)=>(NN.defaults.headers.common.Authorization="Bearer "+e.auth.token,new Promise(((a,l)=>{NN.patch(`/${e.auth.path}/country/${s.item_id}`,s.data).then((e=>{t("editCountry",e.data),t("setAlert",{message:"Success",type:"success"}),a(e)})).catch((e=>{let a=Object.keys(e.response.data.errors);t("setAlert",{message:e.response.data.errors[a][0],type:"error"}),l(e)}))}))),deleteCountry:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/country/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))}))),deleteProxy:(e,t)=>(NN.defaults.headers.common.Authorization="Bearer "+e.rootState.auth.token,new Promise(((a,s)=>{NN.delete(`/${e.rootState.auth.path}/proxy/${t}`).then((s=>{e.commit("deleteItemPagination",t,{root:!0}),e.commit("setAlert",{message:"Success",type:"success"}),a(s)})).catch((t=>{let a=Object.keys(t.response.data.errors);e.commit("setAlert",{message:t.response.data.errors[a][0],type:"error"}),s(t)}))})))}},DH=Object.assign({"./plugins/directives.ts":qe,"./plugins/i18n.ts":Xe,"./plugins/notyf.ts":it,"./plugins/nprogress.ts":rt,"./plugins/session-check.ts":nt,"./plugins/v-calendar.ts":ut,"./plugins/vue-tippy.ts":mt,"./plugins/vueform.ts":ht}),LH=ke({modules:{pagination:WN,auth:HN,leads:GN,leadsimports:qN,offers:KN,partners:XN,users:ZN,selects:QN,alert:eH,dashboard:oH,LandingNames:rH,Integration:nH,Landing:dH,Sources:uH,Filters:mH,Statistics:hH,Statuses:gH,Logs:fH,Spending:yH,Spends:vH,Domains:kH,Archives:wH,Servers:VH,Services:PH,Injects:bH,Notifications:SH,Settings:xH,spendingCategories:CH,Countries:IH}}),$H=oe(Lt);$H.use(Fe,{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}});const TH=new me({history:pe(),routes:RN});NN.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(LH.commit("destroyToken"),LH.commit("destroyRole"),LH.commit("clearAlert"),"login"!==TH.history.current.name&&TH.push({name:"login"})),Promise.reject(e)})),TH.beforeEach(((e,t,a)=>{"404"!=e.name&&"NotFound"!=e.name&&"logout"!=e.name&&e.name;if(Xr().setPageTitle(e.meta.title),e.matched.some((e=>e.meta.requiresAuth))){if(LH.getters.loggedIn){return LH.getters.getRole!=e.meta.role&&"logout"!=e.name?a({name:"login"}):a()}return a({name:"login"})}if(e.matched.some((e=>e.meta.requiresVisitor))){if(LH.getters.loggedIn){let e=LH.getters.getRole;return"admin"===e?a({path:"/admin/dashboard"}):"web_master"===e?a({path:"/webmaster/leads"}):"teamlead"===e?a({path:"/teamlead/leads"}):"manager"===e?a({path:"/manager/leads"}):"affiliate"===e?a({path:"/affiliate/leads"}):"financier"===e?a({path:"/financier/dashboard"}):"affiliate_manager"===e?a({path:"/affiliate-manager/leads"}):a()}return"logout"==t.name&&location.reload(),a()}return a()}));const AH=o();$H.use(AH),$H.use(ge()),$H.use(TH),$H.component("EasyDataTable",Ae);const OH=Ue({components:Me,directives:Ee});$H.use(OH),$H.use(ze),$H.component("v-selects",Oe),$H.use(ye),$H.mixin({methods:{globalCallback:function(e){let t=[];if(e)for(let a=0;a<e.length;a++){if(!e[a].hasOwnProperty("id"))return e;{let s=e[a];t.push(s.id)}}return t},globalCopyText(e){navigator.clipboard.writeText(e)},globalWithPopper(e,t,{width:a}){e.style.width=a;const s=Ie(t.$refs.toggle,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:[0,-1]}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:e}){t.$el.classList.toggle("drop-up","top"===e.placement)}}]});return()=>s.destroy()},globalSetFilters:function(e){let t="";for(const[a,s]of Object.entries(e))""!==s&&(Array.isArray(s)?t+=`&${a}=${s.join(",")}`:"string"!=typeof s&&"number"!=typeof s||(t+=`&${a}=${s}`));return t},globalDateFormat(e){let t=new Date(e);var a=t.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return(s<=9?"0"+s:s)+" "+(a<=9?"0"+a:a)+", "+t.getFullYear()}}});const FH=ge(),UH={app:$H,router:TH,head:AH,pinia:FH};$H.provide("vuero",UH);for(const EH in DH)try{const{default:e}=DH[EH];e(UH)}catch(MH){console.error(`Error while loading plugin "${EH}".`),console.error(MH)}$H.use(LH),$H.mount("#app"),$H.config.devtools=!0;export{$z as _,Jt as a,Fk as b,Qr as c,$i as d,bt as e,hr as f,xi as g,ur as h,Ft as i,Et as j,Nt as k,ft as l,It as m,av as n,Ci as o,jT as p,sv as q,ba as r,Hi as s,Xr as u};
